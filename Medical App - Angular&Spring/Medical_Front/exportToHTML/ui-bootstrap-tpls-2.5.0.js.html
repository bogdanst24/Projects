<html>
<head>
<title>ui-bootstrap-tpls-2.5.0.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #606366; font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(106,135,89); }
.s3 { color: rgb(204,120,50); }
.s4 { color: rgb(204,120,50); font-weight: bold; }
.s5 { color: rgb(104,151,187); }
.s6 { color: rgb(98,151,85); font-style: italic; }
.s7 { color: rgb(98,151,85); font-weight: bold; font-style: italic; }
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
ui-bootstrap-tpls-2.5.0.js</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">/* 
 * angular-ui-bootstrap 
 * http://angular-ui.github.io/bootstrap/ 
 
 * Version: 2.5.0 - 2017-01-28 
 * License: MIT 
 */</span><span class="s1">angular.module(</span><span class="s2">&quot;ui.bootstrap&quot;</span><span class="s3">, </span><span class="s1">[</span><span class="s2">&quot;ui.bootstrap.tpls&quot;</span><span class="s3">, </span><span class="s2">&quot;ui.bootstrap.collapse&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.tabindex&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.accordion&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.alert&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.buttons&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.carousel&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.dateparser&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.isClass&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.datepicker&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.position&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.datepickerPopup&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.debounce&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.multiMap&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.dropdown&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.stackedMap&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.modal&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.paging&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.pager&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.pagination&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.tooltip&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.popover&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.progressbar&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.rating&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.tabs&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.timepicker&quot;</span><span class="s3">,</span><span class="s2">&quot;ui.bootstrap.typeahead&quot;</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">&quot;ui.bootstrap.tpls&quot;</span><span class="s3">, </span><span class="s1">[</span><span class="s2">&quot;uib/template/accordion/accordion-group.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/accordion/accordion.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/alert/alert.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/carousel/carousel.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/carousel/slide.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/datepicker/datepicker.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/datepicker/day.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/datepicker/month.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/datepicker/year.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/datepickerPopup/popup.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/modal/window.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/pager/pager.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/pagination/pagination.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/tooltip/tooltip-html-popup.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/tooltip/tooltip-popup.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/tooltip/tooltip-template-popup.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/popover/popover-html.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/popover/popover-template.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/popover/popover.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/progressbar/bar.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/progressbar/progress.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/progressbar/progressbar.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/rating/rating.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/tabs/tab.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/tabs/tabset.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/timepicker/timepicker.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/typeahead/typeahead-match.html&quot;</span><span class="s3">,</span><span class="s2">&quot;uib/template/typeahead/typeahead-popup.html&quot;</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.collapse'</span><span class="s3">, </span><span class="s1">[]) 
 
  .directive(</span><span class="s2">'uibCollapse'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$injector'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($animate</span><span class="s3">, </span><span class="s1">$q</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$injector) { 
    </span><span class="s4">var </span><span class="s1">$animateCss = $injector.has(</span><span class="s2">'$animateCss'</span><span class="s1">) ? $injector.get(</span><span class="s2">'$animateCss'</span><span class="s1">) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">{ 
      link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
        </span><span class="s4">var </span><span class="s1">expandingExpr = $parse(attrs.expanding)</span><span class="s3">,</span><span class="s1"> 
          expandedExpr = $parse(attrs.expanded)</span><span class="s3">,</span><span class="s1"> 
          collapsingExpr = $parse(attrs.collapsing)</span><span class="s3">,</span><span class="s1"> 
          collapsedExpr = $parse(attrs.collapsed)</span><span class="s3">,</span><span class="s1"> 
          horizontal = </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
          css = {}</span><span class="s3">,</span><span class="s1"> 
          cssTo = {}</span><span class="s3">;</span><span class="s1"> 
 
        init()</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">function </span><span class="s1">init() { 
          horizontal = !!(</span><span class="s2">'horizontal' </span><span class="s4">in </span><span class="s1">attrs)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(horizontal) { 
            css = { 
              width: </span><span class="s2">''</span><span class="s1"> 
            }</span><span class="s3">;</span><span class="s1"> 
            cssTo = {width: </span><span class="s2">'0'</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            css = { 
              height: </span><span class="s2">''</span><span class="s1"> 
            }</span><span class="s3">;</span><span class="s1"> 
            cssTo = {height: </span><span class="s2">'0'</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
          } 
          </span><span class="s4">if </span><span class="s1">(!scope.$eval(attrs.uibCollapse)) { 
            element.addClass(</span><span class="s2">'in'</span><span class="s1">) 
              .addClass(</span><span class="s2">'collapse'</span><span class="s1">) 
              .attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">) 
              .attr(</span><span class="s2">'aria-hidden'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">) 
              .css(css)</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
 
        </span><span class="s4">function </span><span class="s1">getScrollFromElement(element) { 
          </span><span class="s4">if </span><span class="s1">(horizontal) { 
            </span><span class="s4">return </span><span class="s1">{width: element.scrollWidth + </span><span class="s2">'px'</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
          } 
          </span><span class="s4">return </span><span class="s1">{height: element.scrollHeight + </span><span class="s2">'px'</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">function </span><span class="s1">expand() { 
          </span><span class="s4">if </span><span class="s1">(element.hasClass(</span><span class="s2">'collapse'</span><span class="s1">) &amp;&amp; element.hasClass(</span><span class="s2">'in'</span><span class="s1">)) { 
            </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
          } 
 
          $q.resolve(expandingExpr(scope)) 
            .then(</span><span class="s4">function</span><span class="s1">() { 
              element.removeClass(</span><span class="s2">'collapse'</span><span class="s1">) 
                .addClass(</span><span class="s2">'collapsing'</span><span class="s1">) 
                .attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">) 
                .attr(</span><span class="s2">'aria-hidden'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">($animateCss) { 
                $animateCss(element</span><span class="s3">, </span><span class="s1">{ 
                  addClass: </span><span class="s2">'in'</span><span class="s3">,</span><span class="s1"> 
                  easing: </span><span class="s2">'ease'</span><span class="s3">,</span><span class="s1"> 
                  css: { 
                    overflow: </span><span class="s2">'hidden'</span><span class="s1"> 
                  }</span><span class="s3">,</span><span class="s1"> 
                  to: getScrollFromElement(element[</span><span class="s5">0</span><span class="s1">]) 
                }).start()[</span><span class="s2">'finally'</span><span class="s1">](expandDone)</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                $animate.addClass(element</span><span class="s3">, </span><span class="s2">'in'</span><span class="s3">, </span><span class="s1">{ 
                  css: { 
                    overflow: </span><span class="s2">'hidden'</span><span class="s1"> 
                  }</span><span class="s3">,</span><span class="s1"> 
                  to: getScrollFromElement(element[</span><span class="s5">0</span><span class="s1">]) 
                }).then(expandDone)</span><span class="s3">;</span><span class="s1"> 
              } 
            }</span><span class="s3">, </span><span class="s1">angular.noop)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">function </span><span class="s1">expandDone() { 
          element.removeClass(</span><span class="s2">'collapsing'</span><span class="s1">) 
            .addClass(</span><span class="s2">'collapse'</span><span class="s1">) 
            .css(css)</span><span class="s3">;</span><span class="s1"> 
          expandedExpr(scope)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">function </span><span class="s1">collapse() { 
          </span><span class="s4">if </span><span class="s1">(!element.hasClass(</span><span class="s2">'collapse'</span><span class="s1">) &amp;&amp; !element.hasClass(</span><span class="s2">'in'</span><span class="s1">)) { 
            </span><span class="s4">return </span><span class="s1">collapseDone()</span><span class="s3">;</span><span class="s1"> 
          } 
 
          $q.resolve(collapsingExpr(scope)) 
            .then(</span><span class="s4">function</span><span class="s1">() { 
              element 
              </span><span class="s0">// IMPORTANT: The width must be set before adding &quot;collapsing&quot; class.</span><span class="s1"> 
              </span><span class="s0">// Otherwise, the browser attempts to animate from width 0 (in</span><span class="s1"> 
              </span><span class="s0">// collapsing class) to the given width here.</span><span class="s1"> 
                .css(getScrollFromElement(element[</span><span class="s5">0</span><span class="s1">])) 
                </span><span class="s0">// initially all panel collapse have the collapse class, this removal</span><span class="s1"> 
                </span><span class="s0">// prevents the animation from jumping to collapsed state</span><span class="s1"> 
                .removeClass(</span><span class="s2">'collapse'</span><span class="s1">) 
                .addClass(</span><span class="s2">'collapsing'</span><span class="s1">) 
                .attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">) 
                .attr(</span><span class="s2">'aria-hidden'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">($animateCss) { 
                $animateCss(element</span><span class="s3">, </span><span class="s1">{ 
                  removeClass: </span><span class="s2">'in'</span><span class="s3">,</span><span class="s1"> 
                  to: cssTo 
                }).start()[</span><span class="s2">'finally'</span><span class="s1">](collapseDone)</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                $animate.removeClass(element</span><span class="s3">, </span><span class="s2">'in'</span><span class="s3">, </span><span class="s1">{ 
                  to: cssTo 
                }).then(collapseDone)</span><span class="s3">;</span><span class="s1"> 
              } 
            }</span><span class="s3">, </span><span class="s1">angular.noop)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">function </span><span class="s1">collapseDone() { 
          element.css(cssTo)</span><span class="s3">; </span><span class="s0">// Required so that collapse works when animation is disabled</span><span class="s1"> 
          element.removeClass(</span><span class="s2">'collapsing'</span><span class="s1">) 
            .addClass(</span><span class="s2">'collapse'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          collapsedExpr(scope)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        scope.$watch(attrs.uibCollapse</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(shouldCollapse) { 
          </span><span class="s4">if </span><span class="s1">(shouldCollapse) { 
            collapse()</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            expand()</span><span class="s3">;</span><span class="s1"> 
          } 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.tabindex'</span><span class="s3">, </span><span class="s1">[]) 
 
.directive(</span><span class="s2">'uibTabindexToggle'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">elem</span><span class="s3">, </span><span class="s1">attrs) { 
      attrs.$observe(</span><span class="s2">'disabled'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(disabled) { 
        attrs.$set(</span><span class="s2">'tabindex'</span><span class="s3">, </span><span class="s1">disabled ? -</span><span class="s5">1 </span><span class="s1">: </span><span class="s4">null</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.accordion'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.collapse'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.tabindex'</span><span class="s1">]) 
 
.constant(</span><span class="s2">'uibAccordionConfig'</span><span class="s3">, </span><span class="s1">{ 
  closeOthers: </span><span class="s4">true</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibAccordionController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'uibAccordionConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">accordionConfig) { 
  </span><span class="s0">// This array keeps track of the accordion groups</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.groups = []</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.closeOthers = </span><span class="s4">function</span><span class="s1">(openGroup) { 
    </span><span class="s4">var </span><span class="s1">closeOthers = angular.isDefined($attrs.closeOthers) ? 
      $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(closeOthers) { 
      angular.forEach(</span><span class="s4">this</span><span class="s1">.groups</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(group) { 
        </span><span class="s4">if </span><span class="s1">(group !== openGroup) { 
          group.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// This is called from the accordion-group directive to add itself to the accordion</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.addGroup = </span><span class="s4">function</span><span class="s1">(groupScope) { 
    </span><span class="s4">var </span><span class="s1">that = </span><span class="s4">this</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.groups.push(groupScope)</span><span class="s3">;</span><span class="s1"> 
 
    groupScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(event) { 
      that.removeGroup(groupScope)</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// This is called from the accordion-group directive when to remove itself</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.removeGroup = </span><span class="s4">function</span><span class="s1">(group) { 
    </span><span class="s4">var </span><span class="s1">index = </span><span class="s4">this</span><span class="s1">.groups.indexOf(group)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(index !== -</span><span class="s5">1</span><span class="s1">) { 
      </span><span class="s4">this</span><span class="s1">.groups.splice(index</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
</span><span class="s0">// The accordion directive simply sets up the directive controller</span><span class="s1"> 
</span><span class="s0">// and adds an accordion CSS class to itself element.</span><span class="s1"> 
.directive(</span><span class="s2">'uibAccordion'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    controller: </span><span class="s2">'UibAccordionController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'accordion'</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/accordion/accordion.html'</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
</span><span class="s0">// The accordion-group directive indicates a block of html that will expand and collapse in an accordion</span><span class="s1"> 
.directive(</span><span class="s2">'uibAccordionGroup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: </span><span class="s2">'^uibAccordion'</span><span class="s3">,         </span><span class="s0">// We need this directive to be inside an accordion</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,              </span><span class="s0">// It transcludes the contents of the directive into the template</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/accordion/accordion-group.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      heading: </span><span class="s2">'@'</span><span class="s3">,               </span><span class="s0">// Interpolate the heading attribute onto this scope</span><span class="s1"> 
      panelClass: </span><span class="s2">'@?'</span><span class="s3">,           </span><span class="s0">// Ditto with panelClass</span><span class="s1"> 
      isOpen: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      isDisabled: </span><span class="s2">'=?'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">this</span><span class="s1">.setHeading = </span><span class="s4">function</span><span class="s1">(element) { 
        </span><span class="s4">this</span><span class="s1">.heading = element</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">accordionCtrl) { 
      element.addClass(</span><span class="s2">'panel'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      accordionCtrl.addGroup(scope)</span><span class="s3">;</span><span class="s1"> 
 
      scope.openClass = attrs.openClass || </span><span class="s2">'panel-open'</span><span class="s3">;</span><span class="s1"> 
      scope.panelClass = attrs.panelClass || </span><span class="s2">'panel-default'</span><span class="s3">;</span><span class="s1"> 
      scope.$watch(</span><span class="s2">'isOpen'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
        element.toggleClass(scope.openClass</span><span class="s3">, </span><span class="s1">!!value)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(value) { 
          accordionCtrl.closeOthers(scope)</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
 
      scope.toggleOpen = </span><span class="s4">function</span><span class="s1">($event) { 
        </span><span class="s4">if </span><span class="s1">(!scope.isDisabled) { 
          </span><span class="s4">if </span><span class="s1">(!$event || $event.which === </span><span class="s5">32</span><span class="s1">) { 
            scope.isOpen = !scope.isOpen</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">id = </span><span class="s2">'accordiongroup-' </span><span class="s1">+ scope.$id + </span><span class="s2">'-' </span><span class="s1">+ Math.floor(Math.random() * </span><span class="s5">10000</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      scope.headingId = id + </span><span class="s2">'-tab'</span><span class="s3">;</span><span class="s1"> 
      scope.panelId = id + </span><span class="s2">'-panel'</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
</span><span class="s0">// Use accordion-heading below an accordion-group to provide a heading containing HTML</span><span class="s1"> 
.directive(</span><span class="s2">'uibAccordionHeading'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    transclude: </span><span class="s4">true</span><span class="s3">,   </span><span class="s0">// Grab the contents to be used as the heading</span><span class="s1"> 
    template: </span><span class="s2">''</span><span class="s3">,       </span><span class="s0">// In effect remove this element!</span><span class="s1"> 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'^uibAccordionGroup'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">accordionGroupCtrl</span><span class="s3">, </span><span class="s1">transclude) { 
      </span><span class="s0">// Pass the heading to the accordion-group controller</span><span class="s1"> 
      </span><span class="s0">// so that it can be transcluded into the right place in the template</span><span class="s1"> 
      </span><span class="s0">// [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]</span><span class="s1"> 
      accordionGroupCtrl.setHeading(transclude(scope</span><span class="s3">, </span><span class="s1">angular.noop))</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
</span><span class="s0">// Use in the accordion-group template to indicate where you want the heading to be transcluded</span><span class="s1"> 
</span><span class="s0">// You must provide the property on the accordion-group controller that will hold the transcluded element</span><span class="s1"> 
.directive(</span><span class="s2">'uibAccordionTransclude'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: </span><span class="s2">'^uibAccordionGroup'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">controller) { 
      scope.$watch(</span><span class="s4">function</span><span class="s1">() { </span><span class="s4">return </span><span class="s1">controller[attrs.uibAccordionTransclude]</span><span class="s3">; </span><span class="s1">}</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(heading) { 
        </span><span class="s4">if </span><span class="s1">(heading) { 
          </span><span class="s4">var </span><span class="s1">elem = angular.element(element[</span><span class="s5">0</span><span class="s1">].querySelector(getHeaderSelectors()))</span><span class="s3">;</span><span class="s1"> 
          elem.html(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          elem.append(heading)</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getHeaderSelectors() { 
      </span><span class="s4">return </span><span class="s2">'uib-accordion-header,' </span><span class="s1">+ 
          </span><span class="s2">'data-uib-accordion-header,' </span><span class="s1">+ 
          </span><span class="s2">'x-uib-accordion-header,' </span><span class="s1">+ 
          </span><span class="s2">'uib</span><span class="s3">\\</span><span class="s2">:accordion-header,' </span><span class="s1">+ 
          </span><span class="s2">'[uib-accordion-header],' </span><span class="s1">+ 
          </span><span class="s2">'[data-uib-accordion-header],' </span><span class="s1">+ 
          </span><span class="s2">'[x-uib-accordion-header]'</span><span class="s3">;</span><span class="s1"> 
  } 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.alert'</span><span class="s3">, </span><span class="s1">[]) 
 
.controller(</span><span class="s2">'UibAlertController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$interpolate'</span><span class="s3">, </span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$interpolate</span><span class="s3">, </span><span class="s1">$timeout) { 
  $scope.closeable = !!$attrs.close</span><span class="s3">;</span><span class="s1"> 
  $element.addClass(</span><span class="s2">'alert'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  $attrs.$set(</span><span class="s2">'role'</span><span class="s3">, </span><span class="s2">'alert'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($scope.closeable) { 
    $element.addClass(</span><span class="s2">'alert-dismissible'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">var </span><span class="s1">dismissOnTimeout = angular.isDefined($attrs.dismissOnTimeout) ? 
    $interpolate($attrs.dismissOnTimeout)($scope.$parent) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">if </span><span class="s1">(dismissOnTimeout) { 
    $timeout(</span><span class="s4">function</span><span class="s1">() { 
      $scope.close()</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">, </span><span class="s1">parseInt(dismissOnTimeout</span><span class="s3">, </span><span class="s5">10</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
  } 
}]) 
 
.directive(</span><span class="s2">'uibAlert'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    controller: </span><span class="s2">'UibAlertController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'alert'</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/alert/alert.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      close: </span><span class="s2">'&amp;'</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.buttons'</span><span class="s3">, </span><span class="s1">[]) 
 
.constant(</span><span class="s2">'uibButtonConfig'</span><span class="s3">, </span><span class="s1">{ 
  activeClass: </span><span class="s2">'active'</span><span class="s3">,</span><span class="s1"> 
  toggleEvent: </span><span class="s2">'click'</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibButtonsController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'uibButtonConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(buttonConfig) { 
  </span><span class="s4">this</span><span class="s1">.activeClass = buttonConfig.activeClass || </span><span class="s2">'active'</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.toggleEvent = buttonConfig.toggleEvent || </span><span class="s2">'click'</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibBtnRadio'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($parse) { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: [</span><span class="s2">'uibBtnRadio'</span><span class="s3">, </span><span class="s2">'ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibButtonsController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'buttons'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">buttonsCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">uncheckableExpr = $parse(attrs.uibUncheckable)</span><span class="s3">;</span><span class="s1"> 
 
      element.find(</span><span class="s2">'input'</span><span class="s1">).css({display: </span><span class="s2">'none'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//model -&gt; UI</span><span class="s1"> 
      ngModelCtrl.$render = </span><span class="s4">function</span><span class="s1">() { 
        element.toggleClass(buttonsCtrl.activeClass</span><span class="s3">, </span><span class="s1">angular.equals(ngModelCtrl.$modelValue</span><span class="s3">, </span><span class="s1">scope.$eval(attrs.uibBtnRadio)))</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//ui-&gt;model</span><span class="s1"> 
      element.on(buttonsCtrl.toggleEvent</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">if </span><span class="s1">(attrs.disabled) { 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">isActive = element.hasClass(buttonsCtrl.activeClass)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(!isActive || angular.isDefined(attrs.uncheckable)) { 
          scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
            ngModelCtrl.$setViewValue(isActive ? </span><span class="s4">null </span><span class="s1">: scope.$eval(attrs.uibBtnRadio))</span><span class="s3">;</span><span class="s1"> 
            ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(attrs.uibUncheckable) { 
        scope.$watch(uncheckableExpr</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(uncheckable) { 
          attrs.$set(</span><span class="s2">'uncheckable'</span><span class="s3">, </span><span class="s1">uncheckable ? </span><span class="s2">'' </span><span class="s1">: undefined)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibBtnCheckbox'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: [</span><span class="s2">'uibBtnCheckbox'</span><span class="s3">, </span><span class="s2">'ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibButtonsController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'button'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">buttonsCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      element.find(</span><span class="s2">'input'</span><span class="s1">).css({display: </span><span class="s2">'none'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">function </span><span class="s1">getTrueValue() { 
        </span><span class="s4">return </span><span class="s1">getCheckboxValue(attrs.btnCheckboxTrue</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">getFalseValue() { 
        </span><span class="s4">return </span><span class="s1">getCheckboxValue(attrs.btnCheckboxFalse</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">getCheckboxValue(attribute</span><span class="s3">, </span><span class="s1">defaultValue) { 
        </span><span class="s4">return </span><span class="s1">angular.isDefined(attribute) ? scope.$eval(attribute) : defaultValue</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s0">//model -&gt; UI</span><span class="s1"> 
      ngModelCtrl.$render = </span><span class="s4">function</span><span class="s1">() { 
        element.toggleClass(buttonsCtrl.activeClass</span><span class="s3">, </span><span class="s1">angular.equals(ngModelCtrl.$modelValue</span><span class="s3">, </span><span class="s1">getTrueValue()))</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//ui-&gt;model</span><span class="s1"> 
      element.on(buttonsCtrl.toggleEvent</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">if </span><span class="s1">(attrs.disabled) { 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
 
        scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
          ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue())</span><span class="s3">;</span><span class="s1"> 
          ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.carousel'</span><span class="s3">, </span><span class="s1">[]) 
 
.controller(</span><span class="s2">'UibCarouselController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$interval'</span><span class="s3">, </span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$interval</span><span class="s3">, </span><span class="s1">$timeout</span><span class="s3">, </span><span class="s1">$animate) { 
  </span><span class="s4">var </span><span class="s1">self = </span><span class="s4">this</span><span class="s3">,</span><span class="s1"> 
    slides = self.slides = $scope.slides = []</span><span class="s3">,</span><span class="s1"> 
    SLIDE_DIRECTION = </span><span class="s2">'uib-slideDirection'</span><span class="s3">,</span><span class="s1"> 
    currentIndex = $scope.active</span><span class="s3">,</span><span class="s1"> 
    currentInterval</span><span class="s3">, </span><span class="s1">isPlaying</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">destroyed = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  $element.addClass(</span><span class="s2">'carousel'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  self.addSlide = </span><span class="s4">function</span><span class="s1">(slide</span><span class="s3">, </span><span class="s1">element) { 
    slides.push({ 
      slide: slide</span><span class="s3">,</span><span class="s1"> 
      element: element 
    })</span><span class="s3">;</span><span class="s1"> 
    slides.sort(</span><span class="s4">function</span><span class="s1">(a</span><span class="s3">, </span><span class="s1">b) { 
      </span><span class="s4">return </span><span class="s1">+a.slide.index - +b.slide.index</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">//if this is the first slide or the slide is set to active, select it</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(slide.index === $scope.active || slides.length === </span><span class="s5">1 </span><span class="s1">&amp;&amp; !angular.isNumber($scope.active)) { 
      </span><span class="s4">if </span><span class="s1">($scope.$currentTransition) { 
        $scope.$currentTransition = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      } 
 
      currentIndex = slide.index</span><span class="s3">;</span><span class="s1"> 
      $scope.active = slide.index</span><span class="s3">;</span><span class="s1"> 
      setActive(currentIndex)</span><span class="s3">;</span><span class="s1"> 
      self.select(slides[findSlideIndex(slide)])</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(slides.length === </span><span class="s5">1</span><span class="s1">) { 
        $scope.play()</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  self.getCurrentIndex = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; slides.length</span><span class="s3">; </span><span class="s1">i++) { 
      </span><span class="s4">if </span><span class="s1">(slides[i].slide.index === currentIndex) { 
        </span><span class="s4">return </span><span class="s1">i</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  self.next = $scope.next = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">newIndex = (self.getCurrentIndex() + </span><span class="s5">1</span><span class="s1">) % slides.length</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(newIndex === </span><span class="s5">0 </span><span class="s1">&amp;&amp; $scope.noWrap()) { 
      $scope.pause()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">self.select(slides[newIndex]</span><span class="s3">, </span><span class="s2">'next'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  self.prev = $scope.prev = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">newIndex = self.getCurrentIndex() - </span><span class="s5">1 </span><span class="s1">&lt; </span><span class="s5">0 </span><span class="s1">? slides.length - </span><span class="s5">1 </span><span class="s1">: self.getCurrentIndex() - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">($scope.noWrap() &amp;&amp; newIndex === slides.length - </span><span class="s5">1</span><span class="s1">) { 
      $scope.pause()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">self.select(slides[newIndex]</span><span class="s3">, </span><span class="s2">'prev'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  self.removeSlide = </span><span class="s4">function</span><span class="s1">(slide) { 
    </span><span class="s4">var </span><span class="s1">index = findSlideIndex(slide)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//get the index of the slide inside the carousel</span><span class="s1"> 
    slides.splice(index</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(slides.length &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; currentIndex === index) { 
      </span><span class="s4">if </span><span class="s1">(index &gt;= slides.length) { 
        currentIndex = slides.length - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        $scope.active = currentIndex</span><span class="s3">;</span><span class="s1"> 
        setActive(currentIndex)</span><span class="s3">;</span><span class="s1"> 
        self.select(slides[slides.length - </span><span class="s5">1</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        currentIndex = index</span><span class="s3">;</span><span class="s1"> 
        $scope.active = currentIndex</span><span class="s3">;</span><span class="s1"> 
        setActive(currentIndex)</span><span class="s3">;</span><span class="s1"> 
        self.select(slides[index])</span><span class="s3">;</span><span class="s1"> 
      } 
    } </span><span class="s4">else if </span><span class="s1">(currentIndex &gt; index) { 
      currentIndex--</span><span class="s3">;</span><span class="s1"> 
      $scope.active = currentIndex</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">//clean the active value when no more slide</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(slides.length === </span><span class="s5">0</span><span class="s1">) { 
      currentIndex = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      $scope.active = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">/* direction: &quot;prev&quot; or &quot;next&quot; */</span><span class="s1"> 
  self.select = $scope.select = </span><span class="s4">function</span><span class="s1">(nextSlide</span><span class="s3">, </span><span class="s1">direction) { 
    </span><span class="s4">var </span><span class="s1">nextIndex = findSlideIndex(nextSlide.slide)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">//Decide direction if it's not given</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(direction === undefined) { 
      direction = nextIndex &gt; self.getCurrentIndex() ? </span><span class="s2">'next' </span><span class="s1">: </span><span class="s2">'prev'</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s0">//Prevent this user-triggered transition from occurring if there is already one in progress</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(nextSlide.slide.index !== currentIndex &amp;&amp; 
      !$scope.$currentTransition) { 
      goNext(nextSlide.slide</span><span class="s3">, </span><span class="s1">nextIndex</span><span class="s3">, </span><span class="s1">direction)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">/* Allow outside people to call indexOf on slides array */</span><span class="s1"> 
  $scope.indexOfSlide = </span><span class="s4">function</span><span class="s1">(slide) { 
    </span><span class="s4">return </span><span class="s1">+slide.slide.index</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.isActive = </span><span class="s4">function</span><span class="s1">(slide) { 
    </span><span class="s4">return </span><span class="s1">$scope.active === slide.slide.index</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.isPrevDisabled = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">$scope.active === </span><span class="s5">0 </span><span class="s1">&amp;&amp; $scope.noWrap()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.isNextDisabled = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">$scope.active === slides.length - </span><span class="s5">1 </span><span class="s1">&amp;&amp; $scope.noWrap()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.pause = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noPause) { 
      isPlaying = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      resetTimer()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.play = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!isPlaying) { 
      isPlaying = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      restartTimer()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $element.on(</span><span class="s2">'mouseenter'</span><span class="s3">, </span><span class="s1">$scope.pause)</span><span class="s3">;</span><span class="s1"> 
  $element.on(</span><span class="s2">'mouseleave'</span><span class="s3">, </span><span class="s1">$scope.play)</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    destroyed = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
    resetTimer()</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$watch(</span><span class="s2">'noTransition'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(noTransition) { 
    $animate.enabled($element</span><span class="s3">, </span><span class="s1">!noTransition)</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$watch(</span><span class="s2">'interval'</span><span class="s3">, </span><span class="s1">restartTimer)</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$watchCollection(</span><span class="s2">'slides'</span><span class="s3">, </span><span class="s1">resetTransition)</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$watch(</span><span class="s2">'active'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(index) { 
    </span><span class="s4">if </span><span class="s1">(angular.isNumber(index) &amp;&amp; currentIndex !== index) { 
      </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; slides.length</span><span class="s3">; </span><span class="s1">i++) { 
        </span><span class="s4">if </span><span class="s1">(slides[i].slide.index === index) { 
          index = i</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">var </span><span class="s1">slide = slides[index]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(slide) { 
        setActive(index)</span><span class="s3">;</span><span class="s1"> 
        self.select(slides[index])</span><span class="s3">;</span><span class="s1"> 
        currentIndex = index</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getSlideByIndex(index) { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">, </span><span class="s1">l = slides.length</span><span class="s3">; </span><span class="s1">i &lt; l</span><span class="s3">; </span><span class="s1">++i) { 
      </span><span class="s4">if </span><span class="s1">(slides[i].index === index) { 
        </span><span class="s4">return </span><span class="s1">slides[i]</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">setActive(index) { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; slides.length</span><span class="s3">; </span><span class="s1">i++) { 
      slides[i].slide.active = i === index</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">goNext(slide</span><span class="s3">, </span><span class="s1">index</span><span class="s3">, </span><span class="s1">direction) { 
    </span><span class="s4">if </span><span class="s1">(destroyed) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    angular.extend(slide</span><span class="s3">, </span><span class="s1">{direction: direction})</span><span class="s3">;</span><span class="s1"> 
    angular.extend(slides[currentIndex].slide || {}</span><span class="s3">, </span><span class="s1">{direction: direction})</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">($animate.enabled($element) &amp;&amp; !$scope.$currentTransition &amp;&amp; 
      slides[index].element &amp;&amp; self.slides.length &gt; </span><span class="s5">1</span><span class="s1">) { 
      slides[index].element.data(SLIDE_DIRECTION</span><span class="s3">, </span><span class="s1">slide.direction)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">currentIdx = self.getCurrentIndex()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(angular.isNumber(currentIdx) &amp;&amp; slides[currentIdx].element) { 
        slides[currentIdx].element.data(SLIDE_DIRECTION</span><span class="s3">, </span><span class="s1">slide.direction)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      $scope.$currentTransition = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      $animate.on(</span><span class="s2">'addClass'</span><span class="s3">, </span><span class="s1">slides[index].element</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">phase) { 
        </span><span class="s4">if </span><span class="s1">(phase === </span><span class="s2">'close'</span><span class="s1">) { 
          $scope.$currentTransition = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          $animate.off(</span><span class="s2">'addClass'</span><span class="s3">, </span><span class="s1">element)</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    $scope.active = slide.index</span><span class="s3">;</span><span class="s1"> 
    currentIndex = slide.index</span><span class="s3">;</span><span class="s1"> 
    setActive(index)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//every time you change slides, reset the timer</span><span class="s1"> 
    restartTimer()</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">findSlideIndex(slide) { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; slides.length</span><span class="s3">; </span><span class="s1">i++) { 
      </span><span class="s4">if </span><span class="s1">(slides[i].slide === slide) { 
        </span><span class="s4">return </span><span class="s1">i</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">resetTimer() { 
    </span><span class="s4">if </span><span class="s1">(currentInterval) { 
      $interval.cancel(currentInterval)</span><span class="s3">;</span><span class="s1"> 
      currentInterval = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">resetTransition(slides) { 
    </span><span class="s4">if </span><span class="s1">(!slides.length) { 
      $scope.$currentTransition = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">restartTimer() { 
    resetTimer()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">interval = +$scope.interval</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!isNaN(interval) &amp;&amp; interval &gt; </span><span class="s5">0</span><span class="s1">) { 
      currentInterval = $interval(timerFn</span><span class="s3">, </span><span class="s1">interval)</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">timerFn() { 
    </span><span class="s4">var </span><span class="s1">interval = +$scope.interval</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(isPlaying &amp;&amp; !isNaN(interval) &amp;&amp; interval &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; slides.length) { 
      $scope.next()</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      $scope.pause()</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
}]) 
 
.directive(</span><span class="s2">'uibCarousel'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibCarouselController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'carousel'</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/carousel/carousel.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      active: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      interval: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      noTransition: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      noPause: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      noWrap: </span><span class="s2">'&amp;'</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibSlide'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($animate) { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: </span><span class="s2">'^uibCarousel'</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/carousel/slide.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      actual: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      index: </span><span class="s2">'=?'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function </span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">carouselCtrl) { 
      element.addClass(</span><span class="s2">'item'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      carouselCtrl.addSlide(scope</span><span class="s3">, </span><span class="s1">element)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s0">//when the scope is destroyed then remove the slide from the current slides array</span><span class="s1"> 
      scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        carouselCtrl.removeSlide(scope)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      scope.$watch(</span><span class="s2">'active'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(active) { 
        $animate[active ? </span><span class="s2">'addClass' </span><span class="s1">: </span><span class="s2">'removeClass'</span><span class="s1">](element</span><span class="s3">, </span><span class="s2">'active'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.animation(</span><span class="s2">'.item'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animateCss'</span><span class="s3">,</span><span class="s1"> 
</span><span class="s4">function</span><span class="s1">($animateCss) { 
  </span><span class="s4">var </span><span class="s1">SLIDE_DIRECTION = </span><span class="s2">'uib-slideDirection'</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">removeClass(element</span><span class="s3">, </span><span class="s1">className</span><span class="s3">, </span><span class="s1">callback) { 
    element.removeClass(className)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(callback) { 
      callback()</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">return </span><span class="s1">{ 
    beforeAddClass: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">className</span><span class="s3">, </span><span class="s1">done) { 
      </span><span class="s4">if </span><span class="s1">(className === </span><span class="s2">'active'</span><span class="s1">) { 
        </span><span class="s4">var </span><span class="s1">stopped = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">direction = element.data(SLIDE_DIRECTION)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">directionClass = direction === </span><span class="s2">'next' </span><span class="s1">? </span><span class="s2">'left' </span><span class="s1">: </span><span class="s2">'right'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">removeClassFn = removeClass.bind(</span><span class="s4">this</span><span class="s3">, </span><span class="s1">element</span><span class="s3">,</span><span class="s1"> 
          directionClass + </span><span class="s2">' ' </span><span class="s1">+ direction</span><span class="s3">, </span><span class="s1">done)</span><span class="s3">;</span><span class="s1"> 
        element.addClass(direction)</span><span class="s3">;</span><span class="s1"> 
 
        $animateCss(element</span><span class="s3">, </span><span class="s1">{addClass: directionClass}) 
          .start() 
          .done(removeClassFn)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return function</span><span class="s1">() { 
          stopped = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
      done()</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    beforeRemoveClass: </span><span class="s4">function </span><span class="s1">(element</span><span class="s3">, </span><span class="s1">className</span><span class="s3">, </span><span class="s1">done) { 
      </span><span class="s4">if </span><span class="s1">(className === </span><span class="s2">'active'</span><span class="s1">) { 
        </span><span class="s4">var </span><span class="s1">stopped = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">direction = element.data(SLIDE_DIRECTION)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">directionClass = direction === </span><span class="s2">'next' </span><span class="s1">? </span><span class="s2">'left' </span><span class="s1">: </span><span class="s2">'right'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">removeClassFn = removeClass.bind(</span><span class="s4">this</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">directionClass</span><span class="s3">, </span><span class="s1">done)</span><span class="s3">;</span><span class="s1"> 
 
        $animateCss(element</span><span class="s3">, </span><span class="s1">{addClass: directionClass}) 
          .start() 
          .done(removeClassFn)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return function</span><span class="s1">() { 
          stopped = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
      done()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.dateparser'</span><span class="s3">, </span><span class="s1">[]) 
 
.service(</span><span class="s2">'uibDateParser'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$log'</span><span class="s3">, </span><span class="s2">'$locale'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s2">'orderByFilter'</span><span class="s3">, </span><span class="s2">'filterFilter'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($log</span><span class="s3">, </span><span class="s1">$locale</span><span class="s3">, </span><span class="s1">dateFilter</span><span class="s3">, </span><span class="s1">orderByFilter</span><span class="s3">, </span><span class="s1">filterFilter) { 
  </span><span class="s0">// Pulled from https://github.com/mbostock/d3/blob/master/src/format/requote.js</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">SPECIAL_CHARACTERS_REGEXP = </span><span class="s2">/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">localeId</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">formatCodeToRegex</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">() { 
    localeId = $locale.id</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">this</span><span class="s1">.parsers = {}</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.formatters = {}</span><span class="s3">;</span><span class="s1"> 
 
    formatCodeToRegex = [ 
      { 
        key: </span><span class="s2">'yyyy'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">d{4}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.year = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">var </span><span class="s1">_date = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
          _date.setFullYear(Math.abs(date.getFullYear()))</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">dateFilter(_date</span><span class="s3">, </span><span class="s2">'yyyy'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'yy'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">d{2}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { value = +value</span><span class="s3">; </span><span class="s4">this</span><span class="s1">.year = value &lt; </span><span class="s5">69 </span><span class="s1">? value + </span><span class="s5">2000 </span><span class="s1">: value + </span><span class="s5">1900</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">var </span><span class="s1">_date = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
          _date.setFullYear(Math.abs(date.getFullYear()))</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">dateFilter(_date</span><span class="s3">, </span><span class="s2">'yy'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'y'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">d{1,4}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.year = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">var </span><span class="s1">_date = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
          _date.setFullYear(Math.abs(date.getFullYear()))</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">dateFilter(_date</span><span class="s3">, </span><span class="s2">'y'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'M!'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'0?[1-9]|1[0-2]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = value - </span><span class="s5">1</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">var </span><span class="s1">value = date.getMonth()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(</span><span class="s2">/^[0-9]$/</span><span class="s1">.test(value)) { 
            </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'MM'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'M'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'MMMM'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.MONTH.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = $locale.DATETIME_FORMATS.MONTH.indexOf(value)</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'MMMM'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'MMM'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.SHORTMONTH.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = $locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'MMM'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'MM'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'0[1-9]|1[0-2]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = value - </span><span class="s5">1</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'MM'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'M'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[1-9]|1[0-2]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = value - </span><span class="s5">1</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'M'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'d!'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-2]?[0-9]{1}|3[0-1]{1}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.date = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">var </span><span class="s1">value = date.getDate()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(</span><span class="s2">/^[1-9]$/</span><span class="s1">.test(value)) { 
            </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'dd'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'d'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'dd'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-2][0-9]{1}|3[0-1]{1}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.date = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'dd'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'d'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[1-2]?[0-9]{1}|3[0-1]{1}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.date = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'d'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'EEEE'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.DAY.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'EEEE'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'EEE'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.SHORTDAY.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'EEE'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'HH'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'(?:0|1)[0-9]|2[0-3]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.hours = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'HH'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'hh'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'0[0-9]|1[0-2]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.hours = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'hh'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'H'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'1?[0-9]|2[0-3]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.hours = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'H'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'h'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-9]|1[0-2]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.hours = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'h'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'mm'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-5][0-9]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.minutes = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'mm'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'m'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-9]|[1-5][0-9]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.minutes = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'m'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'sss'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-9][0-9][0-9]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.milliseconds = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'sss'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'ss'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-5][0-9]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.seconds = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'ss'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'s'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-9]|[1-5][0-9]'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.seconds = +value</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'s'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'a'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.AMPMS.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { 
          </span><span class="s4">if </span><span class="s1">(</span><span class="s4">this</span><span class="s1">.hours === </span><span class="s5">12</span><span class="s1">) { 
            </span><span class="s4">this</span><span class="s1">.hours = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">if </span><span class="s1">(value === </span><span class="s2">'PM'</span><span class="s1">) { 
            </span><span class="s4">this</span><span class="s1">.hours += </span><span class="s5">12</span><span class="s3">;</span><span class="s1"> 
          } 
        }</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'a'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'Z'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[+-]</span><span class="s3">\\</span><span class="s2">d{4}'</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { 
          </span><span class="s4">var </span><span class="s1">matches = value.match(</span><span class="s2">/([+-])(\d{2})(\d{2})/</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
            sign = matches[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
            hours = matches[</span><span class="s5">2</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
            minutes = matches[</span><span class="s5">3</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">this</span><span class="s1">.hours += toInt(sign + hours)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">this</span><span class="s1">.minutes += toInt(sign + minutes)</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { 
          </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'Z'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'ww'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-4][0-9]|5[0-3]'</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'ww'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'w'</span><span class="s3">,</span><span class="s1"> 
        regex: </span><span class="s2">'[0-9]|[1-4][0-9]|5[0-3]'</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'w'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'GGGG'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.ERANAMES.join(</span><span class="s2">'|'</span><span class="s1">).replace(</span><span class="s2">/\s/g</span><span class="s3">, </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">s'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'GGGG'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'GGG'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.ERAS.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'GGG'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'GG'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.ERAS.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'GG'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      }</span><span class="s3">,</span><span class="s1"> 
      { 
        key: </span><span class="s2">'G'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.ERAS.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'G'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      } 
    ]</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(angular.version.major &gt;= </span><span class="s5">1 </span><span class="s1">&amp;&amp; angular.version.minor &gt; </span><span class="s5">4</span><span class="s1">) { 
      formatCodeToRegex.push({ 
        key: </span><span class="s2">'LLLL'</span><span class="s3">,</span><span class="s1"> 
        regex: $locale.DATETIME_FORMATS.STANDALONEMONTH.join(</span><span class="s2">'|'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        apply: </span><span class="s4">function</span><span class="s1">(value) { </span><span class="s4">this</span><span class="s1">.month = $locale.DATETIME_FORMATS.STANDALONEMONTH.indexOf(value)</span><span class="s3">; </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
        formatter: </span><span class="s4">function</span><span class="s1">(date) { </span><span class="s4">return </span><span class="s1">dateFilter(date</span><span class="s3">, </span><span class="s2">'LLLL'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">} 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init()</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getFormatCodeToRegex(key) { 
    </span><span class="s4">return </span><span class="s1">filterFilter(formatCodeToRegex</span><span class="s3">, </span><span class="s1">{key: key}</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.getParser = </span><span class="s4">function </span><span class="s1">(key) { 
    </span><span class="s4">var </span><span class="s1">f = getFormatCodeToRegex(key)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">f &amp;&amp; f.apply || </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.overrideParser = </span><span class="s4">function </span><span class="s1">(key</span><span class="s3">, </span><span class="s1">parser) { 
    </span><span class="s4">var </span><span class="s1">f = getFormatCodeToRegex(key)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(f &amp;&amp; angular.isFunction(parser)) { 
      </span><span class="s4">this</span><span class="s1">.parsers = {}</span><span class="s3">;</span><span class="s1"> 
      f.apply = parser</span><span class="s3">;</span><span class="s1"> 
    } 
  }.bind(</span><span class="s4">this</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">createParser(format) { 
    </span><span class="s4">var </span><span class="s1">map = []</span><span class="s3">, </span><span class="s1">regex = format.split(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// check for literal values</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">quoteIndex = format.indexOf(</span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(quoteIndex &gt; -</span><span class="s5">1</span><span class="s1">) { 
      </span><span class="s4">var </span><span class="s1">inLiteral = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      format = format.split(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = quoteIndex</span><span class="s3">; </span><span class="s1">i &lt; format.length</span><span class="s3">; </span><span class="s1">i++) { 
        </span><span class="s4">if </span><span class="s1">(inLiteral) { 
          </span><span class="s4">if </span><span class="s1">(format[i] === </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { 
            </span><span class="s4">if </span><span class="s1">(i + </span><span class="s5">1 </span><span class="s1">&lt; format.length &amp;&amp; format[i+</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { </span><span class="s0">// escaped single quote</span><span class="s1"> 
              format[i+</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'$'</span><span class="s3">;</span><span class="s1"> 
              regex[i+</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ </span><span class="s0">// end of literal</span><span class="s1"> 
              regex[i] = </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
              inLiteral = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
          format[i] = </span><span class="s2">'$'</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          </span><span class="s4">if </span><span class="s1">(format[i] === </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { </span><span class="s0">// start of literal</span><span class="s1"> 
            format[i] = </span><span class="s2">'$'</span><span class="s3">;</span><span class="s1"> 
            regex[i] = </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
            inLiteral = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
      } 
 
      format = format.join(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    angular.forEach(formatCodeToRegex</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(data) { 
      </span><span class="s4">var </span><span class="s1">index = format.indexOf(data.key)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(index &gt; -</span><span class="s5">1</span><span class="s1">) { 
        format = format.split(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        regex[index] = </span><span class="s2">'(' </span><span class="s1">+ data.regex + </span><span class="s2">')'</span><span class="s3">;</span><span class="s1"> 
        format[index] = </span><span class="s2">'$'</span><span class="s3">; </span><span class="s0">// Custom symbol to define consumed part of format</span><span class="s1"> 
        </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = index + </span><span class="s5">1</span><span class="s3">, </span><span class="s1">n = index + data.key.length</span><span class="s3">; </span><span class="s1">i &lt; n</span><span class="s3">; </span><span class="s1">i++) { 
          regex[i] = </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
          format[i] = </span><span class="s2">'$'</span><span class="s3">;</span><span class="s1"> 
        } 
        format = format.join(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        map.push({ 
          index: index</span><span class="s3">,</span><span class="s1"> 
          key: data.key</span><span class="s3">,</span><span class="s1"> 
          apply: data.apply</span><span class="s3">,</span><span class="s1"> 
          matcher: data.regex 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">return </span><span class="s1">{ 
      regex: </span><span class="s4">new </span><span class="s1">RegExp(</span><span class="s2">'^' </span><span class="s1">+ regex.join(</span><span class="s2">''</span><span class="s1">) + </span><span class="s2">'$'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
      map: orderByFilter(map</span><span class="s3">, </span><span class="s2">'index'</span><span class="s1">) 
    }</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">createFormatter(format) { 
    </span><span class="s4">var </span><span class="s1">formatters = []</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">formatter</span><span class="s3">, </span><span class="s1">literalIdx</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">while </span><span class="s1">(i &lt; format.length) { 
      </span><span class="s4">if </span><span class="s1">(angular.isNumber(literalIdx)) { 
        </span><span class="s4">if </span><span class="s1">(format.charAt(i) === </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { 
          </span><span class="s4">if </span><span class="s1">(i + </span><span class="s5">1 </span><span class="s1">&gt;= format.length || format.charAt(i + </span><span class="s5">1</span><span class="s1">) !== </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { 
            formatters.push(constructLiteralFormatter(format</span><span class="s3">, </span><span class="s1">literalIdx</span><span class="s3">, </span><span class="s1">i))</span><span class="s3">;</span><span class="s1"> 
            literalIdx = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          } 
        } </span><span class="s4">else if </span><span class="s1">(i === format.length) { 
          </span><span class="s4">while </span><span class="s1">(literalIdx &lt; format.length) { 
            formatter = constructFormatterFromIdx(format</span><span class="s3">, </span><span class="s1">literalIdx)</span><span class="s3">;</span><span class="s1"> 
            formatters.push(formatter)</span><span class="s3">;</span><span class="s1"> 
            literalIdx = formatter.endIdx</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
 
        i++</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">continue</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(format.charAt(i) === </span><span class="s2">'</span><span class="s3">\'</span><span class="s2">'</span><span class="s1">) { 
        literalIdx = i</span><span class="s3">;</span><span class="s1"> 
        i++</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">continue</span><span class="s3">;</span><span class="s1"> 
      } 
 
      formatter = constructFormatterFromIdx(format</span><span class="s3">, </span><span class="s1">i)</span><span class="s3">;</span><span class="s1"> 
 
      formatters.push(formatter.parser)</span><span class="s3">;</span><span class="s1"> 
      i = formatter.endIdx</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">formatters</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">constructLiteralFormatter(format</span><span class="s3">, </span><span class="s1">literalIdx</span><span class="s3">, </span><span class="s1">endIdx) { 
    </span><span class="s4">return function</span><span class="s1">() { 
      </span><span class="s4">return </span><span class="s1">format.substr(literalIdx + </span><span class="s5">1</span><span class="s3">, </span><span class="s1">endIdx - literalIdx - </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">constructFormatterFromIdx(format</span><span class="s3">, </span><span class="s1">i) { 
    </span><span class="s4">var </span><span class="s1">currentPosStr = format.substr(i)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">j = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">j &lt; formatCodeToRegex.length</span><span class="s3">; </span><span class="s1">j++) { 
      </span><span class="s4">if </span><span class="s1">(</span><span class="s4">new </span><span class="s1">RegExp(</span><span class="s2">'^' </span><span class="s1">+ formatCodeToRegex[j].key).test(currentPosStr)) { 
        </span><span class="s4">var </span><span class="s1">data = formatCodeToRegex[j]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">{ 
          endIdx: i + data.key.length</span><span class="s3">,</span><span class="s1"> 
          parser: data.formatter 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">return </span><span class="s1">{ 
      endIdx: i + </span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
      parser: </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">return </span><span class="s1">currentPosStr.charAt(</span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.filter = </span><span class="s4">function</span><span class="s1">(date</span><span class="s3">, </span><span class="s1">format) { 
    </span><span class="s4">if </span><span class="s1">(!angular.isDate(date) || isNaN(date) || !format) { 
      </span><span class="s4">return </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
    } 
 
    format = $locale.DATETIME_FORMATS[format] || format</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">($locale.id !== localeId) { 
      </span><span class="s4">this</span><span class="s1">.init()</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.formatters[format]) { 
      </span><span class="s4">this</span><span class="s1">.formatters[format] = createFormatter(format)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">formatters = </span><span class="s4">this</span><span class="s1">.formatters[format]</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">return </span><span class="s1">formatters.reduce(</span><span class="s4">function</span><span class="s1">(str</span><span class="s3">, </span><span class="s1">formatter) { 
      </span><span class="s4">return </span><span class="s1">str + formatter(date)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">, </span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.parse = </span><span class="s4">function</span><span class="s1">(input</span><span class="s3">, </span><span class="s1">format</span><span class="s3">, </span><span class="s1">baseDate) { 
    </span><span class="s4">if </span><span class="s1">(!angular.isString(input) || !format) { 
      </span><span class="s4">return </span><span class="s1">input</span><span class="s3">;</span><span class="s1"> 
    } 
 
    format = $locale.DATETIME_FORMATS[format] || format</span><span class="s3">;</span><span class="s1"> 
    format = format.replace(SPECIAL_CHARACTERS_REGEXP</span><span class="s3">, </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">$&amp;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">($locale.id !== localeId) { 
      </span><span class="s4">this</span><span class="s1">.init()</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.parsers[format]) { 
      </span><span class="s4">this</span><span class="s1">.parsers[format] = createParser(format</span><span class="s3">, </span><span class="s2">'apply'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">parser = </span><span class="s4">this</span><span class="s1">.parsers[format]</span><span class="s3">,</span><span class="s1"> 
        regex = parser.regex</span><span class="s3">,</span><span class="s1"> 
        map = parser.map</span><span class="s3">,</span><span class="s1"> 
        results = input.match(regex)</span><span class="s3">,</span><span class="s1"> 
        tzOffset = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(results &amp;&amp; results.length) { 
      </span><span class="s4">var </span><span class="s1">fields</span><span class="s3">, </span><span class="s1">dt</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(angular.isDate(baseDate) &amp;&amp; !isNaN(baseDate.getTime())) { 
        fields = { 
          year: baseDate.getFullYear()</span><span class="s3">,</span><span class="s1"> 
          month: baseDate.getMonth()</span><span class="s3">,</span><span class="s1"> 
          date: baseDate.getDate()</span><span class="s3">,</span><span class="s1"> 
          hours: baseDate.getHours()</span><span class="s3">,</span><span class="s1"> 
          minutes: baseDate.getMinutes()</span><span class="s3">,</span><span class="s1"> 
          seconds: baseDate.getSeconds()</span><span class="s3">,</span><span class="s1"> 
          milliseconds: baseDate.getMilliseconds() 
        }</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        </span><span class="s4">if </span><span class="s1">(baseDate) { 
          $log.warn(</span><span class="s2">'dateparser:'</span><span class="s3">, </span><span class="s2">'baseDate is not a valid date'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
        fields = { year: </span><span class="s5">1900</span><span class="s3">, </span><span class="s1">month: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">date: </span><span class="s5">1</span><span class="s3">, </span><span class="s1">hours: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">minutes: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">seconds: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">milliseconds: </span><span class="s5">0 </span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">1</span><span class="s3">, </span><span class="s1">n = results.length</span><span class="s3">; </span><span class="s1">i &lt; n</span><span class="s3">; </span><span class="s1">i++) { 
        </span><span class="s4">var </span><span class="s1">mapper = map[i - </span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(mapper.matcher === </span><span class="s2">'Z'</span><span class="s1">) { 
          tzOffset = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(mapper.apply) { 
          mapper.apply.call(fields</span><span class="s3">, </span><span class="s1">results[i])</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">var </span><span class="s1">datesetter = tzOffset ? Date.prototype.setUTCFullYear : 
        Date.prototype.setFullYear</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">timesetter = tzOffset ? Date.prototype.setUTCHours : 
        Date.prototype.setHours</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(isValid(fields.year</span><span class="s3">, </span><span class="s1">fields.month</span><span class="s3">, </span><span class="s1">fields.date)) { 
        </span><span class="s4">if </span><span class="s1">(angular.isDate(baseDate) &amp;&amp; !isNaN(baseDate.getTime()) &amp;&amp; !tzOffset) { 
          dt = </span><span class="s4">new </span><span class="s1">Date(baseDate)</span><span class="s3">;</span><span class="s1"> 
          datesetter.call(dt</span><span class="s3">, </span><span class="s1">fields.year</span><span class="s3">, </span><span class="s1">fields.month</span><span class="s3">, </span><span class="s1">fields.date)</span><span class="s3">;</span><span class="s1"> 
          timesetter.call(dt</span><span class="s3">, </span><span class="s1">fields.hours</span><span class="s3">, </span><span class="s1">fields.minutes</span><span class="s3">,</span><span class="s1"> 
            fields.seconds</span><span class="s3">, </span><span class="s1">fields.milliseconds)</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          dt = </span><span class="s4">new </span><span class="s1">Date(</span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          datesetter.call(dt</span><span class="s3">, </span><span class="s1">fields.year</span><span class="s3">, </span><span class="s1">fields.month</span><span class="s3">, </span><span class="s1">fields.date)</span><span class="s3">;</span><span class="s1"> 
          timesetter.call(dt</span><span class="s3">, </span><span class="s1">fields.hours || </span><span class="s5">0</span><span class="s3">, </span><span class="s1">fields.minutes || </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
            fields.seconds || </span><span class="s5">0</span><span class="s3">, </span><span class="s1">fields.milliseconds || </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">return </span><span class="s1">dt</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Check if date is valid for specific month (and year for February).</span><span class="s1"> 
  </span><span class="s0">// Month: 0 = Jan, 1 = Feb, etc</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">isValid(year</span><span class="s3">, </span><span class="s1">month</span><span class="s3">, </span><span class="s1">date) { 
    </span><span class="s4">if </span><span class="s1">(date &lt; </span><span class="s5">1</span><span class="s1">) { 
      </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(month === </span><span class="s5">1 </span><span class="s1">&amp;&amp; date &gt; </span><span class="s5">28</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s1">date === </span><span class="s5">29 </span><span class="s1">&amp;&amp; (year % </span><span class="s5">4 </span><span class="s1">=== </span><span class="s5">0 </span><span class="s1">&amp;&amp; year % </span><span class="s5">100 </span><span class="s1">!== </span><span class="s5">0 </span><span class="s1">|| year % </span><span class="s5">400 </span><span class="s1">=== </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(month === </span><span class="s5">3 </span><span class="s1">|| month === </span><span class="s5">5 </span><span class="s1">|| month === </span><span class="s5">8 </span><span class="s1">|| month === </span><span class="s5">10</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s1">date &lt; </span><span class="s5">31</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">toInt(str) { 
    </span><span class="s4">return </span><span class="s1">parseInt(str</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.toTimezone = toTimezone</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.fromTimezone = fromTimezone</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.timezoneToOffset = timezoneToOffset</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.addDateMinutes = addDateMinutes</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.convertTimezoneToLocal = convertTimezoneToLocal</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">toTimezone(date</span><span class="s3">, </span><span class="s1">timezone) { 
    </span><span class="s4">return </span><span class="s1">date &amp;&amp; timezone ? convertTimezoneToLocal(date</span><span class="s3">, </span><span class="s1">timezone) : date</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">fromTimezone(date</span><span class="s3">, </span><span class="s1">timezone) { 
    </span><span class="s4">return </span><span class="s1">date &amp;&amp; timezone ? convertTimezoneToLocal(date</span><span class="s3">, </span><span class="s1">timezone</span><span class="s3">, </span><span class="s4">true</span><span class="s1">) : date</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">//https://github.com/angular/angular.js/blob/622c42169699ec07fc6daaa19fe6d224e5d2f70e/src/Angular.js#L1207</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">timezoneToOffset(timezone</span><span class="s3">, </span><span class="s1">fallback) { 
    timezone = timezone.replace(</span><span class="s2">/:/g</span><span class="s3">, </span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">requestedTimezoneOffset = Date.parse(</span><span class="s2">'Jan 01, 1970 00:00:00 ' </span><span class="s1">+ timezone) / </span><span class="s5">60000</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">addDateMinutes(date</span><span class="s3">, </span><span class="s1">minutes) { 
    date = </span><span class="s4">new </span><span class="s1">Date(date.getTime())</span><span class="s3">;</span><span class="s1"> 
    date.setMinutes(date.getMinutes() + minutes)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">date</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">convertTimezoneToLocal(date</span><span class="s3">, </span><span class="s1">timezone</span><span class="s3">, </span><span class="s1">reverse) { 
    reverse = reverse ? -</span><span class="s5">1 </span><span class="s1">: </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dateTimezoneOffset = date.getTimezoneOffset()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">timezoneOffset = timezoneToOffset(timezone</span><span class="s3">, </span><span class="s1">dateTimezoneOffset)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">addDateMinutes(date</span><span class="s3">, </span><span class="s1">reverse * (timezoneOffset - dateTimezoneOffset))</span><span class="s3">;</span><span class="s1"> 
  } 
}])</span><span class="s3">;</span><span class="s1"> 
 
</span><span class="s0">// Avoiding use of ng-class as it creates a lot of watchers when a class is to be applied to</span><span class="s1"> 
</span><span class="s0">// at most one element.</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.isClass'</span><span class="s3">, </span><span class="s1">[]) 
.directive(</span><span class="s2">'uibIsClass'</span><span class="s3">, </span><span class="s1">[ 
         </span><span class="s2">'$animate'</span><span class="s3">,</span><span class="s1"> 
</span><span class="s4">function </span><span class="s1">($animate) { 
  </span><span class="s0">//                    11111111          22222222</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">ON_REGEXP = </span><span class="s2">/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s0">//                    11111111           22222222</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">IS_REGEXP = </span><span class="s2">/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">dataPerTracked = {}</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    compile: </span><span class="s4">function</span><span class="s1">(tElement</span><span class="s3">, </span><span class="s1">tAttrs) { 
      </span><span class="s4">var </span><span class="s1">linkedScopes = []</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">instances = []</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">expToData = {}</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">lastActivated = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">onExpMatches = tAttrs.uibIsClass.match(ON_REGEXP)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">onExp = onExpMatches[</span><span class="s5">2</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">expsStr = onExpMatches[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">exps = expsStr.split(</span><span class="s2">','</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">return </span><span class="s1">linkFn</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">function </span><span class="s1">linkFn(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
        linkedScopes.push(scope)</span><span class="s3">;</span><span class="s1"> 
        instances.push({ 
          scope: scope</span><span class="s3">,</span><span class="s1"> 
          element: element 
        })</span><span class="s3">;</span><span class="s1"> 
 
        exps.forEach(</span><span class="s4">function</span><span class="s1">(exp</span><span class="s3">, </span><span class="s1">k) { 
          addForExp(exp</span><span class="s3">, </span><span class="s1">scope)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
 
        scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s1">removeScope)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">addForExp(exp</span><span class="s3">, </span><span class="s1">scope) { 
        </span><span class="s4">var </span><span class="s1">matches = exp.match(IS_REGEXP)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">clazz = scope.$eval(matches[</span><span class="s5">1</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">compareWithExp = matches[</span><span class="s5">2</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">data = expToData[exp]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!data) { 
          </span><span class="s4">var </span><span class="s1">watchFn = </span><span class="s4">function</span><span class="s1">(compareWithVal) { 
            </span><span class="s4">var </span><span class="s1">newActivated = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
            instances.some(</span><span class="s4">function</span><span class="s1">(instance) { 
              </span><span class="s4">var </span><span class="s1">thisVal = instance.scope.$eval(onExp)</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(thisVal === compareWithVal) { 
                newActivated = instance</span><span class="s3">;</span><span class="s1"> 
                </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
              } 
            })</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(data.lastActivated !== newActivated) { 
              </span><span class="s4">if </span><span class="s1">(data.lastActivated) { 
                $animate.removeClass(data.lastActivated.element</span><span class="s3">, </span><span class="s1">clazz)</span><span class="s3">;</span><span class="s1"> 
              } 
              </span><span class="s4">if </span><span class="s1">(newActivated) { 
                $animate.addClass(newActivated.element</span><span class="s3">, </span><span class="s1">clazz)</span><span class="s3">;</span><span class="s1"> 
              } 
              data.lastActivated = newActivated</span><span class="s3">;</span><span class="s1"> 
            } 
          }</span><span class="s3">;</span><span class="s1"> 
          expToData[exp] = data = { 
            lastActivated: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
            scope: scope</span><span class="s3">,</span><span class="s1"> 
            watchFn: watchFn</span><span class="s3">,</span><span class="s1"> 
            compareWithExp: compareWithExp</span><span class="s3">,</span><span class="s1"> 
            watcher: scope.$watch(compareWithExp</span><span class="s3">, </span><span class="s1">watchFn) 
          }</span><span class="s3">;</span><span class="s1"> 
        } 
        data.watchFn(scope.$eval(compareWithExp))</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">removeScope(e) { 
        </span><span class="s4">var </span><span class="s1">removedScope = e.targetScope</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">index = linkedScopes.indexOf(removedScope)</span><span class="s3">;</span><span class="s1"> 
        linkedScopes.splice(index</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        instances.splice(index</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(linkedScopes.length) { 
          </span><span class="s4">var </span><span class="s1">newWatchScope = linkedScopes[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
          angular.forEach(expToData</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(data) { 
            </span><span class="s4">if </span><span class="s1">(data.scope === removedScope) { 
              data.watcher = newWatchScope.$watch(data.compareWithExp</span><span class="s3">, </span><span class="s1">data.watchFn)</span><span class="s3">;</span><span class="s1"> 
              data.scope = newWatchScope</span><span class="s3">;</span><span class="s1"> 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          expToData = {}</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.datepicker'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.dateparser'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.isClass'</span><span class="s1">]) 
 
.value(</span><span class="s2">'$datepickerSuppressError'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">) 
 
.value(</span><span class="s2">'$datepickerLiteralWarning'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">) 
 
.constant(</span><span class="s2">'uibDatepickerConfig'</span><span class="s3">, </span><span class="s1">{ 
  datepickerMode: </span><span class="s2">'day'</span><span class="s3">,</span><span class="s1"> 
  formatDay: </span><span class="s2">'dd'</span><span class="s3">,</span><span class="s1"> 
  formatMonth: </span><span class="s2">'MMMM'</span><span class="s3">,</span><span class="s1"> 
  formatYear: </span><span class="s2">'yyyy'</span><span class="s3">,</span><span class="s1"> 
  formatDayHeader: </span><span class="s2">'EEE'</span><span class="s3">,</span><span class="s1"> 
  formatDayTitle: </span><span class="s2">'MMMM yyyy'</span><span class="s3">,</span><span class="s1"> 
  formatMonthTitle: </span><span class="s2">'yyyy'</span><span class="s3">,</span><span class="s1"> 
  maxDate: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
  maxMode: </span><span class="s2">'year'</span><span class="s3">,</span><span class="s1"> 
  minDate: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
  minMode: </span><span class="s2">'day'</span><span class="s3">,</span><span class="s1"> 
  monthColumns: </span><span class="s5">3</span><span class="s3">,</span><span class="s1"> 
  ngModelOptions: {}</span><span class="s3">,</span><span class="s1"> 
  shortcutPropagation: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  showWeeks: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  yearColumns: </span><span class="s5">5</span><span class="s3">,</span><span class="s1"> 
  yearRows: </span><span class="s5">4</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibDatepickerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$interpolate'</span><span class="s3">, </span><span class="s2">'$locale'</span><span class="s3">, </span><span class="s2">'$log'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s2">'uibDatepickerConfig'</span><span class="s3">, </span><span class="s2">'$datepickerLiteralWarning'</span><span class="s3">, </span><span class="s2">'$datepickerSuppressError'</span><span class="s3">, </span><span class="s2">'uibDateParser'</span><span class="s3">,</span><span class="s1"> 
  </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$interpolate</span><span class="s3">, </span><span class="s1">$locale</span><span class="s3">, </span><span class="s1">$log</span><span class="s3">, </span><span class="s1">dateFilter</span><span class="s3">, </span><span class="s1">datepickerConfig</span><span class="s3">, </span><span class="s1">$datepickerLiteralWarning</span><span class="s3">, </span><span class="s1">$datepickerSuppressError</span><span class="s3">, </span><span class="s1">dateParser) { 
  </span><span class="s4">var </span><span class="s1">self = </span><span class="s4">this</span><span class="s3">,</span><span class="s1"> 
      ngModelCtrl = { $setViewValue: angular.noop }</span><span class="s3">, </span><span class="s0">// nullModelCtrl;</span><span class="s1"> 
      ngModelOptions = {}</span><span class="s3">,</span><span class="s1"> 
      watchListeners = []</span><span class="s3">;</span><span class="s1"> 
 
  $element.addClass(</span><span class="s2">'uib-datepicker'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  $attrs.$set(</span><span class="s2">'role'</span><span class="s3">, </span><span class="s2">'application'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">if </span><span class="s1">(!$scope.datepickerOptions) { 
    $scope.datepickerOptions = {}</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">// Modes chain</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.modes = [</span><span class="s2">'day'</span><span class="s3">, </span><span class="s2">'month'</span><span class="s3">, </span><span class="s2">'year'</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
  [ 
    </span><span class="s2">'customClass'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'dateDisabled'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'datepickerMode'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatDay'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatDayHeader'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatDayTitle'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatMonth'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatMonthTitle'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'formatYear'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'maxDate'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'maxMode'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'minDate'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'minMode'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'monthColumns'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'showWeeks'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'shortcutPropagation'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'startingDay'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'yearColumns'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'yearRows'</span><span class="s1"> 
  ].forEach(</span><span class="s4">function</span><span class="s1">(key) { 
    </span><span class="s4">switch </span><span class="s1">(key) { 
      </span><span class="s4">case </span><span class="s2">'customClass'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'dateDisabled'</span><span class="s1">: 
        $scope[key] = $scope.datepickerOptions[key] || angular.noop</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'datepickerMode'</span><span class="s1">: 
        $scope.datepickerMode = angular.isDefined($scope.datepickerOptions.datepickerMode) ? 
          $scope.datepickerOptions.datepickerMode : datepickerConfig.datepickerMode</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'formatDay'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'formatDayHeader'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'formatDayTitle'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'formatMonth'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'formatMonthTitle'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'formatYear'</span><span class="s1">: 
        self[key] = angular.isDefined($scope.datepickerOptions[key]) ? 
          $interpolate($scope.datepickerOptions[key])($scope.$parent) : 
          datepickerConfig[key]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'monthColumns'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'showWeeks'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'shortcutPropagation'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'yearColumns'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'yearRows'</span><span class="s1">: 
        self[key] = angular.isDefined($scope.datepickerOptions[key]) ? 
          $scope.datepickerOptions[key] : datepickerConfig[key]</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'startingDay'</span><span class="s1">: 
        </span><span class="s4">if </span><span class="s1">(angular.isDefined($scope.datepickerOptions.startingDay)) { 
          self.startingDay = $scope.datepickerOptions.startingDay</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else if </span><span class="s1">(angular.isNumber(datepickerConfig.startingDay)) { 
          self.startingDay = datepickerConfig.startingDay</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          self.startingDay = ($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK + </span><span class="s5">8</span><span class="s1">) % </span><span class="s5">7</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'maxDate'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'minDate'</span><span class="s1">: 
        $scope.$watch(</span><span class="s2">'datepickerOptions.' </span><span class="s1">+ key</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
          </span><span class="s4">if </span><span class="s1">(value) { 
            </span><span class="s4">if </span><span class="s1">(angular.isDate(value)) { 
              self[key] = dateParser.fromTimezone(</span><span class="s4">new </span><span class="s1">Date(value)</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              </span><span class="s4">if </span><span class="s1">($datepickerLiteralWarning) { 
                $log.warn(</span><span class="s2">'Literal date support has been deprecated, please switch to date object usage'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              } 
 
              self[key] = </span><span class="s4">new </span><span class="s1">Date(dateFilter(value</span><span class="s3">, </span><span class="s2">'medium'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
            } 
          } </span><span class="s4">else </span><span class="s1">{ 
            self[key] = datepickerConfig[key] ? 
              dateParser.fromTimezone(</span><span class="s4">new </span><span class="s1">Date(datepickerConfig[key])</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">)) : 
              </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          } 
 
          self.refreshView()</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">case </span><span class="s2">'maxMode'</span><span class="s1">: 
      </span><span class="s4">case </span><span class="s2">'minMode'</span><span class="s1">: 
        </span><span class="s4">if </span><span class="s1">($scope.datepickerOptions[key]) { 
          $scope.$watch(</span><span class="s4">function</span><span class="s1">() { </span><span class="s4">return </span><span class="s1">$scope.datepickerOptions[key]</span><span class="s3">; </span><span class="s1">}</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
            self[key] = $scope[key] = angular.isDefined(value) ? value : $scope.datepickerOptions[key]</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(key === </span><span class="s2">'minMode' </span><span class="s1">&amp;&amp; self.modes.indexOf($scope.datepickerOptions.datepickerMode) &lt; self.modes.indexOf(self[key]) || 
              key === </span><span class="s2">'maxMode' </span><span class="s1">&amp;&amp; self.modes.indexOf($scope.datepickerOptions.datepickerMode) &gt; self.modes.indexOf(self[key])) { 
              $scope.datepickerMode = self[key]</span><span class="s3">;</span><span class="s1"> 
              $scope.datepickerOptions.datepickerMode = self[key]</span><span class="s3">;</span><span class="s1"> 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          self[key] = $scope[key] = datepickerConfig[key] || </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
 
  $scope.uniqueId = </span><span class="s2">'datepicker-' </span><span class="s1">+ $scope.$id + </span><span class="s2">'-' </span><span class="s1">+ Math.floor(Math.random() * </span><span class="s5">10000</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  $scope.disabled = angular.isDefined($attrs.disabled) || </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">(angular.isDefined($attrs.ngDisabled)) { 
    watchListeners.push($scope.$parent.$watch($attrs.ngDisabled</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(disabled) { 
      $scope.disabled = disabled</span><span class="s3">;</span><span class="s1"> 
      self.refreshView()</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.isActive = </span><span class="s4">function</span><span class="s1">(dateObject) { 
    </span><span class="s4">if </span><span class="s1">(self.compare(dateObject.date</span><span class="s3">, </span><span class="s1">self.activeDate) === </span><span class="s5">0</span><span class="s1">) { 
      $scope.activeDateId = dateObject.uid</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(ngModelCtrl_) { 
    ngModelCtrl = ngModelCtrl_</span><span class="s3">;</span><span class="s1"> 
    ngModelOptions = extractOptions(ngModelCtrl)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">($scope.datepickerOptions.initDate) { 
      self.activeDate = dateParser.fromTimezone($scope.datepickerOptions.initDate</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">)) || </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
      $scope.$watch(</span><span class="s2">'datepickerOptions.initDate'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(initDate) { 
        </span><span class="s4">if </span><span class="s1">(initDate &amp;&amp; (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) { 
          self.activeDate = dateParser.fromTimezone(initDate</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
          self.refreshView()</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      self.activeDate = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">date = ngModelCtrl.$modelValue ? </span><span class="s4">new </span><span class="s1">Date(ngModelCtrl.$modelValue) : </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.activeDate = !isNaN(date) ? 
      dateParser.fromTimezone(date</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">)) : 
      dateParser.fromTimezone(</span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
 
    ngModelCtrl.$render = </span><span class="s4">function</span><span class="s1">() { 
      self.render()</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.render = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(ngModelCtrl.$viewValue) { 
      </span><span class="s4">var </span><span class="s1">date = </span><span class="s4">new </span><span class="s1">Date(ngModelCtrl.$viewValue)</span><span class="s3">,</span><span class="s1"> 
          isValid = !isNaN(date)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(isValid) { 
        </span><span class="s4">this</span><span class="s1">.activeDate = dateParser.fromTimezone(date</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(!$datepickerSuppressError) { 
        $log.error(</span><span class="s2">'Datepicker directive: &quot;ng-model&quot; value must be a Date object'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
    </span><span class="s4">this</span><span class="s1">.refreshView()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.refreshView = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(</span><span class="s4">this</span><span class="s1">.element) { 
      $scope.selectedDt = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">this</span><span class="s1">._refreshView()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">($scope.activeDt) { 
        $scope.activeDateId = $scope.activeDt.uid</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">var </span><span class="s1">date = ngModelCtrl.$viewValue ? </span><span class="s4">new </span><span class="s1">Date(ngModelCtrl.$viewValue) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      date = dateParser.fromTimezone(date</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$setValidity(</span><span class="s2">'dateDisabled'</span><span class="s3">, </span><span class="s1">!date || 
        </span><span class="s4">this</span><span class="s1">.element &amp;&amp; !</span><span class="s4">this</span><span class="s1">.isDisabled(date))</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.createDateObject = </span><span class="s4">function</span><span class="s1">(date</span><span class="s3">, </span><span class="s1">format) { 
    </span><span class="s4">var </span><span class="s1">model = ngModelCtrl.$viewValue ? </span><span class="s4">new </span><span class="s1">Date(ngModelCtrl.$viewValue) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    model = dateParser.fromTimezone(model</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">today = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
    today = dateParser.fromTimezone(today</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">time = </span><span class="s4">this</span><span class="s1">.compare(date</span><span class="s3">, </span><span class="s1">today)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dt = { 
      date: date</span><span class="s3">,</span><span class="s1"> 
      label: dateParser.filter(date</span><span class="s3">, </span><span class="s1">format)</span><span class="s3">,</span><span class="s1"> 
      selected: model &amp;&amp; </span><span class="s4">this</span><span class="s1">.compare(date</span><span class="s3">, </span><span class="s1">model) === </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
      disabled: </span><span class="s4">this</span><span class="s1">.isDisabled(date)</span><span class="s3">,</span><span class="s1"> 
      past: time &lt; </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
      current: time === </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
      future: time &gt; </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
      customClass: </span><span class="s4">this</span><span class="s1">.customClass(date) || </span><span class="s4">null</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(model &amp;&amp; </span><span class="s4">this</span><span class="s1">.compare(date</span><span class="s3">, </span><span class="s1">model) === </span><span class="s5">0</span><span class="s1">) { 
      $scope.selectedDt = dt</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(self.activeDate &amp;&amp; </span><span class="s4">this</span><span class="s1">.compare(dt.date</span><span class="s3">, </span><span class="s1">self.activeDate) === </span><span class="s5">0</span><span class="s1">) { 
      $scope.activeDt = dt</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">dt</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.isDisabled = </span><span class="s4">function</span><span class="s1">(date) { 
    </span><span class="s4">return </span><span class="s1">$scope.disabled || 
      </span><span class="s4">this</span><span class="s1">.minDate &amp;&amp; </span><span class="s4">this</span><span class="s1">.compare(date</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.minDate) &lt; </span><span class="s5">0 </span><span class="s1">|| 
      </span><span class="s4">this</span><span class="s1">.maxDate &amp;&amp; </span><span class="s4">this</span><span class="s1">.compare(date</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.maxDate) &gt; </span><span class="s5">0 </span><span class="s1">|| 
      $scope.dateDisabled &amp;&amp; $scope.dateDisabled({date: date</span><span class="s3">, </span><span class="s1">mode: $scope.datepickerMode})</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.customClass = </span><span class="s4">function</span><span class="s1">(date) { 
    </span><span class="s4">return </span><span class="s1">$scope.customClass({date: date</span><span class="s3">, </span><span class="s1">mode: $scope.datepickerMode})</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Split array into smaller arrays</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.split = </span><span class="s4">function</span><span class="s1">(arr</span><span class="s3">, </span><span class="s1">size) { 
    </span><span class="s4">var </span><span class="s1">arrays = []</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">while </span><span class="s1">(arr.length &gt; </span><span class="s5">0</span><span class="s1">) { 
      arrays.push(arr.splice(</span><span class="s5">0</span><span class="s3">, </span><span class="s1">size))</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">return </span><span class="s1">arrays</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.select = </span><span class="s4">function</span><span class="s1">(date) { 
    </span><span class="s4">if </span><span class="s1">($scope.datepickerMode === self.minMode) { 
      </span><span class="s4">var </span><span class="s1">dt = ngModelCtrl.$viewValue ? dateParser.fromTimezone(</span><span class="s4">new </span><span class="s1">Date(ngModelCtrl.$viewValue)</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">)) : </span><span class="s4">new </span><span class="s1">Date(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      dt.setFullYear(date.getFullYear()</span><span class="s3">, </span><span class="s1">date.getMonth()</span><span class="s3">, </span><span class="s1">date.getDate())</span><span class="s3">;</span><span class="s1"> 
      dt = dateParser.toTimezone(dt</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$setViewValue(dt)</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      self.activeDate = date</span><span class="s3">;</span><span class="s1"> 
      setMode(self.modes[self.modes.indexOf($scope.datepickerMode) - </span><span class="s5">1</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
 
      $scope.$emit(</span><span class="s2">'uib:datepicker.mode'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    $scope.$broadcast(</span><span class="s2">'uib:datepicker.focus'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.move = </span><span class="s4">function</span><span class="s1">(direction) { 
    </span><span class="s4">var </span><span class="s1">year = self.activeDate.getFullYear() + direction * (self.step.years || </span><span class="s5">0</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        month = self.activeDate.getMonth() + direction * (self.step.months || </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    self.activeDate.setFullYear(year</span><span class="s3">, </span><span class="s1">month</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    self.refreshView()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.toggleMode = </span><span class="s4">function</span><span class="s1">(direction) { 
    direction = direction || </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">($scope.datepickerMode === self.maxMode &amp;&amp; direction === </span><span class="s5">1 </span><span class="s1">|| 
      $scope.datepickerMode === self.minMode &amp;&amp; direction === -</span><span class="s5">1</span><span class="s1">) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    setMode(self.modes[self.modes.indexOf($scope.datepickerMode) + direction])</span><span class="s3">;</span><span class="s1"> 
 
    $scope.$emit(</span><span class="s2">'uib:datepicker.mode'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Key event mapper</span><span class="s1"> 
  $scope.keys = { </span><span class="s5">13</span><span class="s1">: </span><span class="s2">'enter'</span><span class="s3">, </span><span class="s5">32</span><span class="s1">: </span><span class="s2">'space'</span><span class="s3">, </span><span class="s5">33</span><span class="s1">: </span><span class="s2">'pageup'</span><span class="s3">, </span><span class="s5">34</span><span class="s1">: </span><span class="s2">'pagedown'</span><span class="s3">, </span><span class="s5">35</span><span class="s1">: </span><span class="s2">'end'</span><span class="s3">, </span><span class="s5">36</span><span class="s1">: </span><span class="s2">'home'</span><span class="s3">, </span><span class="s5">37</span><span class="s1">: </span><span class="s2">'left'</span><span class="s3">, </span><span class="s5">38</span><span class="s1">: </span><span class="s2">'up'</span><span class="s3">, </span><span class="s5">39</span><span class="s1">: </span><span class="s2">'right'</span><span class="s3">, </span><span class="s5">40</span><span class="s1">: </span><span class="s2">'down' </span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">focusElement = </span><span class="s4">function</span><span class="s1">() { 
    self.element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Listen for focus requests from popup directive</span><span class="s1"> 
  $scope.$on(</span><span class="s2">'uib:datepicker.focus'</span><span class="s3">, </span><span class="s1">focusElement)</span><span class="s3">;</span><span class="s1"> 
 
  $scope.keydown = </span><span class="s4">function</span><span class="s1">(evt) { 
    </span><span class="s4">var </span><span class="s1">key = $scope.keys[evt.which]</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!key || evt.shiftKey || evt.altKey || $scope.disabled) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!self.shortcutPropagation) { 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(key === </span><span class="s2">'enter' </span><span class="s1">|| key === </span><span class="s2">'space'</span><span class="s1">) { 
      </span><span class="s4">if </span><span class="s1">(self.isDisabled(self.activeDate)) { 
        </span><span class="s4">return</span><span class="s3">; </span><span class="s0">// do nothing</span><span class="s1"> 
      } 
      $scope.select(self.activeDate)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(evt.ctrlKey &amp;&amp; (key === </span><span class="s2">'up' </span><span class="s1">|| key === </span><span class="s2">'down'</span><span class="s1">)) { 
      $scope.toggleMode(key === </span><span class="s2">'up' </span><span class="s1">? </span><span class="s5">1 </span><span class="s1">: -</span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      self.handleKeyDown(key</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
      self.refreshView()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $element.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(evt) { 
    $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
      $scope.keydown(evt)</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s0">//Clear all watch listeners on destroy</span><span class="s1"> 
    </span><span class="s4">while </span><span class="s1">(watchListeners.length) { 
      watchListeners.shift()()</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">setMode(mode) { 
    $scope.datepickerMode = mode</span><span class="s3">;</span><span class="s1"> 
    $scope.datepickerOptions.datepickerMode = mode</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">extractOptions(ngModelCtrl) { 
    </span><span class="s4">var </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(angular.version.minor &lt; </span><span class="s5">6</span><span class="s1">) { </span><span class="s0">// in angular &lt; 1.6 $options could be missing</span><span class="s1"> 
      </span><span class="s0">// guarantee a value</span><span class="s1"> 
      ngModelOptions = ngModelCtrl.$options || 
        $scope.datepickerOptions.ngModelOptions || 
        datepickerConfig.ngModelOptions || 
        {}</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">// mimic 1.6+ api</span><span class="s1"> 
      ngModelOptions.getOption = </span><span class="s4">function </span><span class="s1">(key) { 
        </span><span class="s4">return </span><span class="s1">ngModelOptions[key]</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ </span><span class="s0">// in angular &gt;=1.6 $options is always present</span><span class="s1"> 
      </span><span class="s0">// ng-model-options defaults timezone to null; don't let its precedence squash a non-null value</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">timezone = ngModelCtrl.$options.getOption(</span><span class="s2">'timezone'</span><span class="s1">) || 
        ($scope.datepickerOptions.ngModelOptions ? $scope.datepickerOptions.ngModelOptions.timezone : </span><span class="s4">null</span><span class="s1">) || 
        (datepickerConfig.ngModelOptions ? datepickerConfig.ngModelOptions.timezone : </span><span class="s4">null</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">// values passed to createChild override existing values</span><span class="s1"> 
      ngModelOptions = ngModelCtrl.$options </span><span class="s0">// start with a ModelOptions instance</span><span class="s1"> 
        .createChild(datepickerConfig.ngModelOptions) </span><span class="s0">// lowest precedence</span><span class="s1"> 
        .createChild($scope.datepickerOptions.ngModelOptions) 
        .createChild(ngModelCtrl.$options) </span><span class="s0">// highest precedence</span><span class="s1"> 
        .createChild({timezone: timezone})</span><span class="s3">; </span><span class="s0">// to keep from squashing a non-null value</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
  } 
}]) 
 
.controller(</span><span class="s2">'UibDaypickerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">dateFilter) { 
  </span><span class="s4">var </span><span class="s1">DAYS_IN_MONTH = [</span><span class="s5">31</span><span class="s3">, </span><span class="s5">28</span><span class="s3">, </span><span class="s5">31</span><span class="s3">, </span><span class="s5">30</span><span class="s3">, </span><span class="s5">31</span><span class="s3">, </span><span class="s5">30</span><span class="s3">, </span><span class="s5">31</span><span class="s3">, </span><span class="s5">31</span><span class="s3">, </span><span class="s5">30</span><span class="s3">, </span><span class="s5">31</span><span class="s3">, </span><span class="s5">30</span><span class="s3">, </span><span class="s5">31</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.step = { months: </span><span class="s5">1 </span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.element = $element</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">getDaysInMonth(year</span><span class="s3">, </span><span class="s1">month) { 
    </span><span class="s4">return </span><span class="s1">month === </span><span class="s5">1 </span><span class="s1">&amp;&amp; year % </span><span class="s5">4 </span><span class="s1">=== </span><span class="s5">0 </span><span class="s1">&amp;&amp; 
      (year % </span><span class="s5">100 </span><span class="s1">!== </span><span class="s5">0 </span><span class="s1">|| year % </span><span class="s5">400 </span><span class="s1">=== </span><span class="s5">0</span><span class="s1">) ? </span><span class="s5">29 </span><span class="s1">: DAYS_IN_MONTH[month]</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(ctrl) { 
    angular.extend(ctrl</span><span class="s3">, </span><span class="s4">this</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    scope.showWeeks = ctrl.showWeeks</span><span class="s3">;</span><span class="s1"> 
    ctrl.refreshView()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.getDates = </span><span class="s4">function</span><span class="s1">(startDate</span><span class="s3">, </span><span class="s1">n) { 
    </span><span class="s4">var </span><span class="s1">dates = </span><span class="s4">new </span><span class="s1">Array(n)</span><span class="s3">, </span><span class="s1">current = </span><span class="s4">new </span><span class="s1">Date(startDate)</span><span class="s3">, </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">, </span><span class="s1">date</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">while </span><span class="s1">(i &lt; n) { 
      date = </span><span class="s4">new </span><span class="s1">Date(current)</span><span class="s3">;</span><span class="s1"> 
      dates[i++] = date</span><span class="s3">;</span><span class="s1"> 
      current.setDate(current.getDate() + </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">return </span><span class="s1">dates</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">._refreshView = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">year = </span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()</span><span class="s3">,</span><span class="s1"> 
      month = </span><span class="s4">this</span><span class="s1">.activeDate.getMonth()</span><span class="s3">,</span><span class="s1"> 
      firstDayOfMonth = </span><span class="s4">new </span><span class="s1">Date(</span><span class="s4">this</span><span class="s1">.activeDate)</span><span class="s3">;</span><span class="s1"> 
 
    firstDayOfMonth.setFullYear(year</span><span class="s3">, </span><span class="s1">month</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">difference = </span><span class="s4">this</span><span class="s1">.startingDay - firstDayOfMonth.getDay()</span><span class="s3">,</span><span class="s1"> 
      numDisplayedFromPreviousMonth = difference &gt; </span><span class="s5">0 </span><span class="s1">? 
        </span><span class="s5">7 </span><span class="s1">- difference : - difference</span><span class="s3">,</span><span class="s1"> 
      firstDate = </span><span class="s4">new </span><span class="s1">Date(firstDayOfMonth)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(numDisplayedFromPreviousMonth &gt; </span><span class="s5">0</span><span class="s1">) { 
      firstDate.setDate(-numDisplayedFromPreviousMonth + </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// 42 is the number of days on a six-week calendar</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">days = </span><span class="s4">this</span><span class="s1">.getDates(firstDate</span><span class="s3">, </span><span class="s5">42</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; </span><span class="s5">42</span><span class="s3">; </span><span class="s1">i ++) { 
      days[i] = angular.extend(</span><span class="s4">this</span><span class="s1">.createDateObject(days[i]</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatDay)</span><span class="s3">, </span><span class="s1">{ 
        secondary: days[i].getMonth() !== month</span><span class="s3">,</span><span class="s1"> 
        uid: scope.uniqueId + </span><span class="s2">'-' </span><span class="s1">+ i 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    scope.labels = </span><span class="s4">new </span><span class="s1">Array(</span><span class="s5">7</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">j = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">j &lt; </span><span class="s5">7</span><span class="s3">; </span><span class="s1">j++) { 
      scope.labels[j] = { 
        abbr: dateFilter(days[j].date</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatDayHeader)</span><span class="s3">,</span><span class="s1"> 
        full: dateFilter(days[j].date</span><span class="s3">, </span><span class="s2">'EEEE'</span><span class="s1">) 
      }</span><span class="s3">;</span><span class="s1"> 
    } 
 
    scope.title = dateFilter(</span><span class="s4">this</span><span class="s1">.activeDate</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatDayTitle)</span><span class="s3">;</span><span class="s1"> 
    scope.rows = </span><span class="s4">this</span><span class="s1">.split(days</span><span class="s3">, </span><span class="s5">7</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(scope.showWeeks) { 
      scope.weekNumbers = []</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">thursdayIndex = (</span><span class="s5">4 </span><span class="s1">+ </span><span class="s5">7 </span><span class="s1">- </span><span class="s4">this</span><span class="s1">.startingDay) % </span><span class="s5">7</span><span class="s3">,</span><span class="s1"> 
          numWeeks = scope.rows.length</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">curWeek = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">curWeek &lt; numWeeks</span><span class="s3">; </span><span class="s1">curWeek++) { 
        scope.weekNumbers.push( 
          getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.compare = </span><span class="s4">function</span><span class="s1">(date1</span><span class="s3">, </span><span class="s1">date2) { 
    </span><span class="s4">var </span><span class="s1">_date1 = </span><span class="s4">new </span><span class="s1">Date(date1.getFullYear()</span><span class="s3">, </span><span class="s1">date1.getMonth()</span><span class="s3">, </span><span class="s1">date1.getDate())</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">_date2 = </span><span class="s4">new </span><span class="s1">Date(date2.getFullYear()</span><span class="s3">, </span><span class="s1">date2.getMonth()</span><span class="s3">, </span><span class="s1">date2.getDate())</span><span class="s3">;</span><span class="s1"> 
    _date1.setFullYear(date1.getFullYear())</span><span class="s3">;</span><span class="s1"> 
    _date2.setFullYear(date2.getFullYear())</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">_date1 - _date2</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getISO8601WeekNumber(date) { 
    </span><span class="s4">var </span><span class="s1">checkDate = </span><span class="s4">new </span><span class="s1">Date(date)</span><span class="s3">;</span><span class="s1"> 
    checkDate.setDate(checkDate.getDate() + </span><span class="s5">4 </span><span class="s1">- (checkDate.getDay() || </span><span class="s5">7</span><span class="s1">))</span><span class="s3">; </span><span class="s0">// Thursday</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">time = checkDate.getTime()</span><span class="s3">;</span><span class="s1"> 
    checkDate.setMonth(</span><span class="s5">0</span><span class="s1">)</span><span class="s3">; </span><span class="s0">// Compare with Jan 1</span><span class="s1"> 
    checkDate.setDate(</span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">Math.floor(Math.round((time - checkDate) / </span><span class="s5">86400000</span><span class="s1">) / </span><span class="s5">7</span><span class="s1">) + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.handleKeyDown = </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">evt) { 
    </span><span class="s4">var </span><span class="s1">date = </span><span class="s4">this</span><span class="s1">.activeDate.getDate()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(key === </span><span class="s2">'left'</span><span class="s1">) { 
      date = date - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'up'</span><span class="s1">) { 
      date = date - </span><span class="s5">7</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'right'</span><span class="s1">) { 
      date = date + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'down'</span><span class="s1">) { 
      date = date + </span><span class="s5">7</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'pageup' </span><span class="s1">|| key === </span><span class="s2">'pagedown'</span><span class="s1">) { 
      </span><span class="s4">var </span><span class="s1">month = </span><span class="s4">this</span><span class="s1">.activeDate.getMonth() + (key === </span><span class="s2">'pageup' </span><span class="s1">? - </span><span class="s5">1 </span><span class="s1">: </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">this</span><span class="s1">.activeDate.setMonth(month</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      date = Math.min(getDaysInMonth(</span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.activeDate.getMonth())</span><span class="s3">, </span><span class="s1">date)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'home'</span><span class="s1">) { 
      date = </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'end'</span><span class="s1">) { 
      date = getDaysInMonth(</span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.activeDate.getMonth())</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">this</span><span class="s1">.activeDate.setDate(date)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.controller(</span><span class="s2">'UibMonthpickerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">dateFilter) { 
  </span><span class="s4">this</span><span class="s1">.step = { years: </span><span class="s5">1 </span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.element = $element</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(ctrl) { 
    angular.extend(ctrl</span><span class="s3">, </span><span class="s4">this</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    ctrl.refreshView()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">._refreshView = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">months = </span><span class="s4">new </span><span class="s1">Array(</span><span class="s5">12</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        year = </span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()</span><span class="s3">,</span><span class="s1"> 
        date</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; </span><span class="s5">12</span><span class="s3">; </span><span class="s1">i++) { 
      date = </span><span class="s4">new </span><span class="s1">Date(</span><span class="s4">this</span><span class="s1">.activeDate)</span><span class="s3">;</span><span class="s1"> 
      date.setFullYear(year</span><span class="s3">, </span><span class="s1">i</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      months[i] = angular.extend(</span><span class="s4">this</span><span class="s1">.createDateObject(date</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatMonth)</span><span class="s3">, </span><span class="s1">{ 
        uid: scope.uniqueId + </span><span class="s2">'-' </span><span class="s1">+ i 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    scope.title = dateFilter(</span><span class="s4">this</span><span class="s1">.activeDate</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatMonthTitle)</span><span class="s3">;</span><span class="s1"> 
    scope.rows = </span><span class="s4">this</span><span class="s1">.split(months</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.monthColumns)</span><span class="s3">;</span><span class="s1"> 
    scope.yearHeaderColspan = </span><span class="s4">this</span><span class="s1">.monthColumns &gt; </span><span class="s5">3 </span><span class="s1">? </span><span class="s4">this</span><span class="s1">.monthColumns - </span><span class="s5">2 </span><span class="s1">: </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.compare = </span><span class="s4">function</span><span class="s1">(date1</span><span class="s3">, </span><span class="s1">date2) { 
    </span><span class="s4">var </span><span class="s1">_date1 = </span><span class="s4">new </span><span class="s1">Date(date1.getFullYear()</span><span class="s3">, </span><span class="s1">date1.getMonth())</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">_date2 = </span><span class="s4">new </span><span class="s1">Date(date2.getFullYear()</span><span class="s3">, </span><span class="s1">date2.getMonth())</span><span class="s3">;</span><span class="s1"> 
    _date1.setFullYear(date1.getFullYear())</span><span class="s3">;</span><span class="s1"> 
    _date2.setFullYear(date2.getFullYear())</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">_date1 - _date2</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.handleKeyDown = </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">evt) { 
    </span><span class="s4">var </span><span class="s1">date = </span><span class="s4">this</span><span class="s1">.activeDate.getMonth()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(key === </span><span class="s2">'left'</span><span class="s1">) { 
      date = date - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'up'</span><span class="s1">) { 
      date = date - </span><span class="s4">this</span><span class="s1">.monthColumns</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'right'</span><span class="s1">) { 
      date = date + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'down'</span><span class="s1">) { 
      date = date + </span><span class="s4">this</span><span class="s1">.monthColumns</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'pageup' </span><span class="s1">|| key === </span><span class="s2">'pagedown'</span><span class="s1">) { 
      </span><span class="s4">var </span><span class="s1">year = </span><span class="s4">this</span><span class="s1">.activeDate.getFullYear() + (key === </span><span class="s2">'pageup' </span><span class="s1">? - </span><span class="s5">1 </span><span class="s1">: </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">this</span><span class="s1">.activeDate.setFullYear(year)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'home'</span><span class="s1">) { 
      date = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'end'</span><span class="s1">) { 
      date = </span><span class="s5">11</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">this</span><span class="s1">.activeDate.setMonth(date)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.controller(</span><span class="s2">'UibYearpickerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">dateFilter) { 
  </span><span class="s4">var </span><span class="s1">columns</span><span class="s3">, </span><span class="s1">range</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.element = $element</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getStartingYear(year) { 
    </span><span class="s4">return </span><span class="s1">parseInt((year - </span><span class="s5">1</span><span class="s1">) / range</span><span class="s3">, </span><span class="s5">10</span><span class="s1">) * range + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">this</span><span class="s1">.yearpickerInit = </span><span class="s4">function</span><span class="s1">() { 
    columns = </span><span class="s4">this</span><span class="s1">.yearColumns</span><span class="s3">;</span><span class="s1"> 
    range = </span><span class="s4">this</span><span class="s1">.yearRows * columns</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.step = { years: range }</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">._refreshView = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">years = </span><span class="s4">new </span><span class="s1">Array(range)</span><span class="s3">, </span><span class="s1">date</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">, </span><span class="s1">start = getStartingYear(</span><span class="s4">this</span><span class="s1">.activeDate.getFullYear())</span><span class="s3">; </span><span class="s1">i &lt; range</span><span class="s3">; </span><span class="s1">i++) { 
      date = </span><span class="s4">new </span><span class="s1">Date(</span><span class="s4">this</span><span class="s1">.activeDate)</span><span class="s3">;</span><span class="s1"> 
      date.setFullYear(start + i</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      years[i] = angular.extend(</span><span class="s4">this</span><span class="s1">.createDateObject(date</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.formatYear)</span><span class="s3">, </span><span class="s1">{ 
        uid: scope.uniqueId + </span><span class="s2">'-' </span><span class="s1">+ i 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    scope.title = [years[</span><span class="s5">0</span><span class="s1">].label</span><span class="s3">, </span><span class="s1">years[range - </span><span class="s5">1</span><span class="s1">].label].join(</span><span class="s2">' - '</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    scope.rows = </span><span class="s4">this</span><span class="s1">.split(years</span><span class="s3">, </span><span class="s1">columns)</span><span class="s3">;</span><span class="s1"> 
    scope.columns = columns</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.compare = </span><span class="s4">function</span><span class="s1">(date1</span><span class="s3">, </span><span class="s1">date2) { 
    </span><span class="s4">return </span><span class="s1">date1.getFullYear() - date2.getFullYear()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.handleKeyDown = </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">evt) { 
    </span><span class="s4">var </span><span class="s1">date = </span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(key === </span><span class="s2">'left'</span><span class="s1">) { 
      date = date - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'up'</span><span class="s1">) { 
      date = date - columns</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'right'</span><span class="s1">) { 
      date = date + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'down'</span><span class="s1">) { 
      date = date + columns</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'pageup' </span><span class="s1">|| key === </span><span class="s2">'pagedown'</span><span class="s1">) { 
      date += (key === </span><span class="s2">'pageup' </span><span class="s1">? - </span><span class="s5">1 </span><span class="s1">: </span><span class="s5">1</span><span class="s1">) * range</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'home'</span><span class="s1">) { 
      date = getStartingYear(</span><span class="s4">this</span><span class="s1">.activeDate.getFullYear())</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(key === </span><span class="s2">'end'</span><span class="s1">) { 
      date = getStartingYear(</span><span class="s4">this</span><span class="s1">.activeDate.getFullYear()) + range - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">this</span><span class="s1">.activeDate.setFullYear(date)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibDatepicker'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/datepicker/datepicker.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      datepickerOptions: </span><span class="s2">'=?'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'uibDatepicker'</span><span class="s3">, </span><span class="s2">'^ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibDatepickerController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'datepicker'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">datepickerCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      datepickerCtrl.init(ngModelCtrl)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibDaypicker'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/datepicker/day.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'^uibDatepicker'</span><span class="s3">, </span><span class="s2">'uibDaypicker'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibDaypickerController'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">datepickerCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
        daypickerCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      daypickerCtrl.init(datepickerCtrl)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibMonthpicker'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/datepicker/month.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'^uibDatepicker'</span><span class="s3">, </span><span class="s2">'uibMonthpicker'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibMonthpickerController'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">datepickerCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
        monthpickerCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      monthpickerCtrl.init(datepickerCtrl)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibYearpicker'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/datepicker/year.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'^uibDatepicker'</span><span class="s3">, </span><span class="s2">'uibYearpicker'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibYearpickerController'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">ctrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      angular.extend(ctrl</span><span class="s3">, </span><span class="s1">ctrls[</span><span class="s5">1</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
      ctrl.yearpickerInit()</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.refreshView()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.position'</span><span class="s3">, </span><span class="s1">[]) 
 
</span><span class="s6">/** 
 * A set of utility methods for working with the DOM. 
 * It is meant to be used where we need to absolute-position elements in 
 * relation to another element (this is the case for tooltips, popovers, 
 * typeahead suggestions etc.). 
 */</span><span class="s1"> 
  .factory(</span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$window'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($document</span><span class="s3">, </span><span class="s1">$window) { 
    </span><span class="s6">/** 
     * Used by scrollbarWidth() function to cache scrollbar's width. 
     * Do not access this variable directly, use scrollbarWidth() instead. 
     */</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">SCROLLBAR_WIDTH</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s6">/** 
     * scrollbar on body and html element in IE and Edge overlay 
     * content and should be considered 0 width. 
     */</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">BODY_SCROLLBAR_WIDTH</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">OVERFLOW_REGEX = { 
      normal: </span><span class="s2">/(auto|scroll)/</span><span class="s3">,</span><span class="s1"> 
      hidden: </span><span class="s2">/(auto|scroll|hidden)/</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">PLACEMENT_REGEX = { 
      auto: </span><span class="s2">/\s?auto?\s?/i</span><span class="s3">,</span><span class="s1"> 
      primary: </span><span class="s2">/^(top|bottom|left|right)$/</span><span class="s3">,</span><span class="s1"> 
      secondary: </span><span class="s2">/^(top|bottom|left|right|center)$/</span><span class="s3">,</span><span class="s1"> 
      vertical: </span><span class="s2">/^(top|bottom)$/</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">BODY_REGEX = </span><span class="s2">/(HTML|BODY)/</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">return </span><span class="s1">{ 
 
      </span><span class="s6">/** 
       * Provides a raw DOM element from a jQuery/jQLite element. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to convert. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{element} A HTML element. 
       */</span><span class="s1"> 
      getRawNode: </span><span class="s4">function</span><span class="s1">(elem) { 
        </span><span class="s4">return </span><span class="s1">elem.nodeName ? elem : elem[</span><span class="s5">0</span><span class="s1">] || elem</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides a parsed number for a style property.  Strips 
       * units and casts invalid numbers to 0. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{string} value - The style value to parse. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{number} A valid number. 
       */</span><span class="s1"> 
      parseStyle: </span><span class="s4">function</span><span class="s1">(value) { 
        value = parseFloat(value)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">isFinite(value) ? value : </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides the closest positioned ancestor. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} element - The element to get the offest parent for. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{element} The closest positioned ancestor. 
       */</span><span class="s1"> 
      offsetParent: </span><span class="s4">function</span><span class="s1">(elem) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">offsetParent = elem.offsetParent || $document[</span><span class="s5">0</span><span class="s1">].documentElement</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">function </span><span class="s1">isStaticPositioned(el) { 
          </span><span class="s4">return </span><span class="s1">($window.getComputedStyle(el).position || </span><span class="s2">'static'</span><span class="s1">) === </span><span class="s2">'static'</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">while </span><span class="s1">(offsetParent &amp;&amp; offsetParent !== $document[</span><span class="s5">0</span><span class="s1">].documentElement &amp;&amp; isStaticPositioned(offsetParent)) { 
          offsetParent = offsetParent.offsetParent</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">offsetParent || $document[</span><span class="s5">0</span><span class="s1">].documentElement</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides the scrollbar width, concept from TWBS measureScrollbar() 
       * function in https://github.com/twbs/bootstrap/blob/master/js/modal.js 
       * In IE and Edge, scollbar on body and html element overlay and should 
       * return a width of 0. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{number} The width of the browser scollbar. 
       */</span><span class="s1"> 
      scrollbarWidth: </span><span class="s4">function</span><span class="s1">(isBody) { 
        </span><span class="s4">if </span><span class="s1">(isBody) { 
          </span><span class="s4">if </span><span class="s1">(angular.isUndefined(BODY_SCROLLBAR_WIDTH)) { 
            </span><span class="s4">var </span><span class="s1">bodyElem = $document.find(</span><span class="s2">'body'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            bodyElem.addClass(</span><span class="s2">'uib-position-body-scrollbar-measure'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            BODY_SCROLLBAR_WIDTH = $window.innerWidth - bodyElem[</span><span class="s5">0</span><span class="s1">].clientWidth</span><span class="s3">;</span><span class="s1"> 
            BODY_SCROLLBAR_WIDTH = isFinite(BODY_SCROLLBAR_WIDTH) ? BODY_SCROLLBAR_WIDTH : </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
            bodyElem.removeClass(</span><span class="s2">'uib-position-body-scrollbar-measure'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
          </span><span class="s4">return </span><span class="s1">BODY_SCROLLBAR_WIDTH</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(angular.isUndefined(SCROLLBAR_WIDTH)) { 
          </span><span class="s4">var </span><span class="s1">scrollElem = angular.element(</span><span class="s2">'&lt;div class=&quot;uib-position-scrollbar-measure&quot;&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          $document.find(</span><span class="s2">'body'</span><span class="s1">).append(scrollElem)</span><span class="s3">;</span><span class="s1"> 
          SCROLLBAR_WIDTH = scrollElem[</span><span class="s5">0</span><span class="s1">].offsetWidth - scrollElem[</span><span class="s5">0</span><span class="s1">].clientWidth</span><span class="s3">;</span><span class="s1"> 
          SCROLLBAR_WIDTH = isFinite(SCROLLBAR_WIDTH) ? SCROLLBAR_WIDTH : </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
          scrollElem.remove()</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">SCROLLBAR_WIDTH</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides the padding required on an element to replace the scrollbar. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{object} An object with the following properties: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;**scrollbarWidth**: the width of the scrollbar&lt;/li&gt; 
       *     &lt;li&gt;**widthOverflow**: whether the the width is overflowing&lt;/li&gt; 
       *     &lt;li&gt;**right**: the amount of right padding on the element needed to replace the scrollbar&lt;/li&gt; 
       *     &lt;li&gt;**rightOriginal**: the amount of right padding currently on the element&lt;/li&gt; 
       *     &lt;li&gt;**heightOverflow**: whether the the height is overflowing&lt;/li&gt; 
       *     &lt;li&gt;**bottom**: the amount of bottom padding on the element needed to replace the scrollbar&lt;/li&gt; 
       *     &lt;li&gt;**bottomOriginal**: the amount of bottom padding currently on the element&lt;/li&gt; 
       *   &lt;/ul&gt; 
       */</span><span class="s1"> 
      scrollbarPadding: </span><span class="s4">function</span><span class="s1">(elem) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">elemStyle = $window.getComputedStyle(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">paddingRight = </span><span class="s4">this</span><span class="s1">.parseStyle(elemStyle.paddingRight)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">paddingBottom = </span><span class="s4">this</span><span class="s1">.parseStyle(elemStyle.paddingBottom)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">scrollParent = </span><span class="s4">this</span><span class="s1">.scrollParent(elem</span><span class="s3">, </span><span class="s4">false</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">scrollbarWidth = </span><span class="s4">this</span><span class="s1">.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName))</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">{ 
          scrollbarWidth: scrollbarWidth</span><span class="s3">,</span><span class="s1"> 
          widthOverflow: scrollParent.scrollWidth &gt; scrollParent.clientWidth</span><span class="s3">,</span><span class="s1"> 
          right: paddingRight + scrollbarWidth</span><span class="s3">,</span><span class="s1"> 
          originalRight: paddingRight</span><span class="s3">,</span><span class="s1"> 
          heightOverflow: scrollParent.scrollHeight &gt; scrollParent.clientHeight</span><span class="s3">,</span><span class="s1"> 
          bottom: paddingBottom + scrollbarWidth</span><span class="s3">,</span><span class="s1"> 
          originalBottom: paddingBottom 
         }</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Checks to see if the element is scrollable. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to check. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered, 
       *   default is false. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{boolean} Whether the element is scrollable. 
       */</span><span class="s1"> 
      isScrollable: </span><span class="s4">function</span><span class="s1">(elem</span><span class="s3">, </span><span class="s1">includeHidden) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">elemStyle = $window.getComputedStyle(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX)</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides the closest scrollable ancestor. 
       * A port of the jQuery UI scrollParent method: 
       * https://github.com/jquery/jquery-ui/blob/master/ui/scroll-parent.js 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to find the scroll parent of. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered, 
       *   default is false. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [includeSelf=false] - Should the element being passed be 
       * included in the scrollable llokup. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{element} A HTML element. 
       */</span><span class="s1"> 
      scrollParent: </span><span class="s4">function</span><span class="s1">(elem</span><span class="s3">, </span><span class="s1">includeHidden</span><span class="s3">, </span><span class="s1">includeSelf) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">documentEl = $document[</span><span class="s5">0</span><span class="s1">].documentElement</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">elemStyle = $window.getComputedStyle(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(includeSelf &amp;&amp; overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX)) { 
          </span><span class="s4">return </span><span class="s1">elem</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">var </span><span class="s1">excludeStatic = elemStyle.position === </span><span class="s2">'absolute'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">scrollParent = elem.parentElement || documentEl</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(scrollParent === documentEl || elemStyle.position === </span><span class="s2">'fixed'</span><span class="s1">) { 
          </span><span class="s4">return </span><span class="s1">documentEl</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">while </span><span class="s1">(scrollParent.parentElement &amp;&amp; scrollParent !== documentEl) { 
          </span><span class="s4">var </span><span class="s1">spStyle = $window.getComputedStyle(scrollParent)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(excludeStatic &amp;&amp; spStyle.position !== </span><span class="s2">'static'</span><span class="s1">) { 
            excludeStatic = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">if </span><span class="s1">(!excludeStatic &amp;&amp; overflowRegex.test(spStyle.overflow + spStyle.overflowY + spStyle.overflowX)) { 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          } 
          scrollParent = scrollParent.parentElement</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">scrollParent</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides read-only equivalent of jQuery's position function: 
       * http://api.jquery.com/position/ - distance to closest positioned 
       * ancestor.  Does not account for margins by default like jQuery position. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to caclulate the position on. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [includeMargins=false] - Should margins be accounted 
       * for, default is false. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{object} An object with the following properties: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;**width**: the width of the element&lt;/li&gt; 
       *     &lt;li&gt;**height**: the height of the element&lt;/li&gt; 
       *     &lt;li&gt;**top**: distance to top edge of offset parent&lt;/li&gt; 
       *     &lt;li&gt;**left**: distance to left edge of offset parent&lt;/li&gt; 
       *   &lt;/ul&gt; 
       */</span><span class="s1"> 
      position: </span><span class="s4">function</span><span class="s1">(elem</span><span class="s3">, </span><span class="s1">includeMagins) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">elemOffset = </span><span class="s4">this</span><span class="s1">.offset(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(includeMagins) { 
          </span><span class="s4">var </span><span class="s1">elemStyle = $window.getComputedStyle(elem)</span><span class="s3">;</span><span class="s1"> 
          elemOffset.top -= </span><span class="s4">this</span><span class="s1">.parseStyle(elemStyle.marginTop)</span><span class="s3">;</span><span class="s1"> 
          elemOffset.left -= </span><span class="s4">this</span><span class="s1">.parseStyle(elemStyle.marginLeft)</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">var </span><span class="s1">parent = </span><span class="s4">this</span><span class="s1">.offsetParent(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">parentOffset = {top: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">left: </span><span class="s5">0</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(parent !== $document[</span><span class="s5">0</span><span class="s1">].documentElement) { 
          parentOffset = </span><span class="s4">this</span><span class="s1">.offset(parent)</span><span class="s3">;</span><span class="s1"> 
          parentOffset.top += parent.clientTop - parent.scrollTop</span><span class="s3">;</span><span class="s1"> 
          parentOffset.left += parent.clientLeft - parent.scrollLeft</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">{ 
          width: Math.round(angular.isNumber(elemOffset.width) ? elemOffset.width : elem.offsetWidth)</span><span class="s3">,</span><span class="s1"> 
          height: Math.round(angular.isNumber(elemOffset.height) ? elemOffset.height : elem.offsetHeight)</span><span class="s3">,</span><span class="s1"> 
          top: Math.round(elemOffset.top - parentOffset.top)</span><span class="s3">,</span><span class="s1"> 
          left: Math.round(elemOffset.left - parentOffset.left) 
        }</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides read-only equivalent of jQuery's offset function: 
       * http://api.jquery.com/offset/ - distance to viewport.  Does 
       * not account for borders, margins, or padding on the body 
       * element. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to calculate the offset on. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{object} An object with the following properties: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;**width**: the width of the element&lt;/li&gt; 
       *     &lt;li&gt;**height**: the height of the element&lt;/li&gt; 
       *     &lt;li&gt;**top**: distance to top edge of viewport&lt;/li&gt; 
       *     &lt;li&gt;**right**: distance to bottom edge of viewport&lt;/li&gt; 
       *   &lt;/ul&gt; 
       */</span><span class="s1"> 
      offset: </span><span class="s4">function</span><span class="s1">(elem) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">elemBCR = elem.getBoundingClientRect()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">{ 
          width: Math.round(angular.isNumber(elemBCR.width) ? elemBCR.width : elem.offsetWidth)</span><span class="s3">,</span><span class="s1"> 
          height: Math.round(angular.isNumber(elemBCR.height) ? elemBCR.height : elem.offsetHeight)</span><span class="s3">,</span><span class="s1"> 
          top: Math.round(elemBCR.top + ($window.pageYOffset || $document[</span><span class="s5">0</span><span class="s1">].documentElement.scrollTop))</span><span class="s3">,</span><span class="s1"> 
          left: Math.round(elemBCR.left + ($window.pageXOffset || $document[</span><span class="s5">0</span><span class="s1">].documentElement.scrollLeft)) 
        }</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides offset distance to the closest scrollable ancestor 
       * or viewport.  Accounts for border and scrollbar width. 
       * 
       * Right and bottom dimensions represent the distance to the 
       * respective edge of the viewport element.  If the element 
       * edge extends beyond the viewport, a negative value will be 
       * reported. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The element to get the viewport offset for. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [useDocument=false] - Should the viewport be the document element instead 
       * of the first scrollable element, default is false. 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [includePadding=true] - Should the padding on the offset parent element 
       * be accounted for, default is true. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{object} An object with the following properties: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;**top**: distance to the top content edge of viewport element&lt;/li&gt; 
       *     &lt;li&gt;**bottom**: distance to the bottom content edge of viewport element&lt;/li&gt; 
       *     &lt;li&gt;**left**: distance to the left content edge of viewport element&lt;/li&gt; 
       *     &lt;li&gt;**right**: distance to the right content edge of viewport element&lt;/li&gt; 
       *   &lt;/ul&gt; 
       */</span><span class="s1"> 
      viewportOffset: </span><span class="s4">function</span><span class="s1">(elem</span><span class="s3">, </span><span class="s1">useDocument</span><span class="s3">, </span><span class="s1">includePadding) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
        includePadding = includePadding !== </span><span class="s4">false </span><span class="s1">? </span><span class="s4">true </span><span class="s1">: </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">elemBCR = elem.getBoundingClientRect()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">offsetBCR = {top: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">left: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">bottom: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">right: </span><span class="s5">0</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">offsetParent = useDocument ? $document[</span><span class="s5">0</span><span class="s1">].documentElement : </span><span class="s4">this</span><span class="s1">.scrollParent(elem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">offsetParentBCR = offsetParent.getBoundingClientRect()</span><span class="s3">;</span><span class="s1"> 
 
        offsetBCR.top = offsetParentBCR.top + offsetParent.clientTop</span><span class="s3">;</span><span class="s1"> 
        offsetBCR.left = offsetParentBCR.left + offsetParent.clientLeft</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(offsetParent === $document[</span><span class="s5">0</span><span class="s1">].documentElement) { 
          offsetBCR.top += $window.pageYOffset</span><span class="s3">;</span><span class="s1"> 
          offsetBCR.left += $window.pageXOffset</span><span class="s3">;</span><span class="s1"> 
        } 
        offsetBCR.bottom = offsetBCR.top + offsetParent.clientHeight</span><span class="s3">;</span><span class="s1"> 
        offsetBCR.right = offsetBCR.left + offsetParent.clientWidth</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(includePadding) { 
          </span><span class="s4">var </span><span class="s1">offsetParentStyle = $window.getComputedStyle(offsetParent)</span><span class="s3">;</span><span class="s1"> 
          offsetBCR.top += </span><span class="s4">this</span><span class="s1">.parseStyle(offsetParentStyle.paddingTop)</span><span class="s3">;</span><span class="s1"> 
          offsetBCR.bottom -= </span><span class="s4">this</span><span class="s1">.parseStyle(offsetParentStyle.paddingBottom)</span><span class="s3">;</span><span class="s1"> 
          offsetBCR.left += </span><span class="s4">this</span><span class="s1">.parseStyle(offsetParentStyle.paddingLeft)</span><span class="s3">;</span><span class="s1"> 
          offsetBCR.right -= </span><span class="s4">this</span><span class="s1">.parseStyle(offsetParentStyle.paddingRight)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">{ 
          top: Math.round(elemBCR.top - offsetBCR.top)</span><span class="s3">,</span><span class="s1"> 
          bottom: Math.round(offsetBCR.bottom - elemBCR.bottom)</span><span class="s3">,</span><span class="s1"> 
          left: Math.round(elemBCR.left - offsetBCR.left)</span><span class="s3">,</span><span class="s1"> 
          right: Math.round(offsetBCR.right - elemBCR.right) 
        }</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides an array of placement values parsed from a placement string. 
       * Along with the 'auto' indicator, supported placement strings are: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;top: element on top, horizontally centered on host element.&lt;/li&gt; 
       *     &lt;li&gt;top-left: element on top, left edge aligned with host element left edge.&lt;/li&gt; 
       *     &lt;li&gt;top-right: element on top, lerightft edge aligned with host element right edge.&lt;/li&gt; 
       *     &lt;li&gt;bottom: element on bottom, horizontally centered on host element.&lt;/li&gt; 
       *     &lt;li&gt;bottom-left: element on bottom, left edge aligned with host element left edge.&lt;/li&gt; 
       *     &lt;li&gt;bottom-right: element on bottom, right edge aligned with host element right edge.&lt;/li&gt; 
       *     &lt;li&gt;left: element on left, vertically centered on host element.&lt;/li&gt; 
       *     &lt;li&gt;left-top: element on left, top edge aligned with host element top edge.&lt;/li&gt; 
       *     &lt;li&gt;left-bottom: element on left, bottom edge aligned with host element bottom edge.&lt;/li&gt; 
       *     &lt;li&gt;right: element on right, vertically centered on host element.&lt;/li&gt; 
       *     &lt;li&gt;right-top: element on right, top edge aligned with host element top edge.&lt;/li&gt; 
       *     &lt;li&gt;right-bottom: element on right, bottom edge aligned with host element bottom edge.&lt;/li&gt; 
       *   &lt;/ul&gt; 
       * A placement string with an 'auto' indicator is expected to be 
       * space separated from the placement, i.e: 'auto bottom-left'  If 
       * the primary and secondary placement values do not match 'top, 
       * bottom, left, right' then 'top' will be the primary placement and 
       * 'center' will be the secondary placement.  If 'auto' is passed, true 
       * will be returned as the 3rd value of the array. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{string} placement - The placement string to parse. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{array} An array with the following values 
       * &lt;ul&gt; 
       *   &lt;li&gt;**[0]**: The primary placement.&lt;/li&gt; 
       *   &lt;li&gt;**[1]**: The secondary placement.&lt;/li&gt; 
       *   &lt;li&gt;**[2]**: If auto is passed: true, else undefined.&lt;/li&gt; 
       * &lt;/ul&gt; 
       */</span><span class="s1"> 
      parsePlacement: </span><span class="s4">function</span><span class="s1">(placement) { 
        </span><span class="s4">var </span><span class="s1">autoPlace = PLACEMENT_REGEX.auto.test(placement)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(autoPlace) { 
          placement = placement.replace(PLACEMENT_REGEX.auto</span><span class="s3">, </span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        placement = placement.split(</span><span class="s2">'-'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        placement[</span><span class="s5">0</span><span class="s1">] = placement[</span><span class="s5">0</span><span class="s1">] || </span><span class="s2">'top'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!PLACEMENT_REGEX.primary.test(placement[</span><span class="s5">0</span><span class="s1">])) { 
          placement[</span><span class="s5">0</span><span class="s1">] = </span><span class="s2">'top'</span><span class="s3">;</span><span class="s1"> 
        } 
 
        placement[</span><span class="s5">1</span><span class="s1">] = placement[</span><span class="s5">1</span><span class="s1">] || </span><span class="s2">'center'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!PLACEMENT_REGEX.secondary.test(placement[</span><span class="s5">1</span><span class="s1">])) { 
          placement[</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'center'</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(autoPlace) { 
          placement[</span><span class="s5">2</span><span class="s1">] = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          placement[</span><span class="s5">2</span><span class="s1">] = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">placement</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides coordinates for an element to be positioned relative to 
       * another element.  Passing 'auto' as part of the placement parameter 
       * will enable smart placement - where the element fits. i.e: 
       * 'auto left-top' will check to see if there is enough space to the left 
       * of the hostElem to fit the targetElem, if not place right (same for secondary 
       * top placement).  Available space is calculated using the viewportOffset 
       * function. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} hostElem - The element to position against. 
       * </span><span class="s7">@param </span><span class="s6">{element} targetElem - The element to position. 
       * </span><span class="s7">@param </span><span class="s6">{string=} [placement=top] - The placement for the targetElem, 
       *   default is 'top'. 'center' is assumed as secondary placement for 
       *   'top', 'left', 'right', and 'bottom' placements.  Available placements are: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;top&lt;/li&gt; 
       *     &lt;li&gt;top-right&lt;/li&gt; 
       *     &lt;li&gt;top-left&lt;/li&gt; 
       *     &lt;li&gt;bottom&lt;/li&gt; 
       *     &lt;li&gt;bottom-left&lt;/li&gt; 
       *     &lt;li&gt;bottom-right&lt;/li&gt; 
       *     &lt;li&gt;left&lt;/li&gt; 
       *     &lt;li&gt;left-top&lt;/li&gt; 
       *     &lt;li&gt;left-bottom&lt;/li&gt; 
       *     &lt;li&gt;right&lt;/li&gt; 
       *     &lt;li&gt;right-top&lt;/li&gt; 
       *     &lt;li&gt;right-bottom&lt;/li&gt; 
       *   &lt;/ul&gt; 
       * </span><span class="s7">@param </span><span class="s6">{boolean=} [appendToBody=false] - Should the top and left values returned 
       *   be calculated from the body element, default is false. 
       * 
       * </span><span class="s7">@returns </span><span class="s6">{object} An object with the following properties: 
       *   &lt;ul&gt; 
       *     &lt;li&gt;**top**: Value for targetElem top.&lt;/li&gt; 
       *     &lt;li&gt;**left**: Value for targetElem left.&lt;/li&gt; 
       *     &lt;li&gt;**placement**: The resolved placement.&lt;/li&gt; 
       *   &lt;/ul&gt; 
       */</span><span class="s1"> 
      positionElements: </span><span class="s4">function</span><span class="s1">(hostElem</span><span class="s3">, </span><span class="s1">targetElem</span><span class="s3">, </span><span class="s1">placement</span><span class="s3">, </span><span class="s1">appendToBody) { 
        hostElem = </span><span class="s4">this</span><span class="s1">.getRawNode(hostElem)</span><span class="s3">;</span><span class="s1"> 
        targetElem = </span><span class="s4">this</span><span class="s1">.getRawNode(targetElem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// need to read from prop to support tests.</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">targetWidth = angular.isDefined(targetElem.offsetWidth) ? targetElem.offsetWidth : targetElem.prop(</span><span class="s2">'offsetWidth'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">targetHeight = angular.isDefined(targetElem.offsetHeight) ? targetElem.offsetHeight : targetElem.prop(</span><span class="s2">'offsetHeight'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        placement = </span><span class="s4">this</span><span class="s1">.parsePlacement(placement)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">hostElemPos = appendToBody ? </span><span class="s4">this</span><span class="s1">.offset(hostElem) : </span><span class="s4">this</span><span class="s1">.position(hostElem)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">targetElemPos = {top: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">left: </span><span class="s5">0</span><span class="s3">, </span><span class="s1">placement: </span><span class="s2">''</span><span class="s1">}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(placement[</span><span class="s5">2</span><span class="s1">]) { 
          </span><span class="s4">var </span><span class="s1">viewportOffset = </span><span class="s4">this</span><span class="s1">.viewportOffset(hostElem</span><span class="s3">, </span><span class="s1">appendToBody)</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">var </span><span class="s1">targetElemStyle = $window.getComputedStyle(targetElem)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">var </span><span class="s1">adjustedSize = { 
            width: targetWidth + Math.round(Math.abs(</span><span class="s4">this</span><span class="s1">.parseStyle(targetElemStyle.marginLeft) + </span><span class="s4">this</span><span class="s1">.parseStyle(targetElemStyle.marginRight)))</span><span class="s3">,</span><span class="s1"> 
            height: targetHeight + Math.round(Math.abs(</span><span class="s4">this</span><span class="s1">.parseStyle(targetElemStyle.marginTop) + </span><span class="s4">this</span><span class="s1">.parseStyle(targetElemStyle.marginBottom))) 
          }</span><span class="s3">;</span><span class="s1"> 
 
          placement[</span><span class="s5">0</span><span class="s1">] = placement[</span><span class="s5">0</span><span class="s1">] === </span><span class="s2">'top' </span><span class="s1">&amp;&amp; adjustedSize.height &gt; viewportOffset.top &amp;&amp; adjustedSize.height &lt;= viewportOffset.bottom ? </span><span class="s2">'bottom' </span><span class="s1">: 
                         placement[</span><span class="s5">0</span><span class="s1">] === </span><span class="s2">'bottom' </span><span class="s1">&amp;&amp; adjustedSize.height &gt; viewportOffset.bottom &amp;&amp; adjustedSize.height &lt;= viewportOffset.top ? </span><span class="s2">'top' </span><span class="s1">: 
                         placement[</span><span class="s5">0</span><span class="s1">] === </span><span class="s2">'left' </span><span class="s1">&amp;&amp; adjustedSize.width &gt; viewportOffset.left &amp;&amp; adjustedSize.width &lt;= viewportOffset.right ? </span><span class="s2">'right' </span><span class="s1">: 
                         placement[</span><span class="s5">0</span><span class="s1">] === </span><span class="s2">'right' </span><span class="s1">&amp;&amp; adjustedSize.width &gt; viewportOffset.right &amp;&amp; adjustedSize.width &lt;= viewportOffset.left ? </span><span class="s2">'left' </span><span class="s1">: 
                         placement[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
          placement[</span><span class="s5">1</span><span class="s1">] = placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'top' </span><span class="s1">&amp;&amp; adjustedSize.height - hostElemPos.height &gt; viewportOffset.bottom &amp;&amp; adjustedSize.height - hostElemPos.height &lt;= viewportOffset.top ? </span><span class="s2">'bottom' </span><span class="s1">: 
                         placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'bottom' </span><span class="s1">&amp;&amp; adjustedSize.height - hostElemPos.height &gt; viewportOffset.top &amp;&amp; adjustedSize.height - hostElemPos.height &lt;= viewportOffset.bottom ? </span><span class="s2">'top' </span><span class="s1">: 
                         placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'left' </span><span class="s1">&amp;&amp; adjustedSize.width - hostElemPos.width &gt; viewportOffset.right &amp;&amp; adjustedSize.width - hostElemPos.width &lt;= viewportOffset.left ? </span><span class="s2">'right' </span><span class="s1">: 
                         placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'right' </span><span class="s1">&amp;&amp; adjustedSize.width - hostElemPos.width &gt; viewportOffset.left &amp;&amp; adjustedSize.width - hostElemPos.width &lt;= viewportOffset.right ? </span><span class="s2">'left' </span><span class="s1">: 
                         placement[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">if </span><span class="s1">(placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'center'</span><span class="s1">) { 
            </span><span class="s4">if </span><span class="s1">(PLACEMENT_REGEX.vertical.test(placement[</span><span class="s5">0</span><span class="s1">])) { 
              </span><span class="s4">var </span><span class="s1">xOverflow = hostElemPos.width / </span><span class="s5">2 </span><span class="s1">- targetWidth / </span><span class="s5">2</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(viewportOffset.left + xOverflow &lt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; adjustedSize.width - hostElemPos.width &lt;= viewportOffset.right) { 
                placement[</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'left'</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else if </span><span class="s1">(viewportOffset.right + xOverflow &lt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; adjustedSize.width - hostElemPos.width &lt;= viewportOffset.left) { 
                placement[</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'right'</span><span class="s3">;</span><span class="s1"> 
              } 
            } </span><span class="s4">else </span><span class="s1">{ 
              </span><span class="s4">var </span><span class="s1">yOverflow = hostElemPos.height / </span><span class="s5">2 </span><span class="s1">- adjustedSize.height / </span><span class="s5">2</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(viewportOffset.top + yOverflow &lt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; adjustedSize.height - hostElemPos.height &lt;= viewportOffset.bottom) { 
                placement[</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'top'</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else if </span><span class="s1">(viewportOffset.bottom + yOverflow &lt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; adjustedSize.height - hostElemPos.height &lt;= viewportOffset.top) { 
                placement[</span><span class="s5">1</span><span class="s1">] = </span><span class="s2">'bottom'</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
          } 
        } 
 
        </span><span class="s4">switch </span><span class="s1">(placement[</span><span class="s5">0</span><span class="s1">]) { 
          </span><span class="s4">case </span><span class="s2">'top'</span><span class="s1">: 
            targetElemPos.top = hostElemPos.top - targetHeight</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'bottom'</span><span class="s1">: 
            targetElemPos.top = hostElemPos.top + hostElemPos.height</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'left'</span><span class="s1">: 
            targetElemPos.left = hostElemPos.left - targetWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'right'</span><span class="s1">: 
            targetElemPos.left = hostElemPos.left + hostElemPos.width</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">switch </span><span class="s1">(placement[</span><span class="s5">1</span><span class="s1">]) { 
          </span><span class="s4">case </span><span class="s2">'top'</span><span class="s1">: 
            targetElemPos.top = hostElemPos.top</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'bottom'</span><span class="s1">: 
            targetElemPos.top = hostElemPos.top + hostElemPos.height - targetHeight</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'left'</span><span class="s1">: 
            targetElemPos.left = hostElemPos.left</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'right'</span><span class="s1">: 
            targetElemPos.left = hostElemPos.left + hostElemPos.width - targetWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'center'</span><span class="s1">: 
            </span><span class="s4">if </span><span class="s1">(PLACEMENT_REGEX.vertical.test(placement[</span><span class="s5">0</span><span class="s1">])) { 
              targetElemPos.left = hostElemPos.left + hostElemPos.width / </span><span class="s5">2 </span><span class="s1">- targetWidth / </span><span class="s5">2</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              targetElemPos.top = hostElemPos.top + hostElemPos.height / </span><span class="s5">2 </span><span class="s1">- targetHeight / </span><span class="s5">2</span><span class="s3">;</span><span class="s1"> 
            } 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        } 
 
        targetElemPos.top = Math.round(targetElemPos.top)</span><span class="s3">;</span><span class="s1"> 
        targetElemPos.left = Math.round(targetElemPos.left)</span><span class="s3">;</span><span class="s1"> 
        targetElemPos.placement = placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'center' </span><span class="s1">? placement[</span><span class="s5">0</span><span class="s1">] : placement[</span><span class="s5">0</span><span class="s1">] + </span><span class="s2">'-' </span><span class="s1">+ placement[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">targetElemPos</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides a way to adjust the top positioning after first 
       * render to correctly align element to top after content 
       * rendering causes resized element height 
       * 
       * </span><span class="s7">@param </span><span class="s6">{array} placementClasses - The array of strings of classes 
       * element should have. 
       * </span><span class="s7">@param </span><span class="s6">{object} containerPosition - The object with container 
       * position information 
       * </span><span class="s7">@param </span><span class="s6">{number} initialHeight - The initial height for the elem. 
       * </span><span class="s7">@param </span><span class="s6">{number} currentHeight - The current height for the elem. 
       */</span><span class="s1"> 
      adjustTop: </span><span class="s4">function</span><span class="s1">(placementClasses</span><span class="s3">, </span><span class="s1">containerPosition</span><span class="s3">, </span><span class="s1">initialHeight</span><span class="s3">, </span><span class="s1">currentHeight) { 
        </span><span class="s4">if </span><span class="s1">(placementClasses.indexOf(</span><span class="s2">'top'</span><span class="s1">) !== -</span><span class="s5">1 </span><span class="s1">&amp;&amp; initialHeight !== currentHeight) { 
          </span><span class="s4">return </span><span class="s1">{ 
            top: containerPosition.top - currentHeight + </span><span class="s2">'px'</span><span class="s1"> 
          }</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">,</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Provides a way for positioning tooltip &amp; dropdown 
       * arrows when using placement options beyond the standard 
       * left, right, top, or bottom. 
       * 
       * </span><span class="s7">@param </span><span class="s6">{element} elem - The tooltip/dropdown element. 
       * </span><span class="s7">@param </span><span class="s6">{string} placement - The placement for the elem. 
       */</span><span class="s1"> 
      positionArrow: </span><span class="s4">function</span><span class="s1">(elem</span><span class="s3">, </span><span class="s1">placement) { 
        elem = </span><span class="s4">this</span><span class="s1">.getRawNode(elem)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">innerElem = elem.querySelector(</span><span class="s2">'.tooltip-inner, .popover-inner'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!innerElem) { 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">isTooltip = angular.element(innerElem).hasClass(</span><span class="s2">'tooltip-inner'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">arrowElem = isTooltip ? elem.querySelector(</span><span class="s2">'.tooltip-arrow'</span><span class="s1">) : elem.querySelector(</span><span class="s2">'.arrow'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!arrowElem) { 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">arrowCss = { 
          top: </span><span class="s2">''</span><span class="s3">,</span><span class="s1"> 
          bottom: </span><span class="s2">''</span><span class="s3">,</span><span class="s1"> 
          left: </span><span class="s2">''</span><span class="s3">,</span><span class="s1"> 
          right: </span><span class="s2">''</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
        placement = </span><span class="s4">this</span><span class="s1">.parsePlacement(placement)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(placement[</span><span class="s5">1</span><span class="s1">] === </span><span class="s2">'center'</span><span class="s1">) { 
          </span><span class="s0">// no adjustment necessary - just reset styles</span><span class="s1"> 
          angular.element(arrowElem).css(arrowCss)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">borderProp = </span><span class="s2">'border-' </span><span class="s1">+ placement[</span><span class="s5">0</span><span class="s1">] + </span><span class="s2">'-width'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">borderWidth = $window.getComputedStyle(arrowElem)[borderProp]</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">borderRadiusProp = </span><span class="s2">'border-'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(PLACEMENT_REGEX.vertical.test(placement[</span><span class="s5">0</span><span class="s1">])) { 
          borderRadiusProp += placement[</span><span class="s5">0</span><span class="s1">] + </span><span class="s2">'-' </span><span class="s1">+ placement[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          borderRadiusProp += placement[</span><span class="s5">1</span><span class="s1">] + </span><span class="s2">'-' </span><span class="s1">+ placement[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        } 
        borderRadiusProp += </span><span class="s2">'-radius'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">borderRadius = $window.getComputedStyle(isTooltip ? innerElem : elem)[borderRadiusProp]</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">switch </span><span class="s1">(placement[</span><span class="s5">0</span><span class="s1">]) { 
          </span><span class="s4">case </span><span class="s2">'top'</span><span class="s1">: 
            arrowCss.bottom = isTooltip ? </span><span class="s2">'0' </span><span class="s1">: </span><span class="s2">'-' </span><span class="s1">+ borderWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'bottom'</span><span class="s1">: 
            arrowCss.top = isTooltip ? </span><span class="s2">'0' </span><span class="s1">: </span><span class="s2">'-' </span><span class="s1">+ borderWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'left'</span><span class="s1">: 
            arrowCss.right = isTooltip ? </span><span class="s2">'0' </span><span class="s1">: </span><span class="s2">'-' </span><span class="s1">+ borderWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">case </span><span class="s2">'right'</span><span class="s1">: 
            arrowCss.left = isTooltip ? </span><span class="s2">'0' </span><span class="s1">: </span><span class="s2">'-' </span><span class="s1">+ borderWidth</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        } 
 
        arrowCss[placement[</span><span class="s5">1</span><span class="s1">]] = borderRadius</span><span class="s3">;</span><span class="s1"> 
 
        angular.element(arrowElem).css(arrowCss)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.datepickerPopup'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.datepicker'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.position'</span><span class="s1">]) 
 
.value(</span><span class="s2">'$datepickerPopupLiteralWarning'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">) 
 
.constant(</span><span class="s2">'uibDatepickerPopupConfig'</span><span class="s3">, </span><span class="s1">{ 
  altInputFormats: []</span><span class="s3">,</span><span class="s1"> 
  appendToBody: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  clearText: </span><span class="s2">'Clear'</span><span class="s3">,</span><span class="s1"> 
  closeOnDateSelection: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  closeText: </span><span class="s2">'Done'</span><span class="s3">,</span><span class="s1"> 
  currentText: </span><span class="s2">'Today'</span><span class="s3">,</span><span class="s1"> 
  datepickerPopup: </span><span class="s2">'yyyy-MM-dd'</span><span class="s3">,</span><span class="s1"> 
  datepickerPopupTemplateUrl: </span><span class="s2">'uib/template/datepickerPopup/popup.html'</span><span class="s3">,</span><span class="s1"> 
  datepickerTemplateUrl: </span><span class="s2">'uib/template/datepicker/datepicker.html'</span><span class="s3">,</span><span class="s1"> 
  html5Types: { 
    date: </span><span class="s2">'yyyy-MM-dd'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'datetime-local'</span><span class="s1">: </span><span class="s2">'yyyy-MM-ddTHH:mm:ss.sss'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'month'</span><span class="s1">: </span><span class="s2">'yyyy-MM'</span><span class="s1"> 
  }</span><span class="s3">,</span><span class="s1"> 
  onOpenFocus: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  showButtonBar: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  placement: </span><span class="s2">'auto bottom-left'</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibDatepickerPopupController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$log'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$window'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s2">'dateFilter'</span><span class="s3">, </span><span class="s2">'uibDateParser'</span><span class="s3">, </span><span class="s2">'uibDatepickerPopupConfig'</span><span class="s3">, </span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s2">'uibDatepickerConfig'</span><span class="s3">, </span><span class="s2">'$datepickerPopupLiteralWarning'</span><span class="s3">,</span><span class="s1"> 
</span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$log</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$window</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$rootScope</span><span class="s3">, </span><span class="s1">$position</span><span class="s3">, </span><span class="s1">dateFilter</span><span class="s3">, </span><span class="s1">dateParser</span><span class="s3">, </span><span class="s1">datepickerPopupConfig</span><span class="s3">, </span><span class="s1">$timeout</span><span class="s3">, </span><span class="s1">datepickerConfig</span><span class="s3">, </span><span class="s1">$datepickerPopupLiteralWarning) { 
  </span><span class="s4">var </span><span class="s1">cache = {}</span><span class="s3">,</span><span class="s1"> 
    isHtml5DateInput = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">dateFormat</span><span class="s3">, </span><span class="s1">closeOnDateSelection</span><span class="s3">, </span><span class="s1">appendToBody</span><span class="s3">, </span><span class="s1">onOpenFocus</span><span class="s3">,</span><span class="s1"> 
    datepickerPopupTemplateUrl</span><span class="s3">, </span><span class="s1">datepickerTemplateUrl</span><span class="s3">, </span><span class="s1">popupEl</span><span class="s3">, </span><span class="s1">datepickerEl</span><span class="s3">, </span><span class="s1">scrollParentEl</span><span class="s3">,</span><span class="s1"> 
    ngModel</span><span class="s3">, </span><span class="s1">ngModelOptions</span><span class="s3">, </span><span class="s1">$popup</span><span class="s3">, </span><span class="s1">altInputFormats</span><span class="s3">, </span><span class="s1">watchListeners = []</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(_ngModel_) { 
    ngModel = _ngModel_</span><span class="s3">;</span><span class="s1"> 
    ngModelOptions = extractOptions(ngModel)</span><span class="s3">;</span><span class="s1"> 
    closeOnDateSelection = angular.isDefined($attrs.closeOnDateSelection) ? 
      $scope.$parent.$eval($attrs.closeOnDateSelection) : 
      datepickerPopupConfig.closeOnDateSelection</span><span class="s3">;</span><span class="s1"> 
    appendToBody = angular.isDefined($attrs.datepickerAppendToBody) ? 
      $scope.$parent.$eval($attrs.datepickerAppendToBody) : 
      datepickerPopupConfig.appendToBody</span><span class="s3">;</span><span class="s1"> 
    onOpenFocus = angular.isDefined($attrs.onOpenFocus) ? 
      $scope.$parent.$eval($attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus</span><span class="s3">;</span><span class="s1"> 
    datepickerPopupTemplateUrl = angular.isDefined($attrs.datepickerPopupTemplateUrl) ? 
      $attrs.datepickerPopupTemplateUrl : 
      datepickerPopupConfig.datepickerPopupTemplateUrl</span><span class="s3">;</span><span class="s1"> 
    datepickerTemplateUrl = angular.isDefined($attrs.datepickerTemplateUrl) ? 
      $attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl</span><span class="s3">;</span><span class="s1"> 
    altInputFormats = angular.isDefined($attrs.altInputFormats) ? 
      $scope.$parent.$eval($attrs.altInputFormats) : 
      datepickerPopupConfig.altInputFormats</span><span class="s3">;</span><span class="s1"> 
 
    $scope.showButtonBar = angular.isDefined($attrs.showButtonBar) ? 
      $scope.$parent.$eval($attrs.showButtonBar) : 
      datepickerPopupConfig.showButtonBar</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(datepickerPopupConfig.html5Types[$attrs.type]) { 
      dateFormat = datepickerPopupConfig.html5Types[$attrs.type]</span><span class="s3">;</span><span class="s1"> 
      isHtml5DateInput = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      dateFormat = $attrs.uibDatepickerPopup || datepickerPopupConfig.datepickerPopup</span><span class="s3">;</span><span class="s1"> 
      $attrs.$observe(</span><span class="s2">'uibDatepickerPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value</span><span class="s3">, </span><span class="s1">oldValue) { 
        </span><span class="s4">var </span><span class="s1">newDateFormat = value || datepickerPopupConfig.datepickerPopup</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s0">// Invalidate the $modelValue to ensure that formatters re-run</span><span class="s1"> 
        </span><span class="s0">// FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(newDateFormat !== dateFormat) { 
          dateFormat = newDateFormat</span><span class="s3">;</span><span class="s1"> 
          ngModel.$modelValue = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">if </span><span class="s1">(!dateFormat) { 
            </span><span class="s4">throw new </span><span class="s1">Error(</span><span class="s2">'uibDatepickerPopup must have a date format specified.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!dateFormat) { 
      </span><span class="s4">throw new </span><span class="s1">Error(</span><span class="s2">'uibDatepickerPopup must have a date format specified.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(isHtml5DateInput &amp;&amp; $attrs.uibDatepickerPopup) { 
      </span><span class="s4">throw new </span><span class="s1">Error(</span><span class="s2">'HTML5 date input types do not support custom formats.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// popup element used to display calendar</span><span class="s1"> 
    popupEl = angular.element(</span><span class="s2">'&lt;div uib-datepicker-popup-wrap&gt;&lt;div uib-datepicker&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    popupEl.attr({ 
      </span><span class="s2">'ng-model'</span><span class="s1">: </span><span class="s2">'date'</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'ng-change'</span><span class="s1">: </span><span class="s2">'dateSelection(date)'</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'template-url'</span><span class="s1">: datepickerPopupTemplateUrl 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// datepicker element</span><span class="s1"> 
    datepickerEl = angular.element(popupEl.children()[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
    datepickerEl.attr(</span><span class="s2">'template-url'</span><span class="s3">, </span><span class="s1">datepickerTemplateUrl)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!$scope.datepickerOptions) { 
      $scope.datepickerOptions = {}</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(isHtml5DateInput) { 
      </span><span class="s4">if </span><span class="s1">($attrs.type === </span><span class="s2">'month'</span><span class="s1">) { 
        $scope.datepickerOptions.datepickerMode = </span><span class="s2">'month'</span><span class="s3">;</span><span class="s1"> 
        $scope.datepickerOptions.minMode = </span><span class="s2">'month'</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    datepickerEl.attr(</span><span class="s2">'datepicker-options'</span><span class="s3">, </span><span class="s2">'datepickerOptions'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!isHtml5DateInput) { 
      </span><span class="s0">// Internal API to maintain the correct ng-invalid-[key] class</span><span class="s1"> 
      ngModel.$$parserName = </span><span class="s2">'date'</span><span class="s3">;</span><span class="s1"> 
      ngModel.$validators.date = validator</span><span class="s3">;</span><span class="s1"> 
      ngModel.$parsers.unshift(parseDate)</span><span class="s3">;</span><span class="s1"> 
      ngModel.$formatters.push(</span><span class="s4">function</span><span class="s1">(value) { 
        </span><span class="s4">if </span><span class="s1">(ngModel.$isEmpty(value)) { 
          $scope.date = value</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">value</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(angular.isNumber(value)) { 
          value = </span><span class="s4">new </span><span class="s1">Date(value)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        $scope.date = dateParser.fromTimezone(value</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">dateParser.filter($scope.date</span><span class="s3">, </span><span class="s1">dateFormat)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      ngModel.$formatters.push(</span><span class="s4">function</span><span class="s1">(value) { 
        $scope.date = dateParser.fromTimezone(value</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">value</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// Detect changes in the view from the text box</span><span class="s1"> 
    ngModel.$viewChangeListeners.push(</span><span class="s4">function</span><span class="s1">() { 
      $scope.date = parseDateString(ngModel.$viewValue)</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    $element.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">inputKeydownBind)</span><span class="s3">;</span><span class="s1"> 
 
    $popup = $compile(popupEl)($scope)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">// Prevent jQuery cache memory leak (template is now redundant after linking)</span><span class="s1"> 
    popupEl.remove()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(appendToBody) { 
      $document.find(</span><span class="s2">'body'</span><span class="s1">).append($popup)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      $element.after($popup)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">if </span><span class="s1">($scope.isOpen === </span><span class="s4">true</span><span class="s1">) { 
        </span><span class="s4">if </span><span class="s1">(!$rootScope.$$phase) { 
          $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
            $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      $popup.remove()</span><span class="s3">;</span><span class="s1"> 
      $element.off(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">inputKeydownBind)</span><span class="s3">;</span><span class="s1"> 
      $document.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">documentClickBind)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scrollParentEl) { 
        scrollParentEl.off(</span><span class="s2">'scroll'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
      } 
      angular.element($window).off(</span><span class="s2">'resize'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//Clear all watch listeners on destroy</span><span class="s1"> 
      </span><span class="s4">while </span><span class="s1">(watchListeners.length) { 
        watchListeners.shift()()</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.getText = </span><span class="s4">function</span><span class="s1">(key) { 
    </span><span class="s4">return </span><span class="s1">$scope[key + </span><span class="s2">'Text'</span><span class="s1">] || datepickerPopupConfig[key + </span><span class="s2">'Text'</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.isDisabled = </span><span class="s4">function</span><span class="s1">(date) { 
    </span><span class="s4">if </span><span class="s1">(date === </span><span class="s2">'today'</span><span class="s1">) { 
      date = dateParser.fromTimezone(</span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">dates = {}</span><span class="s3">;</span><span class="s1"> 
    angular.forEach([</span><span class="s2">'minDate'</span><span class="s3">, </span><span class="s2">'maxDate'</span><span class="s1">]</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(key) { 
      </span><span class="s4">if </span><span class="s1">(!$scope.datepickerOptions[key]) { 
        dates[key] = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(angular.isDate($scope.datepickerOptions[key])) { 
        dates[key] = </span><span class="s4">new </span><span class="s1">Date($scope.datepickerOptions[key])</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        </span><span class="s4">if </span><span class="s1">($datepickerPopupLiteralWarning) { 
          $log.warn(</span><span class="s2">'Literal date support has been deprecated, please switch to date object usage'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        dates[key] = </span><span class="s4">new </span><span class="s1">Date(dateFilter($scope.datepickerOptions[key]</span><span class="s3">, </span><span class="s2">'medium'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">return </span><span class="s1">$scope.datepickerOptions &amp;&amp; 
      dates.minDate &amp;&amp; $scope.compare(date</span><span class="s3">, </span><span class="s1">dates.minDate) &lt; </span><span class="s5">0 </span><span class="s1">|| 
      dates.maxDate &amp;&amp; $scope.compare(date</span><span class="s3">, </span><span class="s1">dates.maxDate) &gt; </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.compare = </span><span class="s4">function</span><span class="s1">(date1</span><span class="s3">, </span><span class="s1">date2) { 
    </span><span class="s4">return new </span><span class="s1">Date(date1.getFullYear()</span><span class="s3">, </span><span class="s1">date1.getMonth()</span><span class="s3">, </span><span class="s1">date1.getDate()) - </span><span class="s4">new </span><span class="s1">Date(date2.getFullYear()</span><span class="s3">, </span><span class="s1">date2.getMonth()</span><span class="s3">, </span><span class="s1">date2.getDate())</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Inner change</span><span class="s1"> 
  $scope.dateSelection = </span><span class="s4">function</span><span class="s1">(dt) { 
    $scope.date = dt</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">date = $scope.date ? dateParser.filter($scope.date</span><span class="s3">, </span><span class="s1">dateFormat) : </span><span class="s4">null</span><span class="s3">; </span><span class="s0">// Setting to NULL is necessary for form validators to function</span><span class="s1"> 
    $element.val(date)</span><span class="s3">;</span><span class="s1"> 
    ngModel.$setViewValue(date)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(closeOnDateSelection) { 
      $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      $element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.keydown = </span><span class="s4">function</span><span class="s1">(evt) { 
    </span><span class="s4">if </span><span class="s1">(evt.which === </span><span class="s5">27</span><span class="s1">) { 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      $element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.select = </span><span class="s4">function</span><span class="s1">(date</span><span class="s3">, </span><span class="s1">evt) { 
    evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(date === </span><span class="s2">'today'</span><span class="s1">) { 
      </span><span class="s4">var </span><span class="s1">today = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(angular.isDate($scope.date)) { 
        date = </span><span class="s4">new </span><span class="s1">Date($scope.date)</span><span class="s3">;</span><span class="s1"> 
        date.setFullYear(today.getFullYear()</span><span class="s3">, </span><span class="s1">today.getMonth()</span><span class="s3">, </span><span class="s1">today.getDate())</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        date = dateParser.fromTimezone(today</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
        date.setHours(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
    $scope.dateSelection(date)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.close = </span><span class="s4">function</span><span class="s1">(evt) { 
    evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
 
    $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    $element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.disabled = angular.isDefined($attrs.disabled) || </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.ngDisabled) { 
    watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(disabled) { 
      $scope.disabled = disabled</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.$watch(</span><span class="s2">'isOpen'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
    </span><span class="s4">if </span><span class="s1">(value) { 
      </span><span class="s4">if </span><span class="s1">(!$scope.disabled) { 
        $timeout(</span><span class="s4">function</span><span class="s1">() { 
          positionPopup()</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">if </span><span class="s1">(onOpenFocus) { 
            $scope.$broadcast(</span><span class="s2">'uib:datepicker.focus'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          $document.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">documentClickBind)</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">var </span><span class="s1">placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(appendToBody || $position.parsePlacement(placement)[</span><span class="s5">2</span><span class="s1">]) { 
            scrollParentEl = scrollParentEl || angular.element($position.scrollParent($element))</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(scrollParentEl) { 
              scrollParentEl.on(</span><span class="s2">'scroll'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
            } 
          } </span><span class="s4">else </span><span class="s1">{ 
            scrollParentEl = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          } 
 
          angular.element($window).on(</span><span class="s2">'resize'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      } 
    } </span><span class="s4">else </span><span class="s1">{ 
      $document.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">documentClickBind)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scrollParentEl) { 
        scrollParentEl.off(</span><span class="s2">'scroll'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
      } 
      angular.element($window).off(</span><span class="s2">'resize'</span><span class="s3">, </span><span class="s1">positionPopup)</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">cameltoDash(string) { 
    </span><span class="s4">return </span><span class="s1">string.replace(</span><span class="s2">/([A-Z])/g</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($1) { </span><span class="s4">return </span><span class="s2">'-' </span><span class="s1">+ $1.toLowerCase()</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">parseDateString(viewValue) { 
    </span><span class="s4">var </span><span class="s1">date = dateParser.parse(viewValue</span><span class="s3">, </span><span class="s1">dateFormat</span><span class="s3">, </span><span class="s1">$scope.date)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(isNaN(date)) { 
      </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; altInputFormats.length</span><span class="s3">; </span><span class="s1">i++) { 
        date = dateParser.parse(viewValue</span><span class="s3">, </span><span class="s1">altInputFormats[i]</span><span class="s3">, </span><span class="s1">$scope.date)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!isNaN(date)) { 
          </span><span class="s4">return </span><span class="s1">date</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    } 
    </span><span class="s4">return </span><span class="s1">date</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">parseDate(viewValue) { 
    </span><span class="s4">if </span><span class="s1">(angular.isNumber(viewValue)) { 
      </span><span class="s0">// presumably timestamp to date object</span><span class="s1"> 
      viewValue = </span><span class="s4">new </span><span class="s1">Date(viewValue)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!viewValue) { 
      </span><span class="s4">return null</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isDate(viewValue) &amp;&amp; !isNaN(viewValue)) { 
      </span><span class="s4">return </span><span class="s1">viewValue</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isString(viewValue)) { 
      </span><span class="s4">var </span><span class="s1">date = parseDateString(viewValue)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(!isNaN(date)) { 
        </span><span class="s4">return </span><span class="s1">dateParser.toTimezone(date</span><span class="s3">, </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'timezone'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">return </span><span class="s1">ngModelOptions.getOption(</span><span class="s2">'allowInvalid'</span><span class="s1">) ? viewValue : undefined</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">validator(modelValue</span><span class="s3">, </span><span class="s1">viewValue) { 
    </span><span class="s4">var </span><span class="s1">value = modelValue || viewValue</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!$attrs.ngRequired &amp;&amp; !value) { 
      </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isNumber(value)) { 
      value = </span><span class="s4">new </span><span class="s1">Date(value)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!value) { 
      </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isDate(value) &amp;&amp; !isNaN(value)) { 
      </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isString(value)) { 
      </span><span class="s4">return </span><span class="s1">!isNaN(parseDateString(value))</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">documentClickBind(event) { 
    </span><span class="s4">if </span><span class="s1">(!$scope.isOpen &amp;&amp; $scope.disabled) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">popup = $popup[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dpContainsTarget = $element[</span><span class="s5">0</span><span class="s1">].contains(event.target)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">// The popup node may not be an element node</span><span class="s1"> 
    </span><span class="s0">// In some browsers (IE) only element nodes have the 'contains' function</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">popupContainsTarget = popup.contains !== undefined &amp;&amp; popup.contains(event.target)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">($scope.isOpen &amp;&amp; !(dpContainsTarget || popupContainsTarget)) { 
      $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
        $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">inputKeydownBind(evt) { 
    </span><span class="s4">if </span><span class="s1">(evt.which === </span><span class="s5">27 </span><span class="s1">&amp;&amp; $scope.isOpen) { 
      evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
        $scope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
      $element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(evt.which === </span><span class="s5">40 </span><span class="s1">&amp;&amp; !$scope.isOpen) { 
      evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
        $scope.isOpen = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">positionPopup() { 
    </span><span class="s4">if </span><span class="s1">($scope.isOpen) { 
      </span><span class="s4">var </span><span class="s1">dpElement = angular.element($popup[</span><span class="s5">0</span><span class="s1">].querySelector(</span><span class="s2">'.uib-datepicker-popup'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">position = $position.positionElements($element</span><span class="s3">, </span><span class="s1">dpElement</span><span class="s3">, </span><span class="s1">placement</span><span class="s3">, </span><span class="s1">appendToBody)</span><span class="s3">;</span><span class="s1"> 
      dpElement.css({top: position.top + </span><span class="s2">'px'</span><span class="s3">, </span><span class="s1">left: position.left + </span><span class="s2">'px'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(dpElement.hasClass(</span><span class="s2">'uib-position-measure'</span><span class="s1">)) { 
        dpElement.removeClass(</span><span class="s2">'uib-position-measure'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">extractOptions(ngModelCtrl) { 
    </span><span class="s4">var </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(angular.version.minor &lt; </span><span class="s5">6</span><span class="s1">) { </span><span class="s0">// in angular &lt; 1.6 $options could be missing</span><span class="s1"> 
      </span><span class="s0">// guarantee a value</span><span class="s1"> 
      ngModelOptions = angular.isObject(ngModelCtrl.$options) ? 
        ngModelCtrl.$options : 
        { 
          timezone: </span><span class="s4">null</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">// mimic 1.6+ api</span><span class="s1"> 
      ngModelOptions.getOption = </span><span class="s4">function </span><span class="s1">(key) { 
        </span><span class="s4">return </span><span class="s1">ngModelOptions[key]</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ </span><span class="s0">// in angular &gt;=1.6 $options is always present</span><span class="s1"> 
      ngModelOptions = ngModelCtrl.$options</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.$on(</span><span class="s2">'uib:datepicker.mode'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    $timeout(positionPopup</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibDatepickerPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: [</span><span class="s2">'ngModel'</span><span class="s3">, </span><span class="s2">'uibDatepickerPopup'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibDatepickerPopupController'</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      datepickerOptions: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      isOpen: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      currentText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      clearText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      closeText: </span><span class="s2">'@'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">ngModel = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
        ctrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.init(ngModel)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibDatepickerPopupWrap'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/datepickerPopup/popup.html'</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.debounce'</span><span class="s3">, </span><span class="s1">[]) 
</span><span class="s6">/** 
 * A helper, internal service that debounces a function 
 */</span><span class="s1"> 
  .factory(</span><span class="s2">'$$debounce'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($timeout) { 
    </span><span class="s4">return function</span><span class="s1">(callback</span><span class="s3">, </span><span class="s1">debounceTime) { 
      </span><span class="s4">var </span><span class="s1">timeoutPromise</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">return function</span><span class="s1">() { 
        </span><span class="s4">var </span><span class="s1">self = </span><span class="s4">this</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">args = Array.prototype.slice.call(arguments)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(timeoutPromise) { 
          $timeout.cancel(timeoutPromise)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        timeoutPromise = $timeout(</span><span class="s4">function</span><span class="s1">() { 
          callback.apply(self</span><span class="s3">, </span><span class="s1">args)</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">, </span><span class="s1">debounceTime)</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
  }])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.multiMap'</span><span class="s3">, </span><span class="s1">[]) 
</span><span class="s6">/** 
 * A helper, internal data structure that stores all references attached to key 
 */</span><span class="s1"> 
  .factory(</span><span class="s2">'$$multiMap'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">{ 
      createNew: </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">var </span><span class="s1">map = {}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">{ 
          entries: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">Object.keys(map).map(</span><span class="s4">function</span><span class="s1">(key) { 
              </span><span class="s4">return </span><span class="s1">{ 
                key: key</span><span class="s3">,</span><span class="s1"> 
                value: map[key] 
              }</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          get: </span><span class="s4">function</span><span class="s1">(key) { 
            </span><span class="s4">return </span><span class="s1">map[key]</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          hasKey: </span><span class="s4">function</span><span class="s1">(key) { 
            </span><span class="s4">return </span><span class="s1">!!map[key]</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          keys: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">Object.keys(map)</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          put: </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">value) { 
            </span><span class="s4">if </span><span class="s1">(!map[key]) { 
              map[key] = []</span><span class="s3">;</span><span class="s1"> 
            } 
 
            map[key].push(value)</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          remove: </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">value) { 
            </span><span class="s4">var </span><span class="s1">values = map[key]</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(!values) { 
              </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">var </span><span class="s1">idx = values.indexOf(value)</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(idx !== -</span><span class="s5">1</span><span class="s1">) { 
              values.splice(idx</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">if </span><span class="s1">(!values.length) { 
              </span><span class="s4">delete </span><span class="s1">map[key]</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.dropdown'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.multiMap'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.position'</span><span class="s1">]) 
 
.constant(</span><span class="s2">'uibDropdownConfig'</span><span class="s3">, </span><span class="s1">{ 
  appendToOpenClass: </span><span class="s2">'uib-dropdown-open'</span><span class="s3">,</span><span class="s1"> 
  openClass: </span><span class="s2">'open'</span><span class="s1"> 
}) 
 
.service(</span><span class="s2">'uibDropdownService'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$$multiMap'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($document</span><span class="s3">, </span><span class="s1">$rootScope</span><span class="s3">, </span><span class="s1">$$multiMap) { 
  </span><span class="s4">var </span><span class="s1">openScope = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">openedContainers = $$multiMap.createNew()</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.isOnlyOpen = </span><span class="s4">function</span><span class="s1">(dropdownScope</span><span class="s3">, </span><span class="s1">appendTo) { 
    </span><span class="s4">var </span><span class="s1">openedDropdowns = openedContainers.get(appendTo)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(openedDropdowns) { 
      </span><span class="s4">var </span><span class="s1">openDropdown = openedDropdowns.reduce(</span><span class="s4">function</span><span class="s1">(toClose</span><span class="s3">, </span><span class="s1">dropdown) { 
        </span><span class="s4">if </span><span class="s1">(dropdown.scope === dropdownScope) { 
          </span><span class="s4">return </span><span class="s1">dropdown</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">toClose</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">, </span><span class="s1">{})</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(openDropdown) { 
        </span><span class="s4">return </span><span class="s1">openedDropdowns.length === </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.open = </span><span class="s4">function</span><span class="s1">(dropdownScope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">appendTo) { 
    </span><span class="s4">if </span><span class="s1">(!openScope) { 
      $document.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">closeDropdown)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(openScope &amp;&amp; openScope !== dropdownScope) { 
      openScope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    } 
 
    openScope = dropdownScope</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!appendTo) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">openedDropdowns = openedContainers.get(appendTo)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(openedDropdowns) { 
      </span><span class="s4">var </span><span class="s1">openedScopes = openedDropdowns.map(</span><span class="s4">function</span><span class="s1">(dropdown) { 
        </span><span class="s4">return </span><span class="s1">dropdown.scope</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(openedScopes.indexOf(dropdownScope) === -</span><span class="s5">1</span><span class="s1">) { 
        openedContainers.put(appendTo</span><span class="s3">, </span><span class="s1">{ 
          scope: dropdownScope 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    } </span><span class="s4">else </span><span class="s1">{ 
      openedContainers.put(appendTo</span><span class="s3">, </span><span class="s1">{ 
        scope: dropdownScope 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.close = </span><span class="s4">function</span><span class="s1">(dropdownScope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">appendTo) { 
    </span><span class="s4">if </span><span class="s1">(openScope === dropdownScope) { 
      $document.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">closeDropdown)</span><span class="s3">;</span><span class="s1"> 
      $document.off(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">this</span><span class="s1">.keybindFilter)</span><span class="s3">;</span><span class="s1"> 
      openScope = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(!appendTo) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">openedDropdowns = openedContainers.get(appendTo)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(openedDropdowns) { 
      </span><span class="s4">var </span><span class="s1">dropdownToClose = openedDropdowns.reduce(</span><span class="s4">function</span><span class="s1">(toClose</span><span class="s3">, </span><span class="s1">dropdown) { 
        </span><span class="s4">if </span><span class="s1">(dropdown.scope === dropdownScope) { 
          </span><span class="s4">return </span><span class="s1">dropdown</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">toClose</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">, </span><span class="s1">{})</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(dropdownToClose) { 
        openedContainers.remove(appendTo</span><span class="s3">, </span><span class="s1">dropdownToClose)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">closeDropdown = </span><span class="s4">function</span><span class="s1">(evt) { 
    </span><span class="s0">// This method may still be called during the same mouse event that</span><span class="s1"> 
    </span><span class="s0">// unbound this event handler. So check openScope before proceeding.</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!openScope || !openScope.isOpen) { </span><span class="s4">return</span><span class="s3">; </span><span class="s1">} 
 
    </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; openScope.getAutoClose() === </span><span class="s2">'disabled'</span><span class="s1">) { </span><span class="s4">return</span><span class="s3">; </span><span class="s1">} 
 
    </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; evt.which === </span><span class="s5">3</span><span class="s1">) { </span><span class="s4">return</span><span class="s3">; </span><span class="s1">} 
 
    </span><span class="s4">var </span><span class="s1">toggleElement = openScope.getToggleElement()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; toggleElement &amp;&amp; toggleElement[</span><span class="s5">0</span><span class="s1">].contains(evt.target)) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">dropdownElement = openScope.getDropdownElement()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; openScope.getAutoClose() === </span><span class="s2">'outsideClick' </span><span class="s1">&amp;&amp; 
      dropdownElement &amp;&amp; dropdownElement[</span><span class="s5">0</span><span class="s1">].contains(evt.target)) { 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    openScope.focusToggleElement()</span><span class="s3">;</span><span class="s1"> 
    openScope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!$rootScope.$$phase) { 
      openScope.$apply()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.keybindFilter = </span><span class="s4">function</span><span class="s1">(evt) { 
    </span><span class="s4">if </span><span class="s1">(!openScope) { 
      </span><span class="s0">// see this.close as ESC could have been pressed which kills the scope so we can not proceed</span><span class="s1"> 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">dropdownElement = openScope.getDropdownElement()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">toggleElement = openScope.getToggleElement()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dropdownElementTargeted = dropdownElement &amp;&amp; dropdownElement[</span><span class="s5">0</span><span class="s1">].contains(evt.target)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">toggleElementTargeted = toggleElement &amp;&amp; toggleElement[</span><span class="s5">0</span><span class="s1">].contains(evt.target)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(evt.which === </span><span class="s5">27</span><span class="s1">) { 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      openScope.focusToggleElement()</span><span class="s3">;</span><span class="s1"> 
      closeDropdown()</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(openScope.isKeynavEnabled() &amp;&amp; [</span><span class="s5">38</span><span class="s3">, </span><span class="s5">40</span><span class="s1">].indexOf(evt.which) !== -</span><span class="s5">1 </span><span class="s1">&amp;&amp; openScope.isOpen &amp;&amp; (dropdownElementTargeted || toggleElementTargeted)) { 
      evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      openScope.focusDropdownEntry(evt.which)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.controller(</span><span class="s2">'UibDropdownController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'uibDropdownConfig'</span><span class="s3">, </span><span class="s2">'uibDropdownService'</span><span class="s3">, </span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$templateRequest'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">dropdownConfig</span><span class="s3">, </span><span class="s1">uibDropdownService</span><span class="s3">, </span><span class="s1">$animate</span><span class="s3">, </span><span class="s1">$position</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$templateRequest) { 
  </span><span class="s4">var </span><span class="s1">self = </span><span class="s4">this</span><span class="s3">,</span><span class="s1"> 
    scope = $scope.$new()</span><span class="s3">, </span><span class="s0">// create a child scope so we are not polluting original one</span><span class="s1"> 
    templateScope</span><span class="s3">,</span><span class="s1"> 
    appendToOpenClass = dropdownConfig.appendToOpenClass</span><span class="s3">,</span><span class="s1"> 
    openClass = dropdownConfig.openClass</span><span class="s3">,</span><span class="s1"> 
    getIsOpen</span><span class="s3">,</span><span class="s1"> 
    setIsOpen = angular.noop</span><span class="s3">,</span><span class="s1"> 
    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop</span><span class="s3">,</span><span class="s1"> 
    keynavEnabled = </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
    selectedOption = </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
    body = $document.find(</span><span class="s2">'body'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  $element.addClass(</span><span class="s2">'dropdown'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">($attrs.isOpen) { 
      getIsOpen = $parse($attrs.isOpen)</span><span class="s3">;</span><span class="s1"> 
      setIsOpen = getIsOpen.assign</span><span class="s3">;</span><span class="s1"> 
 
      $scope.$watch(getIsOpen</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
        scope.isOpen = !!value</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    keynavEnabled = angular.isDefined($attrs.keyboardNav)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.toggle = </span><span class="s4">function</span><span class="s1">(open) { 
    scope.isOpen = arguments.length ? !!open : !scope.isOpen</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(angular.isFunction(setIsOpen)) { 
      setIsOpen(scope</span><span class="s3">, </span><span class="s1">scope.isOpen)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">scope.isOpen</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Allow other directives to watch status</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.isOpen = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">scope.isOpen</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.getToggleElement = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">self.toggleElement</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.getAutoClose = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">$attrs.autoClose || </span><span class="s2">'always'</span><span class="s3">; </span><span class="s0">//or 'outsideClick' or 'disabled'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.getElement = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">$element</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.isKeynavEnabled = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">keynavEnabled</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.focusDropdownEntry = </span><span class="s4">function</span><span class="s1">(keyCode) { 
    </span><span class="s4">var </span><span class="s1">elems = self.dropdownMenu ? </span><span class="s0">//If append to body is used.</span><span class="s1"> 
      angular.element(self.dropdownMenu).find(</span><span class="s2">'a'</span><span class="s1">) : 
      $element.find(</span><span class="s2">'ul'</span><span class="s1">).eq(</span><span class="s5">0</span><span class="s1">).find(</span><span class="s2">'a'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">switch </span><span class="s1">(keyCode) { 
      </span><span class="s4">case </span><span class="s5">40</span><span class="s1">: { 
        </span><span class="s4">if </span><span class="s1">(!angular.isNumber(self.selectedOption)) { 
          self.selectedOption = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          self.selectedOption = self.selectedOption === elems.length - </span><span class="s5">1 </span><span class="s1">? 
            self.selectedOption : 
            self.selectedOption + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      } 
      </span><span class="s4">case </span><span class="s5">38</span><span class="s1">: { 
        </span><span class="s4">if </span><span class="s1">(!angular.isNumber(self.selectedOption)) { 
          self.selectedOption = elems.length - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          self.selectedOption = self.selectedOption === </span><span class="s5">0 </span><span class="s1">? 
            </span><span class="s5">0 </span><span class="s1">: self.selectedOption - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
    elems[self.selectedOption].focus()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.getDropdownElement = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">self.dropdownMenu</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  scope.focusToggleElement = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(self.toggleElement) { 
      self.toggleElement[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">removeDropdownMenu() { 
    $element.append(self.dropdownMenu)</span><span class="s3">;</span><span class="s1"> 
  } 
 
  scope.$watch(</span><span class="s2">'isOpen'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(isOpen</span><span class="s3">, </span><span class="s1">wasOpen) { 
    </span><span class="s4">var </span><span class="s1">appendTo = </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
      appendToBody = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(angular.isDefined($attrs.dropdownAppendTo)) { 
      </span><span class="s4">var </span><span class="s1">appendToEl = $parse($attrs.dropdownAppendTo)(scope)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(appendToEl) { 
        appendTo = angular.element(appendToEl)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isDefined($attrs.dropdownAppendToBody)) { 
      </span><span class="s4">var </span><span class="s1">appendToBodyValue = $parse($attrs.dropdownAppendToBody)(scope)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(appendToBodyValue !== </span><span class="s4">false</span><span class="s1">) { 
        appendToBody = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">if </span><span class="s1">(appendToBody &amp;&amp; !appendTo) { 
      appendTo = body</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(appendTo &amp;&amp; self.dropdownMenu) { 
      </span><span class="s4">if </span><span class="s1">(isOpen) { 
        appendTo.append(self.dropdownMenu)</span><span class="s3">;</span><span class="s1"> 
        $element.on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s1">removeDropdownMenu)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        $element.off(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s1">removeDropdownMenu)</span><span class="s3">;</span><span class="s1"> 
        removeDropdownMenu()</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">if </span><span class="s1">(appendTo &amp;&amp; self.dropdownMenu) { 
      </span><span class="s4">var </span><span class="s1">pos = $position.positionElements($element</span><span class="s3">, </span><span class="s1">self.dropdownMenu</span><span class="s3">, </span><span class="s2">'bottom-left'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        css</span><span class="s3">,</span><span class="s1"> 
        rightalign</span><span class="s3">,</span><span class="s1"> 
        scrollbarPadding</span><span class="s3">,</span><span class="s1"> 
        scrollbarWidth = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
 
      css = { 
        top: pos.top + </span><span class="s2">'px'</span><span class="s3">,</span><span class="s1"> 
        display: isOpen ? </span><span class="s2">'block' </span><span class="s1">: </span><span class="s2">'none'</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      rightalign = self.dropdownMenu.hasClass(</span><span class="s2">'dropdown-menu-right'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(!rightalign) { 
        css.left = pos.left + </span><span class="s2">'px'</span><span class="s3">;</span><span class="s1"> 
        css.right = </span><span class="s2">'auto'</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        css.left = </span><span class="s2">'auto'</span><span class="s3">;</span><span class="s1"> 
        scrollbarPadding = $position.scrollbarPadding(appendTo)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(scrollbarPadding.heightOverflow &amp;&amp; scrollbarPadding.scrollbarWidth) { 
          scrollbarWidth = scrollbarPadding.scrollbarWidth</span><span class="s3">;</span><span class="s1"> 
        } 
 
        css.right = window.innerWidth - scrollbarWidth - 
          (pos.left + $element.prop(</span><span class="s2">'offsetWidth'</span><span class="s1">)) + </span><span class="s2">'px'</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s0">// Need to adjust our positioning to be relative to the appendTo container</span><span class="s1"> 
      </span><span class="s0">// if it's not the body element</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(!appendToBody) { 
        </span><span class="s4">var </span><span class="s1">appendOffset = $position.offset(appendTo)</span><span class="s3">;</span><span class="s1"> 
 
        css.top = pos.top - appendOffset.top + </span><span class="s2">'px'</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(!rightalign) { 
          css.left = pos.left - appendOffset.left + </span><span class="s2">'px'</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          css.right = window.innerWidth - 
            (pos.left - appendOffset.left + $element.prop(</span><span class="s2">'offsetWidth'</span><span class="s1">)) + </span><span class="s2">'px'</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      self.dropdownMenu.css(css)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">openContainer = appendTo ? appendTo : $element</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dropdownOpenClass = appendTo ? appendToOpenClass : openClass</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">hasOpenClass = openContainer.hasClass(dropdownOpenClass)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isOnlyOpen = uibDropdownService.isOnlyOpen($scope</span><span class="s3">, </span><span class="s1">appendTo)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(hasOpenClass === !isOpen) { 
      </span><span class="s4">var </span><span class="s1">toggleClass</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(appendTo) { 
        toggleClass = !isOnlyOpen ? </span><span class="s2">'addClass' </span><span class="s1">: </span><span class="s2">'removeClass'</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        toggleClass = isOpen ? </span><span class="s2">'addClass' </span><span class="s1">: </span><span class="s2">'removeClass'</span><span class="s3">;</span><span class="s1"> 
      } 
      $animate[toggleClass](openContainer</span><span class="s3">, </span><span class="s1">dropdownOpenClass).then(</span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">if </span><span class="s1">(angular.isDefined(isOpen) &amp;&amp; isOpen !== wasOpen) { 
          toggleInvoker($scope</span><span class="s3">, </span><span class="s1">{ open: !!isOpen })</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(isOpen) { 
      </span><span class="s4">if </span><span class="s1">(self.dropdownMenuTemplateUrl) { 
        $templateRequest(self.dropdownMenuTemplateUrl).then(</span><span class="s4">function</span><span class="s1">(tplContent) { 
          templateScope = scope.$new()</span><span class="s3">;</span><span class="s1"> 
          $compile(tplContent.trim())(templateScope</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(dropdownElement) { 
            </span><span class="s4">var </span><span class="s1">newEl = dropdownElement</span><span class="s3">;</span><span class="s1"> 
            self.dropdownMenu.replaceWith(newEl)</span><span class="s3">;</span><span class="s1"> 
            self.dropdownMenu = newEl</span><span class="s3">;</span><span class="s1"> 
            $document.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">uibDropdownService.keybindFilter)</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        $document.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">uibDropdownService.keybindFilter)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      scope.focusToggleElement()</span><span class="s3">;</span><span class="s1"> 
      uibDropdownService.open(scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">appendTo)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      uibDropdownService.close(scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">appendTo)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(self.dropdownMenuTemplateUrl) { 
        </span><span class="s4">if </span><span class="s1">(templateScope) { 
          templateScope.$destroy()</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">var </span><span class="s1">newEl = angular.element(</span><span class="s2">'&lt;ul class=&quot;dropdown-menu&quot;&gt;&lt;/ul&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        self.dropdownMenu.replaceWith(newEl)</span><span class="s3">;</span><span class="s1"> 
        self.dropdownMenu = newEl</span><span class="s3">;</span><span class="s1"> 
      } 
 
      self.selectedOption = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isFunction(setIsOpen)) { 
      setIsOpen($scope</span><span class="s3">, </span><span class="s1">isOpen)</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibDropdown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    controller: </span><span class="s2">'UibDropdownController'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">dropdownCtrl) { 
      dropdownCtrl.init()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibDropdownMenu'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'?^uibDropdown'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">dropdownCtrl) { 
      </span><span class="s4">if </span><span class="s1">(!dropdownCtrl || angular.isDefined(attrs.dropdownNested)) { 
        </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
      } 
 
      element.addClass(</span><span class="s2">'dropdown-menu'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">tplUrl = attrs.templateUrl</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(tplUrl) { 
        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(!dropdownCtrl.dropdownMenu) { 
        dropdownCtrl.dropdownMenu = element</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibDropdownToggle'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: </span><span class="s2">'?^uibDropdown'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">dropdownCtrl) { 
      </span><span class="s4">if </span><span class="s1">(!dropdownCtrl) { 
        </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
      } 
 
      element.addClass(</span><span class="s2">'dropdown-toggle'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      dropdownCtrl.toggleElement = element</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">toggleDropdown = </span><span class="s4">function</span><span class="s1">(event) { 
        event.preventDefault()</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(!element.hasClass(</span><span class="s2">'disabled'</span><span class="s1">) &amp;&amp; !attrs.disabled) { 
          scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
            dropdownCtrl.toggle()</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      element.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">toggleDropdown)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">// WAI-ARIA</span><span class="s1"> 
      element.attr({ </span><span class="s2">'aria-haspopup'</span><span class="s1">: </span><span class="s4">true</span><span class="s3">, </span><span class="s2">'aria-expanded'</span><span class="s1">: </span><span class="s4">false </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
      scope.$watch(dropdownCtrl.isOpen</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(isOpen) { 
        element.attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s1">!!isOpen)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        element.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">toggleDropdown)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.stackedMap'</span><span class="s3">, </span><span class="s1">[]) 
</span><span class="s6">/** 
 * A helper, internal data structure that acts as a map but also allows getting / removing 
 * elements in the LIFO order 
 */</span><span class="s1"> 
  .factory(</span><span class="s2">'$$stackedMap'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">{ 
      createNew: </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">var </span><span class="s1">stack = []</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">{ 
          add: </span><span class="s4">function</span><span class="s1">(key</span><span class="s3">, </span><span class="s1">value) { 
            stack.push({ 
              key: key</span><span class="s3">,</span><span class="s1"> 
              value: value 
            })</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          get: </span><span class="s4">function</span><span class="s1">(key) { 
            </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; stack.length</span><span class="s3">; </span><span class="s1">i++) { 
              </span><span class="s4">if </span><span class="s1">(key === stack[i].key) { 
                </span><span class="s4">return </span><span class="s1">stack[i]</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
          }</span><span class="s3">,</span><span class="s1"> 
          keys: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">var </span><span class="s1">keys = []</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; stack.length</span><span class="s3">; </span><span class="s1">i++) { 
              keys.push(stack[i].key)</span><span class="s3">;</span><span class="s1"> 
            } 
            </span><span class="s4">return </span><span class="s1">keys</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          top: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">stack[stack.length - </span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          remove: </span><span class="s4">function</span><span class="s1">(key) { 
            </span><span class="s4">var </span><span class="s1">idx = -</span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; stack.length</span><span class="s3">; </span><span class="s1">i++) { 
              </span><span class="s4">if </span><span class="s1">(key === stack[i].key) { 
                idx = i</span><span class="s3">;</span><span class="s1"> 
                </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
            </span><span class="s4">return </span><span class="s1">stack.splice(idx</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          removeTop: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">stack.pop()</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">,</span><span class="s1"> 
          length: </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">stack.length</span><span class="s3">;</span><span class="s1"> 
          } 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.modal'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.multiMap'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.stackedMap'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.position'</span><span class="s1">]) 
</span><span class="s6">/** 
 * Pluggable resolve mechanism for the modal resolve resolution 
 * Supports UI Router's $resolve service 
 */</span><span class="s1"> 
  .provider(</span><span class="s2">'$uibResolve'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">resolve = </span><span class="s4">this</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.resolver = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">this</span><span class="s1">.setResolver = </span><span class="s4">function</span><span class="s1">(resolver) { 
      </span><span class="s4">this</span><span class="s1">.resolver = resolver</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">this</span><span class="s1">.$get = [</span><span class="s2">'$injector'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($injector</span><span class="s3">, </span><span class="s1">$q) { 
      </span><span class="s4">var </span><span class="s1">resolver = resolve.resolver ? $injector.get(resolve.resolver) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return </span><span class="s1">{ 
        resolve: </span><span class="s4">function</span><span class="s1">(invocables</span><span class="s3">, </span><span class="s1">locals</span><span class="s3">, </span><span class="s1">parent</span><span class="s3">, </span><span class="s1">self) { 
          </span><span class="s4">if </span><span class="s1">(resolver) { 
            </span><span class="s4">return </span><span class="s1">resolver.resolve(invocables</span><span class="s3">, </span><span class="s1">locals</span><span class="s3">, </span><span class="s1">parent</span><span class="s3">, </span><span class="s1">self)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">var </span><span class="s1">promises = []</span><span class="s3">;</span><span class="s1"> 
 
          angular.forEach(invocables</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
            </span><span class="s4">if </span><span class="s1">(angular.isFunction(value) || angular.isArray(value)) { 
              promises.push($q.resolve($injector.invoke(value)))</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else if </span><span class="s1">(angular.isString(value)) { 
              promises.push($q.resolve($injector.get(value)))</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              promises.push($q.resolve(value))</span><span class="s3">;</span><span class="s1"> 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">return </span><span class="s1">$q.all(promises).then(</span><span class="s4">function</span><span class="s1">(resolves) { 
            </span><span class="s4">var </span><span class="s1">resolveObj = {}</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">resolveIter = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
            angular.forEach(invocables</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value</span><span class="s3">, </span><span class="s1">key) { 
              resolveObj[key] = resolves[resolveIter++]</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">return </span><span class="s1">resolveObj</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
    }]</span><span class="s3">;</span><span class="s1"> 
  }) 
 
</span><span class="s6">/** 
 * A helper directive for the $modal service. It creates a backdrop element. 
 */</span><span class="s1"> 
  .directive(</span><span class="s2">'uibModalBackdrop'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s2">'$injector'</span><span class="s3">, </span><span class="s2">'$uibModalStack'</span><span class="s3">,</span><span class="s1"> 
  </span><span class="s4">function</span><span class="s1">($animate</span><span class="s3">, </span><span class="s1">$injector</span><span class="s3">, </span><span class="s1">$modalStack) { 
    </span><span class="s4">return </span><span class="s1">{ 
      restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
      compile: </span><span class="s4">function</span><span class="s1">(tElement</span><span class="s3">, </span><span class="s1">tAttrs) { 
        tElement.addClass(tAttrs.backdropClass)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">linkFn</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">function </span><span class="s1">linkFn(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">if </span><span class="s1">(attrs.modalInClass) { 
        $animate.addClass(element</span><span class="s3">, </span><span class="s1">attrs.modalInClass)</span><span class="s3">;</span><span class="s1"> 
 
        scope.$on($modalStack.NOW_CLOSING_EVENT</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e</span><span class="s3">, </span><span class="s1">setIsAsync) { 
          </span><span class="s4">var </span><span class="s1">done = setIsAsync()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(scope.modalOptions.animation) { 
            $animate.removeClass(element</span><span class="s3">, </span><span class="s1">attrs.modalInClass).then(done)</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            done()</span><span class="s3">;</span><span class="s1"> 
          } 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }]) 
 
  .directive(</span><span class="s2">'uibModalWindow'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibModalStack'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s2">'$animateCss'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">,</span><span class="s1"> 
  </span><span class="s4">function</span><span class="s1">($modalStack</span><span class="s3">, </span><span class="s1">$q</span><span class="s3">, </span><span class="s1">$animateCss</span><span class="s3">, </span><span class="s1">$document) { 
    </span><span class="s4">return </span><span class="s1">{ 
      scope: { 
        index: </span><span class="s2">'@'</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
      transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
      templateUrl: </span><span class="s4">function</span><span class="s1">(tElement</span><span class="s3">, </span><span class="s1">tAttrs) { 
        </span><span class="s4">return </span><span class="s1">tAttrs.templateUrl || </span><span class="s2">'uib/template/modal/window.html'</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
        element.addClass(attrs.windowTopClass || </span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        scope.size = attrs.size</span><span class="s3">;</span><span class="s1"> 
 
        scope.close = </span><span class="s4">function</span><span class="s1">(evt) { 
          </span><span class="s4">var </span><span class="s1">modal = $modalStack.getTop()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(modal &amp;&amp; modal.value.backdrop &amp;&amp; 
            modal.value.backdrop !== </span><span class="s2">'static' </span><span class="s1">&amp;&amp; 
            evt.target === evt.currentTarget) { 
            evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
            evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
            $modalStack.dismiss(modal.key</span><span class="s3">, </span><span class="s2">'backdrop click'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
        }</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// moved from template to fix issue #2280</span><span class="s1"> 
        element.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">scope.close)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// This property is only added to the scope for the purpose of detecting when this directive is rendered.</span><span class="s1"> 
        </span><span class="s0">// We can detect that by using this property in the template associated with this directive and then use</span><span class="s1"> 
        </span><span class="s0">// {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.</span><span class="s1"> 
        scope.$isRendered = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// Deferred object that will be resolved when this modal is rendered.</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">modalRenderDeferObj = $q.defer()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s0">// Resolve render promise post-digest</span><span class="s1"> 
        scope.$$postDigest(</span><span class="s4">function</span><span class="s1">() { 
          modalRenderDeferObj.resolve()</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
 
        modalRenderDeferObj.promise.then(</span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s4">var </span><span class="s1">animationPromise = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">if </span><span class="s1">(attrs.modalInClass) { 
            animationPromise = $animateCss(element</span><span class="s3">, </span><span class="s1">{ 
              addClass: attrs.modalInClass 
            }).start()</span><span class="s3">;</span><span class="s1"> 
 
            scope.$on($modalStack.NOW_CLOSING_EVENT</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e</span><span class="s3">, </span><span class="s1">setIsAsync) { 
              </span><span class="s4">var </span><span class="s1">done = setIsAsync()</span><span class="s3">;</span><span class="s1"> 
              $animateCss(element</span><span class="s3">, </span><span class="s1">{ 
                removeClass: attrs.modalInClass 
              }).start().then(done)</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
          } 
 
 
          $q.when(animationPromise).then(</span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s0">// Notify {@link $modalStack} that modal is rendered.</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">modal = $modalStack.getTop()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(modal) { 
              $modalStack.modalRendered(modal.key)</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s6">/** 
             * If something within the freshly-opened modal already has focus (perhaps via a 
             * directive that causes focus) then there's no need to try to focus anything. 
             */</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(!($document[</span><span class="s5">0</span><span class="s1">].activeElement &amp;&amp; element[</span><span class="s5">0</span><span class="s1">].contains($document[</span><span class="s5">0</span><span class="s1">].activeElement))) { 
              </span><span class="s4">var </span><span class="s1">inputWithAutofocus = element[</span><span class="s5">0</span><span class="s1">].querySelector(</span><span class="s2">'[autofocus]'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s6">/** 
               * Auto-focusing of a freshly-opened modal element causes any child elements 
               * with the autofocus attribute to lose focus. This is an issue on touch 
               * based devices which will show and then hide the onscreen keyboard. 
               * Attempts to refocus the autofocus element via JavaScript will not reopen 
               * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus 
               * the modal element if the modal does not contain an autofocus element. 
               */</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(inputWithAutofocus) { 
                inputWithAutofocus.focus()</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }]) 
 
  .directive(</span><span class="s2">'uibModalAnimationClass'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">{ 
      compile: </span><span class="s4">function</span><span class="s1">(tElement</span><span class="s3">, </span><span class="s1">tAttrs) { 
        </span><span class="s4">if </span><span class="s1">(tAttrs.modalAnimation) { 
          tElement.addClass(tAttrs.uibModalAnimationClass)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }) 
 
  .directive(</span><span class="s2">'uibModalTransclude'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($animate) { 
    </span><span class="s4">return </span><span class="s1">{ 
      link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">controller</span><span class="s3">, </span><span class="s1">transclude) { 
        transclude(scope.$parent</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(clone) { 
          element.empty()</span><span class="s3">;</span><span class="s1"> 
          $animate.enter(clone</span><span class="s3">, </span><span class="s1">element)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }]) 
 
  .factory(</span><span class="s2">'$uibModalStack'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s2">'$animateCss'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s2">'$$multiMap'</span><span class="s3">, </span><span class="s2">'$$stackedMap'</span><span class="s3">, </span><span class="s2">'$uibPosition'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s4">function</span><span class="s1">($animate</span><span class="s3">, </span><span class="s1">$animateCss</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$rootScope</span><span class="s3">, </span><span class="s1">$q</span><span class="s3">, </span><span class="s1">$$multiMap</span><span class="s3">, </span><span class="s1">$$stackedMap</span><span class="s3">, </span><span class="s1">$uibPosition) { 
      </span><span class="s4">var </span><span class="s1">OPENED_MODAL_CLASS = </span><span class="s2">'modal-open'</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">backdropDomEl</span><span class="s3">, </span><span class="s1">backdropScope</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">openedWindows = $$stackedMap.createNew()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">openedClasses = $$multiMap.createNew()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">$modalStack = { 
        NOW_CLOSING_EVENT: </span><span class="s2">'modal.stack.now-closing'</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">topModalIndex = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">previousTopOpenedModal = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">ARIA_HIDDEN_ATTRIBUTE_NAME = </span><span class="s2">'data-bootstrap-modal-aria-hidden-count'</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//Modal focus behavior</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">tabbableSelector = </span><span class="s2">'a[href], area[href], input:not([disabled]):not([tabindex=</span><span class="s3">\'</span><span class="s2">-1</span><span class="s3">\'</span><span class="s2">]), ' </span><span class="s1">+ 
        </span><span class="s2">'button:not([disabled]):not([tabindex=</span><span class="s3">\'</span><span class="s2">-1</span><span class="s3">\'</span><span class="s2">]),select:not([disabled]):not([tabindex=</span><span class="s3">\'</span><span class="s2">-1</span><span class="s3">\'</span><span class="s2">]), textarea:not([disabled]):not([tabindex=</span><span class="s3">\'</span><span class="s2">-1</span><span class="s3">\'</span><span class="s2">]), ' </span><span class="s1">+ 
        </span><span class="s2">'iframe, object, embed, *[tabindex]:not([tabindex=</span><span class="s3">\'</span><span class="s2">-1</span><span class="s3">\'</span><span class="s2">]), *[contenteditable=true]'</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">scrollbarPadding</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">SNAKE_CASE_REGEXP = </span><span class="s2">/[A-Z]/g</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">// TODO: extract into common dependency with tooltip</span><span class="s1"> 
      </span><span class="s4">function </span><span class="s1">snake_case(name) { 
        </span><span class="s4">var </span><span class="s1">separator = </span><span class="s2">'-'</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">name.replace(SNAKE_CASE_REGEXP</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(letter</span><span class="s3">, </span><span class="s1">pos) { 
          </span><span class="s4">return </span><span class="s1">(pos ? separator : </span><span class="s2">''</span><span class="s1">) + letter.toLowerCase()</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">isVisible(element) { 
        </span><span class="s4">return </span><span class="s1">!!(element.offsetWidth || 
          element.offsetHeight || 
          element.getClientRects().length)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">backdropIndex() { 
        </span><span class="s4">var </span><span class="s1">topBackdropIndex = -</span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">opened = openedWindows.keys()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; opened.length</span><span class="s3">; </span><span class="s1">i++) { 
          </span><span class="s4">if </span><span class="s1">(openedWindows.get(opened[i]).value.backdrop) { 
            topBackdropIndex = i</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
 
        </span><span class="s0">// If any backdrop exist, ensure that it's index is always</span><span class="s1"> 
        </span><span class="s0">// right below the top modal</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(topBackdropIndex &gt; -</span><span class="s5">1 </span><span class="s1">&amp;&amp; topBackdropIndex &lt; topModalIndex) { 
          topBackdropIndex = topModalIndex</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return </span><span class="s1">topBackdropIndex</span><span class="s3">;</span><span class="s1"> 
      } 
 
      $rootScope.$watch(backdropIndex</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(newBackdropIndex) { 
        </span><span class="s4">if </span><span class="s1">(backdropScope) { 
          backdropScope.index = newBackdropIndex</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">function </span><span class="s1">removeModalWindow(modalInstance</span><span class="s3">, </span><span class="s1">elementToReceiveFocus) { 
        </span><span class="s4">var </span><span class="s1">modalWindow = openedWindows.get(modalInstance).value</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">appendToElement = modalWindow.appendTo</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">//clean up the stack</span><span class="s1"> 
        openedWindows.remove(modalInstance)</span><span class="s3">;</span><span class="s1"> 
        previousTopOpenedModal = openedWindows.top()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(previousTopOpenedModal) { 
          topModalIndex = parseInt(previousTopOpenedModal.value.modalDomEl.attr(</span><span class="s2">'index'</span><span class="s1">)</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        removeAfterAnimate(modalWindow.modalDomEl</span><span class="s3">, </span><span class="s1">modalWindow.modalScope</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s4">var </span><span class="s1">modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS</span><span class="s3">;</span><span class="s1"> 
          openedClasses.remove(modalBodyClass</span><span class="s3">, </span><span class="s1">modalInstance)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">var </span><span class="s1">areAnyOpen = openedClasses.hasKey(modalBodyClass)</span><span class="s3">;</span><span class="s1"> 
          appendToElement.toggleClass(modalBodyClass</span><span class="s3">, </span><span class="s1">areAnyOpen)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(!areAnyOpen &amp;&amp; scrollbarPadding &amp;&amp; scrollbarPadding.heightOverflow &amp;&amp; scrollbarPadding.scrollbarWidth) { 
            </span><span class="s4">if </span><span class="s1">(scrollbarPadding.originalRight) { 
              appendToElement.css({paddingRight: scrollbarPadding.originalRight + </span><span class="s2">'px'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              appendToElement.css({paddingRight: </span><span class="s2">''</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
            } 
            scrollbarPadding = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          } 
          toggleTopWindowClass(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">, </span><span class="s1">modalWindow.closedDeferred)</span><span class="s3">;</span><span class="s1"> 
        checkRemoveBackdrop()</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">//move focus to specified element if available, or else to body</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(elementToReceiveFocus &amp;&amp; elementToReceiveFocus.focus) { 
          elementToReceiveFocus.focus()</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else if </span><span class="s1">(appendToElement.focus) { 
          appendToElement.focus()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s0">// Add or remove &quot;windowTopClass&quot; from the top window in the stack</span><span class="s1"> 
      </span><span class="s4">function </span><span class="s1">toggleTopWindowClass(toggleSwitch) { 
        </span><span class="s4">var </span><span class="s1">modalWindow</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(openedWindows.length() &gt; </span><span class="s5">0</span><span class="s1">) { 
          modalWindow = openedWindows.top().value</span><span class="s3">;</span><span class="s1"> 
          modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass || </span><span class="s2">''</span><span class="s3">, </span><span class="s1">toggleSwitch)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">function </span><span class="s1">checkRemoveBackdrop() { 
        </span><span class="s0">//remove backdrop if no longer needed</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(backdropDomEl &amp;&amp; backdropIndex() === -</span><span class="s5">1</span><span class="s1">) { 
          </span><span class="s4">var </span><span class="s1">backdropScopeRef = backdropScope</span><span class="s3">;</span><span class="s1"> 
          removeAfterAnimate(backdropDomEl</span><span class="s3">, </span><span class="s1">backdropScope</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
            backdropScopeRef = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
          backdropDomEl = undefined</span><span class="s3">;</span><span class="s1"> 
          backdropScope = undefined</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">function </span><span class="s1">removeAfterAnimate(domEl</span><span class="s3">, </span><span class="s1">scope</span><span class="s3">, </span><span class="s1">done</span><span class="s3">, </span><span class="s1">closedDeferred) { 
        </span><span class="s4">var </span><span class="s1">asyncDeferred</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">asyncPromise = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">setIsAsync = </span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s4">if </span><span class="s1">(!asyncDeferred) { 
            asyncDeferred = $q.defer()</span><span class="s3">;</span><span class="s1"> 
            asyncPromise = asyncDeferred.promise</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">return function </span><span class="s1">asyncDone() { 
            asyncDeferred.resolve()</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
        scope.$broadcast($modalStack.NOW_CLOSING_EVENT</span><span class="s3">, </span><span class="s1">setIsAsync)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// Note that it's intentional that asyncPromise might be null.</span><span class="s1"> 
        </span><span class="s0">// That's when setIsAsync has not been called during the</span><span class="s1"> 
        </span><span class="s0">// NOW_CLOSING_EVENT broadcast.</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">$q.when(asyncPromise).then(afterAnimating)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">function </span><span class="s1">afterAnimating() { 
          </span><span class="s4">if </span><span class="s1">(afterAnimating.done) { 
            </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
          } 
          afterAnimating.done = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
 
          $animate.leave(domEl).then(</span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">if </span><span class="s1">(done) { 
              done()</span><span class="s3">;</span><span class="s1"> 
            } 
 
            domEl.remove()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(closedDeferred) { 
              closedDeferred.resolve()</span><span class="s3">;</span><span class="s1"> 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
 
          scope.$destroy()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      $document.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">keydownListener)</span><span class="s3">;</span><span class="s1"> 
 
      $rootScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        $document.off(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s1">keydownListener)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">function </span><span class="s1">keydownListener(evt) { 
        </span><span class="s4">if </span><span class="s1">(evt.isDefaultPrevented()) { 
          </span><span class="s4">return </span><span class="s1">evt</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">modal = openedWindows.top()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modal) { 
          </span><span class="s4">switch </span><span class="s1">(evt.which) { 
            </span><span class="s4">case </span><span class="s5">27</span><span class="s1">: { 
              </span><span class="s4">if </span><span class="s1">(modal.value.keyboard) { 
                evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
                $rootScope.$apply(</span><span class="s4">function</span><span class="s1">() { 
                  $modalStack.dismiss(modal.key</span><span class="s3">, </span><span class="s2">'escape key press'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                })</span><span class="s3">;</span><span class="s1"> 
              } 
              </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
            } 
            </span><span class="s4">case </span><span class="s5">9</span><span class="s1">: { 
              </span><span class="s4">var </span><span class="s1">list = $modalStack.loadFocusElementList(modal)</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">var </span><span class="s1">focusChanged = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(evt.shiftKey) { 
                </span><span class="s4">if </span><span class="s1">($modalStack.isFocusInFirstItem(evt</span><span class="s3">, </span><span class="s1">list) || $modalStack.isModalFocused(evt</span><span class="s3">, </span><span class="s1">modal)) { 
                  focusChanged = $modalStack.focusLastFocusableElement(list)</span><span class="s3">;</span><span class="s1"> 
                } 
              } </span><span class="s4">else </span><span class="s1">{ 
                </span><span class="s4">if </span><span class="s1">($modalStack.isFocusInLastItem(evt</span><span class="s3">, </span><span class="s1">list)) { 
                  focusChanged = $modalStack.focusFirstFocusableElement(list)</span><span class="s3">;</span><span class="s1"> 
                } 
              } 
 
              </span><span class="s4">if </span><span class="s1">(focusChanged) { 
                evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
                evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
        } 
      } 
 
      $modalStack.open = </span><span class="s4">function</span><span class="s1">(modalInstance</span><span class="s3">, </span><span class="s1">modal) { 
        </span><span class="s4">var </span><span class="s1">modalOpener = $document[</span><span class="s5">0</span><span class="s1">].activeElement</span><span class="s3">,</span><span class="s1"> 
          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS</span><span class="s3">;</span><span class="s1"> 
 
        toggleTopWindowClass(</span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// Store the current top first, to determine what index we ought to use</span><span class="s1"> 
        </span><span class="s0">// for the current top modal</span><span class="s1"> 
        previousTopOpenedModal = openedWindows.top()</span><span class="s3">;</span><span class="s1"> 
 
        openedWindows.add(modalInstance</span><span class="s3">, </span><span class="s1">{ 
          deferred: modal.deferred</span><span class="s3">,</span><span class="s1"> 
          renderDeferred: modal.renderDeferred</span><span class="s3">,</span><span class="s1"> 
          closedDeferred: modal.closedDeferred</span><span class="s3">,</span><span class="s1"> 
          modalScope: modal.scope</span><span class="s3">,</span><span class="s1"> 
          backdrop: modal.backdrop</span><span class="s3">,</span><span class="s1"> 
          keyboard: modal.keyboard</span><span class="s3">,</span><span class="s1"> 
          openedClass: modal.openedClass</span><span class="s3">,</span><span class="s1"> 
          windowTopClass: modal.windowTopClass</span><span class="s3">,</span><span class="s1"> 
          animation: modal.animation</span><span class="s3">,</span><span class="s1"> 
          appendTo: modal.appendTo 
        })</span><span class="s3">;</span><span class="s1"> 
 
        openedClasses.put(modalBodyClass</span><span class="s3">, </span><span class="s1">modalInstance)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">var </span><span class="s1">appendToElement = modal.appendTo</span><span class="s3">,</span><span class="s1"> 
            currBackdropIndex = backdropIndex()</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(currBackdropIndex &gt;= </span><span class="s5">0 </span><span class="s1">&amp;&amp; !backdropDomEl) { 
          backdropScope = $rootScope.$new(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          backdropScope.modalOptions = modal</span><span class="s3">;</span><span class="s1"> 
          backdropScope.index = currBackdropIndex</span><span class="s3">;</span><span class="s1"> 
          backdropDomEl = angular.element(</span><span class="s2">'&lt;div uib-modal-backdrop=&quot;modal-backdrop&quot;&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          backdropDomEl.attr({ 
            </span><span class="s2">'class'</span><span class="s1">: </span><span class="s2">'modal-backdrop'</span><span class="s3">,</span><span class="s1"> 
            </span><span class="s2">'ng-style'</span><span class="s1">: </span><span class="s2">'{</span><span class="s3">\'</span><span class="s2">z-index</span><span class="s3">\'</span><span class="s2">: 1040 + (index &amp;&amp; 1 || 0) + index*10}'</span><span class="s3">,</span><span class="s1"> 
            </span><span class="s2">'uib-modal-animation-class'</span><span class="s1">: </span><span class="s2">'fade'</span><span class="s3">,</span><span class="s1"> 
            </span><span class="s2">'modal-in-class'</span><span class="s1">: </span><span class="s2">'in'</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(modal.backdropClass) { 
            backdropDomEl.addClass(modal.backdropClass)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">if </span><span class="s1">(modal.animation) { 
            backdropDomEl.attr(</span><span class="s2">'modal-animation'</span><span class="s3">, </span><span class="s2">'true'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
          $compile(backdropDomEl)(backdropScope)</span><span class="s3">;</span><span class="s1"> 
          $animate.enter(backdropDomEl</span><span class="s3">, </span><span class="s1">appendToElement)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">($uibPosition.isScrollable(appendToElement)) { 
            scrollbarPadding = $uibPosition.scrollbarPadding(appendToElement)</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(scrollbarPadding.heightOverflow &amp;&amp; scrollbarPadding.scrollbarWidth) { 
              appendToElement.css({paddingRight: scrollbarPadding.right + </span><span class="s2">'px'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
        } 
 
        </span><span class="s4">var </span><span class="s1">content</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modal.component) { 
          content = document.createElement(snake_case(modal.component.name))</span><span class="s3">;</span><span class="s1"> 
          content = angular.element(content)</span><span class="s3">;</span><span class="s1"> 
          content.attr({ 
            resolve: </span><span class="s2">'$resolve'</span><span class="s3">,</span><span class="s1"> 
            </span><span class="s2">'modal-instance'</span><span class="s1">: </span><span class="s2">'$uibModalInstance'</span><span class="s3">,</span><span class="s1"> 
            close: </span><span class="s2">'$close($value)'</span><span class="s3">,</span><span class="s1"> 
            dismiss: </span><span class="s2">'$dismiss($value)'</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          content = modal.content</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s0">// Set the top modal index based on the index of the previous top modal</span><span class="s1"> 
        topModalIndex = previousTopOpenedModal ? parseInt(previousTopOpenedModal.value.modalDomEl.attr(</span><span class="s2">'index'</span><span class="s1">)</span><span class="s3">, </span><span class="s5">10</span><span class="s1">) + </span><span class="s5">1 </span><span class="s1">: </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">angularDomEl = angular.element(</span><span class="s2">'&lt;div uib-modal-window=&quot;modal-window&quot;&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        angularDomEl.attr({ 
          </span><span class="s2">'class'</span><span class="s1">: </span><span class="s2">'modal'</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'template-url'</span><span class="s1">: modal.windowTemplateUrl</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'window-top-class'</span><span class="s1">: modal.windowTopClass</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'role'</span><span class="s1">: </span><span class="s2">'dialog'</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'aria-labelledby'</span><span class="s1">: modal.ariaLabelledBy</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'aria-describedby'</span><span class="s1">: modal.ariaDescribedBy</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'size'</span><span class="s1">: modal.size</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'index'</span><span class="s1">: topModalIndex</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'animate'</span><span class="s1">: </span><span class="s2">'animate'</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'ng-style'</span><span class="s1">: </span><span class="s2">'{</span><span class="s3">\'</span><span class="s2">z-index</span><span class="s3">\'</span><span class="s2">: 1050 + $$topModalIndex*10, display: </span><span class="s3">\'</span><span class="s2">block</span><span class="s3">\'</span><span class="s2">}'</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'tabindex'</span><span class="s1">: -</span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'uib-modal-animation-class'</span><span class="s1">: </span><span class="s2">'fade'</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s2">'modal-in-class'</span><span class="s1">: </span><span class="s2">'in'</span><span class="s1"> 
        }).append(content)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modal.windowClass) { 
          angularDomEl.addClass(modal.windowClass)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(modal.animation) { 
          angularDomEl.attr(</span><span class="s2">'modal-animation'</span><span class="s3">, </span><span class="s2">'true'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        appendToElement.addClass(modalBodyClass)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modal.scope) { 
          </span><span class="s0">// we need to explicitly add the modal index to the modal scope</span><span class="s1"> 
          </span><span class="s0">// because it is needed by ngStyle to compute the zIndex property.</span><span class="s1"> 
          modal.scope.$$topModalIndex = topModalIndex</span><span class="s3">;</span><span class="s1"> 
        } 
        $animate.enter($compile(angularDomEl)(modal.scope)</span><span class="s3">, </span><span class="s1">appendToElement)</span><span class="s3">;</span><span class="s1"> 
 
        openedWindows.top().value.modalDomEl = angularDomEl</span><span class="s3">;</span><span class="s1"> 
        openedWindows.top().value.modalOpener = modalOpener</span><span class="s3">;</span><span class="s1"> 
 
        applyAriaHidden(angularDomEl)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">function </span><span class="s1">applyAriaHidden(el) { 
          </span><span class="s4">if </span><span class="s1">(!el || el[</span><span class="s5">0</span><span class="s1">].tagName === </span><span class="s2">'BODY'</span><span class="s1">) { 
            </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
          } 
 
          getSiblings(el).forEach(</span><span class="s4">function</span><span class="s1">(sibling) { 
            </span><span class="s4">var </span><span class="s1">elemIsAlreadyHidden = sibling.getAttribute(</span><span class="s2">'aria-hidden'</span><span class="s1">) === </span><span class="s2">'true'</span><span class="s3">,</span><span class="s1"> 
              ariaHiddenCount = parseInt(sibling.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME)</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(!ariaHiddenCount) { 
              ariaHiddenCount = elemIsAlreadyHidden ? </span><span class="s5">1 </span><span class="s1">: </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
            } 
 
            sibling.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME</span><span class="s3">, </span><span class="s1">ariaHiddenCount + </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            sibling.setAttribute(</span><span class="s2">'aria-hidden'</span><span class="s3">, </span><span class="s2">'true'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">return </span><span class="s1">applyAriaHidden(el.parent())</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">function </span><span class="s1">getSiblings(el) { 
            </span><span class="s4">var </span><span class="s1">children = el.parent() ? el.parent().children() : []</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">return </span><span class="s1">Array.prototype.filter.call(children</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(child) { 
              </span><span class="s4">return </span><span class="s1">child !== el[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">function </span><span class="s1">broadcastClosing(modalWindow</span><span class="s3">, </span><span class="s1">resultOrReason</span><span class="s3">, </span><span class="s1">closing) { 
        </span><span class="s4">return </span><span class="s1">!modalWindow.value.modalScope.$broadcast(</span><span class="s2">'modal.closing'</span><span class="s3">, </span><span class="s1">resultOrReason</span><span class="s3">, </span><span class="s1">closing).defaultPrevented</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">function </span><span class="s1">unhideBackgroundElements() { 
        Array.prototype.forEach.call( 
          document.querySelectorAll(</span><span class="s2">'[' </span><span class="s1">+ ARIA_HIDDEN_ATTRIBUTE_NAME + </span><span class="s2">']'</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
          </span><span class="s4">function</span><span class="s1">(hiddenEl) { 
            </span><span class="s4">var </span><span class="s1">ariaHiddenCount = parseInt(hiddenEl.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME)</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
              newHiddenCount = ariaHiddenCount - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
            hiddenEl.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME</span><span class="s3">, </span><span class="s1">newHiddenCount)</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(!newHiddenCount) { 
              hiddenEl.removeAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME)</span><span class="s3">;</span><span class="s1"> 
              hiddenEl.removeAttribute(</span><span class="s2">'aria-hidden'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
        )</span><span class="s3">;</span><span class="s1"> 
      } 
 
      $modalStack.close = </span><span class="s4">function</span><span class="s1">(modalInstance</span><span class="s3">, </span><span class="s1">result) { 
        </span><span class="s4">var </span><span class="s1">modalWindow = openedWindows.get(modalInstance)</span><span class="s3">;</span><span class="s1"> 
        unhideBackgroundElements()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modalWindow &amp;&amp; broadcastClosing(modalWindow</span><span class="s3">, </span><span class="s1">result</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)) { 
          modalWindow.value.modalScope.$$uibDestructionScheduled = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
          modalWindow.value.deferred.resolve(result)</span><span class="s3">;</span><span class="s1"> 
          removeModalWindow(modalInstance</span><span class="s3">, </span><span class="s1">modalWindow.value.modalOpener)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">!modalWindow</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.dismiss = </span><span class="s4">function</span><span class="s1">(modalInstance</span><span class="s3">, </span><span class="s1">reason) { 
        </span><span class="s4">var </span><span class="s1">modalWindow = openedWindows.get(modalInstance)</span><span class="s3">;</span><span class="s1"> 
        unhideBackgroundElements()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modalWindow &amp;&amp; broadcastClosing(modalWindow</span><span class="s3">, </span><span class="s1">reason</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)) { 
          modalWindow.value.modalScope.$$uibDestructionScheduled = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
          modalWindow.value.deferred.reject(reason)</span><span class="s3">;</span><span class="s1"> 
          removeModalWindow(modalInstance</span><span class="s3">, </span><span class="s1">modalWindow.value.modalOpener)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return </span><span class="s1">!modalWindow</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.dismissAll = </span><span class="s4">function</span><span class="s1">(reason) { 
        </span><span class="s4">var </span><span class="s1">topModal = </span><span class="s4">this</span><span class="s1">.getTop()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">while </span><span class="s1">(topModal &amp;&amp; </span><span class="s4">this</span><span class="s1">.dismiss(topModal.key</span><span class="s3">, </span><span class="s1">reason)) { 
          topModal = </span><span class="s4">this</span><span class="s1">.getTop()</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.getTop = </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">return </span><span class="s1">openedWindows.top()</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.modalRendered = </span><span class="s4">function</span><span class="s1">(modalInstance) { 
        </span><span class="s4">var </span><span class="s1">modalWindow = openedWindows.get(modalInstance)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(modalWindow) { 
          modalWindow.value.renderDeferred.resolve()</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.focusFirstFocusableElement = </span><span class="s4">function</span><span class="s1">(list) { 
        </span><span class="s4">if </span><span class="s1">(list.length &gt; </span><span class="s5">0</span><span class="s1">) { 
          list[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.focusLastFocusableElement = </span><span class="s4">function</span><span class="s1">(list) { 
        </span><span class="s4">if </span><span class="s1">(list.length &gt; </span><span class="s5">0</span><span class="s1">) { 
          list[list.length - </span><span class="s5">1</span><span class="s1">].focus()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return true</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.isModalFocused = </span><span class="s4">function</span><span class="s1">(evt</span><span class="s3">, </span><span class="s1">modalWindow) { 
        </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; modalWindow) { 
          </span><span class="s4">var </span><span class="s1">modalDomEl = modalWindow.value.modalDomEl</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(modalDomEl &amp;&amp; modalDomEl.length) { 
            </span><span class="s4">return </span><span class="s1">(evt.target || evt.srcElement) === modalDomEl[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
        </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.isFocusInFirstItem = </span><span class="s4">function</span><span class="s1">(evt</span><span class="s3">, </span><span class="s1">list) { 
        </span><span class="s4">if </span><span class="s1">(list.length &gt; </span><span class="s5">0</span><span class="s1">) { 
          </span><span class="s4">return </span><span class="s1">(evt.target || evt.srcElement) === list[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.isFocusInLastItem = </span><span class="s4">function</span><span class="s1">(evt</span><span class="s3">, </span><span class="s1">list) { 
        </span><span class="s4">if </span><span class="s1">(list.length &gt; </span><span class="s5">0</span><span class="s1">) { 
          </span><span class="s4">return </span><span class="s1">(evt.target || evt.srcElement) === list[list.length - </span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
        } 
        </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $modalStack.loadFocusElementList = </span><span class="s4">function</span><span class="s1">(modalWindow) { 
        </span><span class="s4">if </span><span class="s1">(modalWindow) { 
          </span><span class="s4">var </span><span class="s1">modalDomE1 = modalWindow.value.modalDomEl</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(modalDomE1 &amp;&amp; modalDomE1.length) { 
            </span><span class="s4">var </span><span class="s1">elements = modalDomE1[</span><span class="s5">0</span><span class="s1">].querySelectorAll(tabbableSelector)</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">return </span><span class="s1">elements ? 
              Array.prototype.filter.call(elements</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(element) { 
                </span><span class="s4">return </span><span class="s1">isVisible(element)</span><span class="s3">;</span><span class="s1"> 
              }) : elements</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">return </span><span class="s1">$modalStack</span><span class="s3">;</span><span class="s1"> 
    }]) 
 
  .provider(</span><span class="s2">'$uibModal'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">$modalProvider = { 
      options: { 
        animation: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
        backdrop: </span><span class="s4">true</span><span class="s3">, </span><span class="s0">//can also be false or 'static'</span><span class="s1"> 
        keyboard: </span><span class="s4">true</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      $get: [</span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$templateRequest'</span><span class="s3">, </span><span class="s2">'$controller'</span><span class="s3">, </span><span class="s2">'$uibResolve'</span><span class="s3">, </span><span class="s2">'$uibModalStack'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s4">function </span><span class="s1">($rootScope</span><span class="s3">, </span><span class="s1">$q</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$templateRequest</span><span class="s3">, </span><span class="s1">$controller</span><span class="s3">, </span><span class="s1">$uibResolve</span><span class="s3">, </span><span class="s1">$modalStack) { 
          </span><span class="s4">var </span><span class="s1">$modal = {}</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">function </span><span class="s1">getTemplatePromise(options) { 
            </span><span class="s4">return </span><span class="s1">options.template ? $q.when(options.template) : 
              $templateRequest(angular.isFunction(options.templateUrl) ? 
                options.templateUrl() : options.templateUrl)</span><span class="s3">;</span><span class="s1"> 
          } 
 
          </span><span class="s4">var </span><span class="s1">promiseChain = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          $modal.getPromiseChain = </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">return </span><span class="s1">promiseChain</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">;</span><span class="s1"> 
 
          $modal.open = </span><span class="s4">function</span><span class="s1">(modalOptions) { 
            </span><span class="s4">var </span><span class="s1">modalResultDeferred = $q.defer()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">modalOpenedDeferred = $q.defer()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">modalClosedDeferred = $q.defer()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">modalRenderDeferred = $q.defer()</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">//prepare an instance of a modal to be injected into controllers and returned to a caller</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">modalInstance = { 
              result: modalResultDeferred.promise</span><span class="s3">,</span><span class="s1"> 
              opened: modalOpenedDeferred.promise</span><span class="s3">,</span><span class="s1"> 
              closed: modalClosedDeferred.promise</span><span class="s3">,</span><span class="s1"> 
              rendered: modalRenderDeferred.promise</span><span class="s3">,</span><span class="s1"> 
              close: </span><span class="s4">function </span><span class="s1">(result) { 
                </span><span class="s4">return </span><span class="s1">$modalStack.close(modalInstance</span><span class="s3">, </span><span class="s1">result)</span><span class="s3">;</span><span class="s1"> 
              }</span><span class="s3">,</span><span class="s1"> 
              dismiss: </span><span class="s4">function </span><span class="s1">(reason) { 
                </span><span class="s4">return </span><span class="s1">$modalStack.dismiss(modalInstance</span><span class="s3">, </span><span class="s1">reason)</span><span class="s3">;</span><span class="s1"> 
              } 
            }</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">//merge and clean up options</span><span class="s1"> 
            modalOptions = angular.extend({}</span><span class="s3">, </span><span class="s1">$modalProvider.options</span><span class="s3">, </span><span class="s1">modalOptions)</span><span class="s3">;</span><span class="s1"> 
            modalOptions.resolve = modalOptions.resolve || {}</span><span class="s3">;</span><span class="s1"> 
            modalOptions.appendTo = modalOptions.appendTo || $document.find(</span><span class="s2">'body'</span><span class="s1">).eq(</span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(!modalOptions.appendTo.length) { 
              </span><span class="s4">throw new </span><span class="s1">Error(</span><span class="s2">'appendTo element not found. Make sure that the element passed is in DOM.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s0">//verify options</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(!modalOptions.component &amp;&amp; !modalOptions.template &amp;&amp; !modalOptions.templateUrl) { 
              </span><span class="s4">throw new </span><span class="s1">Error(</span><span class="s2">'One of component or template or templateUrl options is required.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">var </span><span class="s1">templateAndResolvePromise</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(modalOptions.component) { 
              templateAndResolvePromise = $q.when($uibResolve.resolve(modalOptions.resolve</span><span class="s3">, </span><span class="s1">{}</span><span class="s3">, </span><span class="s4">null</span><span class="s3">, </span><span class="s4">null</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              templateAndResolvePromise = 
                $q.all([getTemplatePromise(modalOptions)</span><span class="s3">, </span><span class="s1">$uibResolve.resolve(modalOptions.resolve</span><span class="s3">, </span><span class="s1">{}</span><span class="s3">, </span><span class="s4">null</span><span class="s3">, </span><span class="s4">null</span><span class="s1">)])</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">resolveWithTemplate() { 
              </span><span class="s4">return </span><span class="s1">templateAndResolvePromise</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s0">// Wait for the resolution of the existing promise chain.</span><span class="s1"> 
            </span><span class="s0">// Then switch to our own combined promise dependency (regardless of how the previous modal fared).</span><span class="s1"> 
            </span><span class="s0">// Then add to $modalStack and resolve opened.</span><span class="s1"> 
            </span><span class="s0">// Finally clean up the chain variable if no subsequent modal has overwritten it.</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">samePromise</span><span class="s3">;</span><span class="s1"> 
            samePromise = promiseChain = $q.all([promiseChain]) 
              .then(resolveWithTemplate</span><span class="s3">, </span><span class="s1">resolveWithTemplate) 
              .then(</span><span class="s4">function </span><span class="s1">resolveSuccess(tplAndVars) { 
                </span><span class="s4">var </span><span class="s1">providedScope = modalOptions.scope || $rootScope</span><span class="s3">;</span><span class="s1"> 
 
                </span><span class="s4">var </span><span class="s1">modalScope = providedScope.$new()</span><span class="s3">;</span><span class="s1"> 
                modalScope.$close = modalInstance.close</span><span class="s3">;</span><span class="s1"> 
                modalScope.$dismiss = modalInstance.dismiss</span><span class="s3">;</span><span class="s1"> 
 
                modalScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
                  </span><span class="s4">if </span><span class="s1">(!modalScope.$$uibDestructionScheduled) { 
                    modalScope.$dismiss(</span><span class="s2">'$uibUnscheduledDestruction'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                  } 
                })</span><span class="s3">;</span><span class="s1"> 
 
                </span><span class="s4">var </span><span class="s1">modal = { 
                  scope: modalScope</span><span class="s3">,</span><span class="s1"> 
                  deferred: modalResultDeferred</span><span class="s3">,</span><span class="s1"> 
                  renderDeferred: modalRenderDeferred</span><span class="s3">,</span><span class="s1"> 
                  closedDeferred: modalClosedDeferred</span><span class="s3">,</span><span class="s1"> 
                  animation: modalOptions.animation</span><span class="s3">,</span><span class="s1"> 
                  backdrop: modalOptions.backdrop</span><span class="s3">,</span><span class="s1"> 
                  keyboard: modalOptions.keyboard</span><span class="s3">,</span><span class="s1"> 
                  backdropClass: modalOptions.backdropClass</span><span class="s3">,</span><span class="s1"> 
                  windowTopClass: modalOptions.windowTopClass</span><span class="s3">,</span><span class="s1"> 
                  windowClass: modalOptions.windowClass</span><span class="s3">,</span><span class="s1"> 
                  windowTemplateUrl: modalOptions.windowTemplateUrl</span><span class="s3">,</span><span class="s1"> 
                  ariaLabelledBy: modalOptions.ariaLabelledBy</span><span class="s3">,</span><span class="s1"> 
                  ariaDescribedBy: modalOptions.ariaDescribedBy</span><span class="s3">,</span><span class="s1"> 
                  size: modalOptions.size</span><span class="s3">,</span><span class="s1"> 
                  openedClass: modalOptions.openedClass</span><span class="s3">,</span><span class="s1"> 
                  appendTo: modalOptions.appendTo 
                }</span><span class="s3">;</span><span class="s1"> 
 
                </span><span class="s4">var </span><span class="s1">component = {}</span><span class="s3">;</span><span class="s1"> 
                </span><span class="s4">var </span><span class="s1">ctrlInstance</span><span class="s3">, </span><span class="s1">ctrlInstantiate</span><span class="s3">, </span><span class="s1">ctrlLocals = {}</span><span class="s3">;</span><span class="s1"> 
 
                </span><span class="s4">if </span><span class="s1">(modalOptions.component) { 
                  constructLocals(component</span><span class="s3">, </span><span class="s4">false</span><span class="s3">, </span><span class="s4">true</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                  component.name = modalOptions.component</span><span class="s3">;</span><span class="s1"> 
                  modal.component = component</span><span class="s3">;</span><span class="s1"> 
                } </span><span class="s4">else if </span><span class="s1">(modalOptions.controller) { 
                  constructLocals(ctrlLocals</span><span class="s3">, </span><span class="s4">true</span><span class="s3">, </span><span class="s4">false</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
                  </span><span class="s0">// the third param will make the controller instantiate later,private api</span><span class="s1"> 
                  </span><span class="s0">// @see https://github.com/angular/angular.js/blob/master/src/ng/controller.js#L126</span><span class="s1"> 
                  ctrlInstantiate = $controller(modalOptions.controller</span><span class="s3">, </span><span class="s1">ctrlLocals</span><span class="s3">, </span><span class="s4">true</span><span class="s3">, </span><span class="s1">modalOptions.controllerAs)</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(modalOptions.controllerAs &amp;&amp; modalOptions.bindToController) { 
                    ctrlInstance = ctrlInstantiate.instance</span><span class="s3">;</span><span class="s1"> 
                    ctrlInstance.$close = modalScope.$close</span><span class="s3">;</span><span class="s1"> 
                    ctrlInstance.$dismiss = modalScope.$dismiss</span><span class="s3">;</span><span class="s1"> 
                    angular.extend(ctrlInstance</span><span class="s3">, </span><span class="s1">{ 
                      $resolve: ctrlLocals.$scope.$resolve 
                    }</span><span class="s3">, </span><span class="s1">providedScope)</span><span class="s3">;</span><span class="s1"> 
                  } 
 
                  ctrlInstance = ctrlInstantiate()</span><span class="s3">;</span><span class="s1"> 
 
                  </span><span class="s4">if </span><span class="s1">(angular.isFunction(ctrlInstance.$onInit)) { 
                    ctrlInstance.$onInit()</span><span class="s3">;</span><span class="s1"> 
                  } 
                } 
 
                </span><span class="s4">if </span><span class="s1">(!modalOptions.component) { 
                  modal.content = tplAndVars[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
                } 
 
                $modalStack.open(modalInstance</span><span class="s3">, </span><span class="s1">modal)</span><span class="s3">;</span><span class="s1"> 
                modalOpenedDeferred.resolve(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
                </span><span class="s4">function </span><span class="s1">constructLocals(obj</span><span class="s3">, </span><span class="s1">template</span><span class="s3">, </span><span class="s1">instanceOnScope</span><span class="s3">, </span><span class="s1">injectable) { 
                  obj.$scope = modalScope</span><span class="s3">;</span><span class="s1"> 
                  obj.$scope.$resolve = {}</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(instanceOnScope) { 
                    obj.$scope.$uibModalInstance = modalInstance</span><span class="s3">;</span><span class="s1"> 
                  } </span><span class="s4">else </span><span class="s1">{ 
                    obj.$uibModalInstance = modalInstance</span><span class="s3">;</span><span class="s1"> 
                  } 
 
                  </span><span class="s4">var </span><span class="s1">resolves = template ? tplAndVars[</span><span class="s5">1</span><span class="s1">] : tplAndVars</span><span class="s3">;</span><span class="s1"> 
                  angular.forEach(resolves</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value</span><span class="s3">, </span><span class="s1">key) { 
                    </span><span class="s4">if </span><span class="s1">(injectable) { 
                      obj[key] = value</span><span class="s3">;</span><span class="s1"> 
                    } 
 
                    obj.$scope.$resolve[key] = value</span><span class="s3">;</span><span class="s1"> 
                  })</span><span class="s3">;</span><span class="s1"> 
                } 
            }</span><span class="s3">, </span><span class="s4">function </span><span class="s1">resolveError(reason) { 
              modalOpenedDeferred.reject(reason)</span><span class="s3">;</span><span class="s1"> 
              modalResultDeferred.reject(reason)</span><span class="s3">;</span><span class="s1"> 
            })[</span><span class="s2">'finally'</span><span class="s1">](</span><span class="s4">function</span><span class="s1">() { 
              </span><span class="s4">if </span><span class="s1">(promiseChain === samePromise) { 
                promiseChain = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
            })</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">return </span><span class="s1">modalInstance</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">return </span><span class="s1">$modal</span><span class="s3">;</span><span class="s1"> 
        } 
      ] 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">return </span><span class="s1">$modalProvider</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.paging'</span><span class="s3">, </span><span class="s1">[]) 
</span><span class="s6">/** 
 * Helper internal service for generating common controller code between the 
 * pager and pagination components 
 */</span><span class="s1"> 
.factory(</span><span class="s2">'uibPaging'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($parse) { 
  </span><span class="s4">return </span><span class="s1">{ 
    create: </span><span class="s4">function</span><span class="s1">(ctrl</span><span class="s3">, </span><span class="s1">$scope</span><span class="s3">, </span><span class="s1">$attrs) { 
      ctrl.setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop</span><span class="s3">;</span><span class="s1"> 
      ctrl.ngModelCtrl = { $setViewValue: angular.noop }</span><span class="s3">; </span><span class="s0">// nullModelCtrl</span><span class="s1"> 
      ctrl._watchers = []</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.init = </span><span class="s4">function</span><span class="s1">(ngModelCtrl</span><span class="s3">, </span><span class="s1">config) { 
        ctrl.ngModelCtrl = ngModelCtrl</span><span class="s3">;</span><span class="s1"> 
        ctrl.config = config</span><span class="s3">;</span><span class="s1"> 
 
        ngModelCtrl.$render = </span><span class="s4">function</span><span class="s1">() { 
          ctrl.render()</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">($attrs.itemsPerPage) { 
          ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
            ctrl.itemsPerPage = parseInt(value</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            $scope.totalPages = ctrl.calculateTotalPages()</span><span class="s3">;</span><span class="s1"> 
            ctrl.updatePage()</span><span class="s3">;</span><span class="s1"> 
          }))</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          ctrl.itemsPerPage = config.itemsPerPage</span><span class="s3">;</span><span class="s1"> 
        } 
 
        $scope.$watch(</span><span class="s2">'totalItems'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(newTotal</span><span class="s3">, </span><span class="s1">oldTotal) { 
          </span><span class="s4">if </span><span class="s1">(angular.isDefined(newTotal) || newTotal !== oldTotal) { 
            $scope.totalPages = ctrl.calculateTotalPages()</span><span class="s3">;</span><span class="s1"> 
            ctrl.updatePage()</span><span class="s3">;</span><span class="s1"> 
          } 
        })</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.calculateTotalPages = </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">var </span><span class="s1">totalPages = ctrl.itemsPerPage &lt; </span><span class="s5">1 </span><span class="s1">? </span><span class="s5">1 </span><span class="s1">: Math.ceil($scope.totalItems / ctrl.itemsPerPage)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">Math.max(totalPages || </span><span class="s5">0</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.render = </span><span class="s4">function</span><span class="s1">() { 
        $scope.page = parseInt(ctrl.ngModelCtrl.$viewValue</span><span class="s3">, </span><span class="s5">10</span><span class="s1">) || </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $scope.selectPage = </span><span class="s4">function</span><span class="s1">(page</span><span class="s3">, </span><span class="s1">evt) { 
        </span><span class="s4">if </span><span class="s1">(evt) { 
          evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">var </span><span class="s1">clickAllowed = !$scope.ngDisabled || !evt</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(clickAllowed &amp;&amp; $scope.page !== page &amp;&amp; page &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; page &lt;= $scope.totalPages) { 
          </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; evt.target) { 
            evt.target.blur()</span><span class="s3">;</span><span class="s1"> 
          } 
          ctrl.ngModelCtrl.$setViewValue(page)</span><span class="s3">;</span><span class="s1"> 
          ctrl.ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $scope.getText = </span><span class="s4">function</span><span class="s1">(key) { 
        </span><span class="s4">return </span><span class="s1">$scope[key + </span><span class="s2">'Text'</span><span class="s1">] || ctrl.config[key + </span><span class="s2">'Text'</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $scope.noPrevious = </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">return </span><span class="s1">$scope.page === </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $scope.noNext = </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">return </span><span class="s1">$scope.page === $scope.totalPages</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">;</span><span class="s1"> 
 
      ctrl.updatePage = </span><span class="s4">function</span><span class="s1">() { 
        ctrl.setNumPages($scope.$parent</span><span class="s3">, </span><span class="s1">$scope.totalPages)</span><span class="s3">; </span><span class="s0">// Readonly variable</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">($scope.page &gt; $scope.totalPages) { 
          $scope.selectPage($scope.totalPages)</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          ctrl.ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">while </span><span class="s1">(ctrl._watchers.length) { 
          ctrl._watchers.shift()()</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.pager'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.paging'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.tabindex'</span><span class="s1">]) 
 
.controller(</span><span class="s2">'UibPagerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'uibPaging'</span><span class="s3">, </span><span class="s2">'uibPagerConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">uibPaging</span><span class="s3">, </span><span class="s1">uibPagerConfig) { 
  $scope.align = angular.isDefined($attrs.align) ? $scope.$parent.$eval($attrs.align) : uibPagerConfig.align</span><span class="s3">;</span><span class="s1"> 
 
  uibPaging.create(</span><span class="s4">this</span><span class="s3">, </span><span class="s1">$scope</span><span class="s3">, </span><span class="s1">$attrs)</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.constant(</span><span class="s2">'uibPagerConfig'</span><span class="s3">, </span><span class="s1">{ 
  itemsPerPage: </span><span class="s5">10</span><span class="s3">,</span><span class="s1"> 
  previousText: </span><span class="s2">'« Previous'</span><span class="s3">,</span><span class="s1"> 
  nextText: </span><span class="s2">'Next »'</span><span class="s3">,</span><span class="s1"> 
  align: </span><span class="s4">true</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibPager'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'uibPagerConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(uibPagerConfig) { 
  </span><span class="s4">return </span><span class="s1">{ 
    scope: { 
      totalItems: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      previousText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      nextText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      ngDisabled: </span><span class="s2">'='</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'uibPager'</span><span class="s3">, </span><span class="s2">'?ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibPagerController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'pager'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/pager/pager.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      element.addClass(</span><span class="s2">'pager'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">paginationCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(!ngModelCtrl) { 
        </span><span class="s4">return</span><span class="s3">; </span><span class="s0">// do nothing if no ng-model</span><span class="s1"> 
      } 
 
      paginationCtrl.init(ngModelCtrl</span><span class="s3">, </span><span class="s1">uibPagerConfig)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.pagination'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.paging'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.tabindex'</span><span class="s1">]) 
.controller(</span><span class="s2">'UibPaginationController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'uibPaging'</span><span class="s3">, </span><span class="s2">'uibPaginationConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">uibPaging</span><span class="s3">, </span><span class="s1">uibPaginationConfig) { 
  </span><span class="s4">var </span><span class="s1">ctrl = </span><span class="s4">this</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s0">// Setup configuration parameters</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">maxSize = angular.isDefined($attrs.maxSize) ? $scope.$parent.$eval($attrs.maxSize) : uibPaginationConfig.maxSize</span><span class="s3">,</span><span class="s1"> 
    rotate = angular.isDefined($attrs.rotate) ? $scope.$parent.$eval($attrs.rotate) : uibPaginationConfig.rotate</span><span class="s3">,</span><span class="s1"> 
    forceEllipses = angular.isDefined($attrs.forceEllipses) ? $scope.$parent.$eval($attrs.forceEllipses) : uibPaginationConfig.forceEllipses</span><span class="s3">,</span><span class="s1"> 
    boundaryLinkNumbers = angular.isDefined($attrs.boundaryLinkNumbers) ? $scope.$parent.$eval($attrs.boundaryLinkNumbers) : uibPaginationConfig.boundaryLinkNumbers</span><span class="s3">,</span><span class="s1"> 
    pageLabel = angular.isDefined($attrs.pageLabel) ? </span><span class="s4">function</span><span class="s1">(idx) { </span><span class="s4">return </span><span class="s1">$scope.$parent.$eval($attrs.pageLabel</span><span class="s3">, </span><span class="s1">{$page: idx})</span><span class="s3">; </span><span class="s1">} : angular.identity</span><span class="s3">;</span><span class="s1"> 
  $scope.boundaryLinks = angular.isDefined($attrs.boundaryLinks) ? $scope.$parent.$eval($attrs.boundaryLinks) : uibPaginationConfig.boundaryLinks</span><span class="s3">;</span><span class="s1"> 
  $scope.directionLinks = angular.isDefined($attrs.directionLinks) ? $scope.$parent.$eval($attrs.directionLinks) : uibPaginationConfig.directionLinks</span><span class="s3">;</span><span class="s1"> 
  $attrs.$set(</span><span class="s2">'role'</span><span class="s3">, </span><span class="s2">'menu'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  uibPaging.create(</span><span class="s4">this</span><span class="s3">, </span><span class="s1">$scope</span><span class="s3">, </span><span class="s1">$attrs)</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">if </span><span class="s1">($attrs.maxSize) { 
    ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      maxSize = parseInt(value</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      ctrl.render()</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">// Create page object used in template</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">makePage(number</span><span class="s3">, </span><span class="s1">text</span><span class="s3">, </span><span class="s1">isActive) { 
    </span><span class="s4">return </span><span class="s1">{ 
      number: number</span><span class="s3">,</span><span class="s1"> 
      text: text</span><span class="s3">,</span><span class="s1"> 
      active: isActive 
    }</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">getPages(currentPage</span><span class="s3">, </span><span class="s1">totalPages) { 
    </span><span class="s4">var </span><span class="s1">pages = []</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// Default page limits</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">startPage = </span><span class="s5">1</span><span class="s3">, </span><span class="s1">endPage = totalPages</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isMaxSized = angular.isDefined(maxSize) &amp;&amp; maxSize &lt; totalPages</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// recompute if maxSize</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(isMaxSized) { 
      </span><span class="s4">if </span><span class="s1">(rotate) { 
        </span><span class="s0">// Current page is displayed in the middle of the visible ones</span><span class="s1"> 
        startPage = Math.max(currentPage - Math.floor(maxSize / </span><span class="s5">2</span><span class="s1">)</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        endPage = startPage + maxSize - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// Adjust if limit is exceeded</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(endPage &gt; totalPages) { 
          endPage = totalPages</span><span class="s3">;</span><span class="s1"> 
          startPage = endPage - maxSize + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        } 
      } </span><span class="s4">else </span><span class="s1">{ 
        </span><span class="s0">// Visible pages are paginated with maxSize</span><span class="s1"> 
        startPage = (Math.ceil(currentPage / maxSize) - </span><span class="s5">1</span><span class="s1">) * maxSize + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// Adjust last page if limit is exceeded</span><span class="s1"> 
        endPage = Math.min(startPage + maxSize - </span><span class="s5">1</span><span class="s3">, </span><span class="s1">totalPages)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s0">// Add page number links</span><span class="s1"> 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">number = startPage</span><span class="s3">; </span><span class="s1">number &lt;= endPage</span><span class="s3">; </span><span class="s1">number++) { 
      </span><span class="s4">var </span><span class="s1">page = makePage(number</span><span class="s3">, </span><span class="s1">pageLabel(number)</span><span class="s3">, </span><span class="s1">number === currentPage)</span><span class="s3">;</span><span class="s1"> 
      pages.push(page)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// Add links to move between page sets</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(isMaxSized &amp;&amp; maxSize &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; (!rotate || forceEllipses || boundaryLinkNumbers)) { 
      </span><span class="s4">if </span><span class="s1">(startPage &gt; </span><span class="s5">1</span><span class="s1">) { 
        </span><span class="s4">if </span><span class="s1">(!boundaryLinkNumbers || startPage &gt; </span><span class="s5">3</span><span class="s1">) { </span><span class="s0">//need ellipsis for all options unless range is too close to beginning</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">previousPageSet = makePage(startPage - </span><span class="s5">1</span><span class="s3">, </span><span class="s2">'...'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        pages.unshift(previousPageSet)</span><span class="s3">;</span><span class="s1"> 
      } 
        </span><span class="s4">if </span><span class="s1">(boundaryLinkNumbers) { 
          </span><span class="s4">if </span><span class="s1">(startPage === </span><span class="s5">3</span><span class="s1">) { </span><span class="s0">//need to replace ellipsis when the buttons would be sequential</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">secondPageLink = makePage(</span><span class="s5">2</span><span class="s3">, </span><span class="s2">'2'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            pages.unshift(secondPageLink)</span><span class="s3">;</span><span class="s1"> 
          } 
          </span><span class="s0">//add the first page</span><span class="s1"> 
          </span><span class="s4">var </span><span class="s1">firstPageLink = makePage(</span><span class="s5">1</span><span class="s3">, </span><span class="s2">'1'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          pages.unshift(firstPageLink)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">if </span><span class="s1">(endPage &lt; totalPages) { 
        </span><span class="s4">if </span><span class="s1">(!boundaryLinkNumbers || endPage &lt; totalPages - </span><span class="s5">2</span><span class="s1">) { </span><span class="s0">//need ellipsis for all options unless range is too close to end</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">nextPageSet = makePage(endPage + </span><span class="s5">1</span><span class="s3">, </span><span class="s2">'...'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        pages.push(nextPageSet)</span><span class="s3">;</span><span class="s1"> 
      } 
        </span><span class="s4">if </span><span class="s1">(boundaryLinkNumbers) { 
          </span><span class="s4">if </span><span class="s1">(endPage === totalPages - </span><span class="s5">2</span><span class="s1">) { </span><span class="s0">//need to replace ellipsis when the buttons would be sequential</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">secondToLastPageLink = makePage(totalPages - </span><span class="s5">1</span><span class="s3">, </span><span class="s1">totalPages - </span><span class="s5">1</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            pages.push(secondToLastPageLink)</span><span class="s3">;</span><span class="s1"> 
          } 
          </span><span class="s0">//add the last page</span><span class="s1"> 
          </span><span class="s4">var </span><span class="s1">lastPageLink = makePage(totalPages</span><span class="s3">, </span><span class="s1">totalPages</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          pages.push(lastPageLink)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    } 
    </span><span class="s4">return </span><span class="s1">pages</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">var </span><span class="s1">originalRender = </span><span class="s4">this</span><span class="s1">.render</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.render = </span><span class="s4">function</span><span class="s1">() { 
    originalRender()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">($scope.page &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; $scope.page &lt;= $scope.totalPages) { 
      $scope.pages = getPages($scope.page</span><span class="s3">, </span><span class="s1">$scope.totalPages)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.constant(</span><span class="s2">'uibPaginationConfig'</span><span class="s3">, </span><span class="s1">{ 
  itemsPerPage: </span><span class="s5">10</span><span class="s3">,</span><span class="s1"> 
  boundaryLinks: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  boundaryLinkNumbers: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  directionLinks: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  firstText: </span><span class="s2">'First'</span><span class="s3">,</span><span class="s1"> 
  previousText: </span><span class="s2">'Previous'</span><span class="s3">,</span><span class="s1"> 
  nextText: </span><span class="s2">'Next'</span><span class="s3">,</span><span class="s1"> 
  lastText: </span><span class="s2">'Last'</span><span class="s3">,</span><span class="s1"> 
  rotate: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  forceEllipses: </span><span class="s4">false</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibPagination'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'uibPaginationConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($parse</span><span class="s3">, </span><span class="s1">uibPaginationConfig) { 
  </span><span class="s4">return </span><span class="s1">{ 
    scope: { 
      totalItems: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      firstText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      previousText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      nextText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      lastText: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      ngDisabled:</span><span class="s2">'='</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    require: [</span><span class="s2">'uibPagination'</span><span class="s3">, </span><span class="s2">'?ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibPaginationController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'pagination'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/pagination/pagination.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      element.addClass(</span><span class="s2">'pagination'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">paginationCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(!ngModelCtrl) { 
         </span><span class="s4">return</span><span class="s3">; </span><span class="s0">// do nothing if no ng-model</span><span class="s1"> 
      } 
 
      paginationCtrl.init(ngModelCtrl</span><span class="s3">, </span><span class="s1">uibPaginationConfig)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
</span><span class="s6">/** 
 * The following features are still outstanding: animation as a 
 * function, placement as a function, inside, support for more triggers than 
 * just mouse enter/leave, html tooltips, and selector delegation. 
 */</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.tooltip'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.position'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.stackedMap'</span><span class="s1">]) 
 
</span><span class="s6">/** 
 * The $tooltip service creates tooltip- and popover-like directives as well as 
 * houses global options for them. 
 */</span><span class="s1"> 
.provider(</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s0">// The default options tooltip and popover.</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">defaultOptions = { 
    placement: </span><span class="s2">'top'</span><span class="s3">,</span><span class="s1"> 
    placementClassPrefix: </span><span class="s2">''</span><span class="s3">,</span><span class="s1"> 
    animation: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    popupDelay: </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
    popupCloseDelay: </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
    useContentExp: </span><span class="s4">false</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Default hide triggers for each show trigger</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">triggerMap = { 
    </span><span class="s2">'mouseenter'</span><span class="s1">: </span><span class="s2">'mouseleave'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'click'</span><span class="s1">: </span><span class="s2">'click'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'outsideClick'</span><span class="s1">: </span><span class="s2">'outsideClick'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'focus'</span><span class="s1">: </span><span class="s2">'blur'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">'none'</span><span class="s1">: </span><span class="s2">''</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// The options specified to the provider globally.</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">globalOptions = {}</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s6">/** 
   * `options({})` allows global configuration of all tooltips in the 
   * application. 
   * 
   *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) { 
   *     // place tooltips left instead of top by default 
   *     $tooltipProvider.options( { placement: 'left' } ); 
   *   }); 
   */</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.options = </span><span class="s4">function</span><span class="s1">(value) { 
        angular.extend(globalOptions</span><span class="s3">, </span><span class="s1">value)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s6">/** 
   * This allows you to extend the set of trigger mappings available. E.g.: 
   * 
   *   $tooltipProvider.setTriggers( { 'openTrigger': 'closeTrigger' } ); 
   */</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.setTriggers = </span><span class="s4">function </span><span class="s1">setTriggers(triggers) { 
    angular.extend(triggerMap</span><span class="s3">, </span><span class="s1">triggers)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s6">/** 
   * This is a helper function for translating camel-case to snake_case. 
   */</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">snake_case(name) { 
    </span><span class="s4">var </span><span class="s1">regexp = </span><span class="s2">/[A-Z]/g</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">separator = </span><span class="s2">'-'</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">name.replace(regexp</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(letter</span><span class="s3">, </span><span class="s1">pos) { 
      </span><span class="s4">return </span><span class="s1">(pos ? separator : </span><span class="s2">''</span><span class="s1">) + letter.toLowerCase()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s6">/** 
   * Returns the actual instance of the $tooltip service. 
   * TODO support multiple triggers 
   */</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.$get = [</span><span class="s2">'$window'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s2">'$interpolate'</span><span class="s3">, </span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$$stackedMap'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($window</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$timeout</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$position</span><span class="s3">, </span><span class="s1">$interpolate</span><span class="s3">, </span><span class="s1">$rootScope</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$$stackedMap) { 
    </span><span class="s4">var </span><span class="s1">openedTooltips = $$stackedMap.createNew()</span><span class="s3">;</span><span class="s1"> 
    $document.on(</span><span class="s2">'keyup'</span><span class="s3">, </span><span class="s1">keypressListener)</span><span class="s3">;</span><span class="s1"> 
 
    $rootScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
      $document.off(</span><span class="s2">'keyup'</span><span class="s3">, </span><span class="s1">keypressListener)</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">function </span><span class="s1">keypressListener(e) { 
      </span><span class="s4">if </span><span class="s1">(e.which === </span><span class="s5">27</span><span class="s1">) { 
        </span><span class="s4">var </span><span class="s1">last = openedTooltips.top()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(last) { 
          last.value.close()</span><span class="s3">;</span><span class="s1"> 
          last = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    } 
 
    </span><span class="s4">return function </span><span class="s1">$tooltip(ttType</span><span class="s3">, </span><span class="s1">prefix</span><span class="s3">, </span><span class="s1">defaultTriggerShow</span><span class="s3">, </span><span class="s1">options) { 
      options = angular.extend({}</span><span class="s3">, </span><span class="s1">defaultOptions</span><span class="s3">, </span><span class="s1">globalOptions</span><span class="s3">, </span><span class="s1">options)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * Returns an object of show and hide triggers. 
       * 
       * If a trigger is supplied, 
       * it is used to show the tooltip; otherwise, it will use the `trigger` 
       * option passed to the `$tooltipProvider.options` method; else it will 
       * default to the trigger supplied to this directive factory. 
       * 
       * The hide trigger is based on the show trigger. If the `trigger` option 
       * was passed to the `$tooltipProvider.options` method, it will use the 
       * mapped trigger from `triggerMap` or the passed trigger if the map is 
       * undefined; otherwise, it uses the `triggerMap` value of the show 
       * trigger; else it will just use the show trigger. 
       */</span><span class="s1"> 
      </span><span class="s4">function </span><span class="s1">getTriggers(trigger) { 
        </span><span class="s4">var </span><span class="s1">show = (trigger || options.trigger || defaultTriggerShow).split(</span><span class="s2">' '</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">hide = show.map(</span><span class="s4">function</span><span class="s1">(trigger) { 
          </span><span class="s4">return </span><span class="s1">triggerMap[trigger] || trigger</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">{ 
          show: show</span><span class="s3">,</span><span class="s1"> 
          hide: hide 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">var </span><span class="s1">directiveName = snake_case(ttType)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">startSym = $interpolate.startSymbol()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">endSym = $interpolate.endSymbol()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">template = 
        </span><span class="s2">'&lt;div '</span><span class="s1">+ directiveName + </span><span class="s2">'-popup ' </span><span class="s1">+ 
          </span><span class="s2">'uib-title=&quot;' </span><span class="s1">+ startSym + </span><span class="s2">'title' </span><span class="s1">+ endSym + </span><span class="s2">'&quot; ' </span><span class="s1">+ 
          (options.useContentExp ? 
            </span><span class="s2">'content-exp=&quot;contentExp()&quot; ' </span><span class="s1">: 
            </span><span class="s2">'content=&quot;' </span><span class="s1">+ startSym + </span><span class="s2">'content' </span><span class="s1">+ endSym + </span><span class="s2">'&quot; '</span><span class="s1">) + 
          </span><span class="s2">'origin-scope=&quot;origScope&quot; ' </span><span class="s1">+ 
          </span><span class="s2">'class=&quot;uib-position-measure ' </span><span class="s1">+ prefix + </span><span class="s2">'&quot; ' </span><span class="s1">+ 
          </span><span class="s2">'tooltip-animation-class=&quot;fade&quot;' </span><span class="s1">+ 
          </span><span class="s2">'uib-tooltip-classes ' </span><span class="s1">+ 
          </span><span class="s2">'ng-class=&quot;{ in: isOpen }&quot; ' </span><span class="s1">+ 
          </span><span class="s2">'&gt;' </span><span class="s1">+ 
        </span><span class="s2">'&lt;/div&gt;'</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">return </span><span class="s1">{ 
        compile: </span><span class="s4">function</span><span class="s1">(tElem</span><span class="s3">, </span><span class="s1">tAttrs) { 
          </span><span class="s4">var </span><span class="s1">tooltipLinker = $compile(template)</span><span class="s3">;</span><span class="s1"> 
 
          </span><span class="s4">return function </span><span class="s1">link(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">tooltipCtrl) { 
            </span><span class="s4">var </span><span class="s1">tooltip</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">tooltipLinkedScope</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">transitionTimeout</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">showTimeout</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">hideTimeout</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">positionTimeout</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">adjustmentTimeout</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">appendToBody = angular.isDefined(options.appendToBody) ? options.appendToBody : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">triggers = getTriggers(undefined)</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">hasEnableExp = angular.isDefined(attrs[prefix + </span><span class="s2">'Enable'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">ttScope = scope.$new(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">repositionScheduled = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">isOpenParse = angular.isDefined(attrs[prefix + </span><span class="s2">'IsOpen'</span><span class="s1">]) ? $parse(attrs[prefix + </span><span class="s2">'IsOpen'</span><span class="s1">]) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">contentParse = options.useContentExp ? $parse(attrs[ttType]) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">observers = []</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">lastPlacement</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">var </span><span class="s1">positionTooltip = </span><span class="s4">function</span><span class="s1">() { 
              </span><span class="s0">// check if tooltip exists and is not empty</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(!tooltip || !tooltip.html()) { </span><span class="s4">return</span><span class="s3">; </span><span class="s1">} 
 
              </span><span class="s4">if </span><span class="s1">(!positionTimeout) { 
                positionTimeout = $timeout(</span><span class="s4">function</span><span class="s1">() { 
                  </span><span class="s4">var </span><span class="s1">ttPosition = $position.positionElements(element</span><span class="s3">, </span><span class="s1">tooltip</span><span class="s3">, </span><span class="s1">ttScope.placement</span><span class="s3">, </span><span class="s1">appendToBody)</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">var </span><span class="s1">initialHeight = angular.isDefined(tooltip.offsetHeight) ? tooltip.offsetHeight : tooltip.prop(</span><span class="s2">'offsetHeight'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">var </span><span class="s1">elementPos = appendToBody ? $position.offset(element) : $position.position(element)</span><span class="s3">;</span><span class="s1"> 
                  tooltip.css({ top: ttPosition.top + </span><span class="s2">'px'</span><span class="s3">, </span><span class="s1">left: ttPosition.left + </span><span class="s2">'px' </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">var </span><span class="s1">placementClasses = ttPosition.placement.split(</span><span class="s2">'-'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
                  </span><span class="s4">if </span><span class="s1">(!tooltip.hasClass(placementClasses[</span><span class="s5">0</span><span class="s1">])) { 
                    tooltip.removeClass(lastPlacement.split(</span><span class="s2">'-'</span><span class="s1">)[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
                    tooltip.addClass(placementClasses[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
                  } 
 
                  </span><span class="s4">if </span><span class="s1">(!tooltip.hasClass(options.placementClassPrefix + ttPosition.placement)) { 
                    tooltip.removeClass(options.placementClassPrefix + lastPlacement)</span><span class="s3">;</span><span class="s1"> 
                    tooltip.addClass(options.placementClassPrefix + ttPosition.placement)</span><span class="s3">;</span><span class="s1"> 
                  } 
 
                  adjustmentTimeout = $timeout(</span><span class="s4">function</span><span class="s1">() { 
                    </span><span class="s4">var </span><span class="s1">currentHeight = angular.isDefined(tooltip.offsetHeight) ? tooltip.offsetHeight : tooltip.prop(</span><span class="s2">'offsetHeight'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                    </span><span class="s4">var </span><span class="s1">adjustment = $position.adjustTop(placementClasses</span><span class="s3">, </span><span class="s1">elementPos</span><span class="s3">, </span><span class="s1">initialHeight</span><span class="s3">, </span><span class="s1">currentHeight)</span><span class="s3">;</span><span class="s1"> 
                    </span><span class="s4">if </span><span class="s1">(adjustment) { 
                      tooltip.css(adjustment)</span><span class="s3">;</span><span class="s1"> 
                    } 
                    adjustmentTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
                  }</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
                  </span><span class="s0">// first time through tt element will have the</span><span class="s1"> 
                  </span><span class="s0">// uib-position-measure class or if the placement</span><span class="s1"> 
                  </span><span class="s0">// has changed we need to position the arrow.</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(tooltip.hasClass(</span><span class="s2">'uib-position-measure'</span><span class="s1">)) { 
                    $position.positionArrow(tooltip</span><span class="s3">, </span><span class="s1">ttPosition.placement)</span><span class="s3">;</span><span class="s1"> 
                    tooltip.removeClass(</span><span class="s2">'uib-position-measure'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                  } </span><span class="s4">else if </span><span class="s1">(lastPlacement !== ttPosition.placement) { 
                    $position.positionArrow(tooltip</span><span class="s3">, </span><span class="s1">ttPosition.placement)</span><span class="s3">;</span><span class="s1"> 
                  } 
                  lastPlacement = ttPosition.placement</span><span class="s3">;</span><span class="s1"> 
 
                  positionTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
                }</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              } 
            }</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">// Set up the correct scope to allow transclusion later</span><span class="s1"> 
            ttScope.origScope = scope</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">// By default, the tooltip is not open.</span><span class="s1"> 
            </span><span class="s0">// TODO add ability to start tooltip opened</span><span class="s1"> 
            ttScope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">function </span><span class="s1">toggleTooltipBind() { 
              </span><span class="s4">if </span><span class="s1">(!ttScope.isOpen) { 
                showTooltipBind()</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                hideTooltipBind()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s0">// Show the tooltip with delay if specified, otherwise show it immediately</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">showTooltipBind() { 
              </span><span class="s4">if </span><span class="s1">(hasEnableExp &amp;&amp; !scope.$eval(attrs[prefix + </span><span class="s2">'Enable'</span><span class="s1">])) { 
                </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
              } 
 
              cancelHide()</span><span class="s3">;</span><span class="s1"> 
              prepareTooltip()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">(ttScope.popupDelay) { 
                </span><span class="s0">// Do nothing if the tooltip was already scheduled to pop-up.</span><span class="s1"> 
                </span><span class="s0">// This happens if show is triggered multiple times before any hide is triggered.</span><span class="s1"> 
                </span><span class="s4">if </span><span class="s1">(!showTimeout) { 
                  showTimeout = $timeout(show</span><span class="s3">, </span><span class="s1">ttScope.popupDelay</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                } 
              } </span><span class="s4">else </span><span class="s1">{ 
                show()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s4">function </span><span class="s1">hideTooltipBind() { 
              cancelShow()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">(ttScope.popupCloseDelay) { 
                </span><span class="s4">if </span><span class="s1">(!hideTimeout) { 
                  hideTimeout = $timeout(hide</span><span class="s3">, </span><span class="s1">ttScope.popupCloseDelay</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                } 
              } </span><span class="s4">else </span><span class="s1">{ 
                hide()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s0">// Show the tooltip popup element.</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">show() { 
              cancelShow()</span><span class="s3">;</span><span class="s1"> 
              cancelHide()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s0">// Don't show empty tooltips.</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(!ttScope.content) { 
                </span><span class="s4">return </span><span class="s1">angular.noop</span><span class="s3">;</span><span class="s1"> 
              } 
 
              createTooltip()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s0">// And show the tooltip.</span><span class="s1"> 
              ttScope.$evalAsync(</span><span class="s4">function</span><span class="s1">() { 
                ttScope.isOpen = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
                assignIsOpen(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                positionTooltip()</span><span class="s3">;</span><span class="s1"> 
              })</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">cancelShow() { 
              </span><span class="s4">if </span><span class="s1">(showTimeout) { 
                $timeout.cancel(showTimeout)</span><span class="s3">;</span><span class="s1"> 
                showTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s4">if </span><span class="s1">(positionTimeout) { 
                $timeout.cancel(positionTimeout)</span><span class="s3">;</span><span class="s1"> 
                positionTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s0">// Hide the tooltip popup element.</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">hide() { 
              </span><span class="s4">if </span><span class="s1">(!ttScope) { 
                </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s0">// First things first: we don't show it anymore.</span><span class="s1"> 
              ttScope.$evalAsync(</span><span class="s4">function</span><span class="s1">() { 
                </span><span class="s4">if </span><span class="s1">(ttScope) { 
                  ttScope.isOpen = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
                  assignIsOpen(</span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s0">// And now we remove it from the DOM. However, if we have animation, we</span><span class="s1"> 
                  </span><span class="s0">// need to wait for it to expire beforehand.</span><span class="s1"> 
                  </span><span class="s0">// FIXME: this is a placeholder for a port of the transitions library.</span><span class="s1"> 
                  </span><span class="s0">// The fade transition in TWBS is 150ms.</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(ttScope.animation) { 
                    </span><span class="s4">if </span><span class="s1">(!transitionTimeout) { 
                      transitionTimeout = $timeout(removeTooltip</span><span class="s3">, </span><span class="s5">150</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
                    } 
                  } </span><span class="s4">else </span><span class="s1">{ 
                    removeTooltip()</span><span class="s3">;</span><span class="s1"> 
                  } 
                } 
              })</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">cancelHide() { 
              </span><span class="s4">if </span><span class="s1">(hideTimeout) { 
                $timeout.cancel(hideTimeout)</span><span class="s3">;</span><span class="s1"> 
                hideTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s4">if </span><span class="s1">(transitionTimeout) { 
                $timeout.cancel(transitionTimeout)</span><span class="s3">;</span><span class="s1"> 
                transitionTimeout = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s4">function </span><span class="s1">createTooltip() { 
              </span><span class="s0">// There can only be one tooltip element per directive shown at once.</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(tooltip) { 
                </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
              } 
 
              tooltipLinkedScope = ttScope.$new()</span><span class="s3">;</span><span class="s1"> 
              tooltip = tooltipLinker(tooltipLinkedScope</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(tooltip) { 
                </span><span class="s4">if </span><span class="s1">(appendToBody) { 
                  $document.find(</span><span class="s2">'body'</span><span class="s1">).append(tooltip)</span><span class="s3">;</span><span class="s1"> 
                } </span><span class="s4">else </span><span class="s1">{ 
                  element.after(tooltip)</span><span class="s3">;</span><span class="s1"> 
                } 
              })</span><span class="s3">;</span><span class="s1"> 
 
              openedTooltips.add(ttScope</span><span class="s3">, </span><span class="s1">{ 
                close: hide 
              })</span><span class="s3">;</span><span class="s1"> 
 
              prepObservers()</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">removeTooltip() { 
              cancelShow()</span><span class="s3">;</span><span class="s1"> 
              cancelHide()</span><span class="s3">;</span><span class="s1"> 
              unregisterObservers()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">(tooltip) { 
                tooltip.remove()</span><span class="s3">;</span><span class="s1"> 
                 
                tooltip = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
                </span><span class="s4">if </span><span class="s1">(adjustmentTimeout) { 
                  $timeout.cancel(adjustmentTimeout)</span><span class="s3">;</span><span class="s1"> 
                } 
              } 
 
              openedTooltips.remove(ttScope)</span><span class="s3">;</span><span class="s1"> 
               
              </span><span class="s4">if </span><span class="s1">(tooltipLinkedScope) { 
                tooltipLinkedScope.$destroy()</span><span class="s3">;</span><span class="s1"> 
                tooltipLinkedScope = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s6">/** 
             * Set the initial scope values. Once 
             * the tooltip is created, the observers 
             * will be added to keep things in sync. 
             */</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">prepareTooltip() { 
              ttScope.title = attrs[prefix + </span><span class="s2">'Title'</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(contentParse) { 
                ttScope.content = contentParse(scope)</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                ttScope.content = attrs[ttType]</span><span class="s3">;</span><span class="s1"> 
              } 
 
              ttScope.popupClass = attrs[prefix + </span><span class="s2">'Class'</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
              ttScope.placement = angular.isDefined(attrs[prefix + </span><span class="s2">'Placement'</span><span class="s1">]) ? attrs[prefix + </span><span class="s2">'Placement'</span><span class="s1">] : options.placement</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">var </span><span class="s1">placement = $position.parsePlacement(ttScope.placement)</span><span class="s3">;</span><span class="s1"> 
              lastPlacement = placement[</span><span class="s5">1</span><span class="s1">] ? placement[</span><span class="s5">0</span><span class="s1">] + </span><span class="s2">'-' </span><span class="s1">+ placement[</span><span class="s5">1</span><span class="s1">] : placement[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">var </span><span class="s1">delay = parseInt(attrs[prefix + </span><span class="s2">'PopupDelay'</span><span class="s1">]</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">var </span><span class="s1">closeDelay = parseInt(attrs[prefix + </span><span class="s2">'PopupCloseDelay'</span><span class="s1">]</span><span class="s3">, </span><span class="s5">10</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              ttScope.popupDelay = !isNaN(delay) ? delay : options.popupDelay</span><span class="s3">;</span><span class="s1"> 
              ttScope.popupCloseDelay = !isNaN(closeDelay) ? closeDelay : options.popupCloseDelay</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">assignIsOpen(isOpen) { 
              </span><span class="s4">if </span><span class="s1">(isOpenParse &amp;&amp; angular.isFunction(isOpenParse.assign)) { 
                isOpenParse.assign(scope</span><span class="s3">, </span><span class="s1">isOpen)</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            ttScope.contentExp = </span><span class="s4">function</span><span class="s1">() { 
              </span><span class="s4">return </span><span class="s1">ttScope.content</span><span class="s3">;</span><span class="s1"> 
            }</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s6">/** 
             * Observe the relevant attributes. 
             */</span><span class="s1"> 
            attrs.$observe(</span><span class="s2">'disabled'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
              </span><span class="s4">if </span><span class="s1">(val) { 
                cancelShow()</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s4">if </span><span class="s1">(val &amp;&amp; ttScope.isOpen) { 
                hide()</span><span class="s3">;</span><span class="s1"> 
              } 
            })</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">if </span><span class="s1">(isOpenParse) { 
              scope.$watch(isOpenParse</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
                </span><span class="s4">if </span><span class="s1">(ttScope &amp;&amp; !val === ttScope.isOpen) { 
                  toggleTooltipBind()</span><span class="s3">;</span><span class="s1"> 
                } 
              })</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">prepObservers() { 
              observers.length = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">(contentParse) { 
                observers.push( 
                  scope.$watch(contentParse</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
                    ttScope.content = val</span><span class="s3">;</span><span class="s1"> 
                    </span><span class="s4">if </span><span class="s1">(!val &amp;&amp; ttScope.isOpen) { 
                      hide()</span><span class="s3">;</span><span class="s1"> 
                    } 
                  }) 
                )</span><span class="s3">;</span><span class="s1"> 
 
                observers.push( 
                  tooltipLinkedScope.$watch(</span><span class="s4">function</span><span class="s1">() { 
                    </span><span class="s4">if </span><span class="s1">(!repositionScheduled) { 
                      repositionScheduled = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
                      tooltipLinkedScope.$$postDigest(</span><span class="s4">function</span><span class="s1">() { 
                        repositionScheduled = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
                        </span><span class="s4">if </span><span class="s1">(ttScope &amp;&amp; ttScope.isOpen) { 
                          positionTooltip()</span><span class="s3">;</span><span class="s1"> 
                        } 
                      })</span><span class="s3">;</span><span class="s1"> 
                    } 
                  }) 
                )</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                observers.push( 
                  attrs.$observe(ttType</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
                    ttScope.content = val</span><span class="s3">;</span><span class="s1"> 
                    </span><span class="s4">if </span><span class="s1">(!val &amp;&amp; ttScope.isOpen) { 
                      hide()</span><span class="s3">;</span><span class="s1"> 
                    } </span><span class="s4">else </span><span class="s1">{ 
                      positionTooltip()</span><span class="s3">;</span><span class="s1"> 
                    } 
                  }) 
                )</span><span class="s3">;</span><span class="s1"> 
              } 
 
              observers.push( 
                attrs.$observe(prefix + </span><span class="s2">'Title'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
                  ttScope.title = val</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(ttScope.isOpen) { 
                    positionTooltip()</span><span class="s3">;</span><span class="s1"> 
                  } 
                }) 
              )</span><span class="s3">;</span><span class="s1"> 
 
              observers.push( 
                attrs.$observe(prefix + </span><span class="s2">'Placement'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
                  ttScope.placement = val ? val : options.placement</span><span class="s3">;</span><span class="s1"> 
                  </span><span class="s4">if </span><span class="s1">(ttScope.isOpen) { 
                    positionTooltip()</span><span class="s3">;</span><span class="s1"> 
                  } 
                }) 
              )</span><span class="s3">;</span><span class="s1"> 
            } 
 
            </span><span class="s4">function </span><span class="s1">unregisterObservers() { 
              </span><span class="s4">if </span><span class="s1">(observers.length) { 
                angular.forEach(observers</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(observer) { 
                  observer()</span><span class="s3">;</span><span class="s1"> 
                })</span><span class="s3">;</span><span class="s1"> 
                observers.length = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s0">// hide tooltips/popovers for outsideClick trigger</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">bodyHideTooltipBind(e) { 
              </span><span class="s4">if </span><span class="s1">(!ttScope || !ttScope.isOpen || !tooltip) { 
                </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
              } 
              </span><span class="s0">// make sure the tooltip/popover link or tool tooltip/popover itself were not clicked</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(!element[</span><span class="s5">0</span><span class="s1">].contains(e.target) &amp;&amp; !tooltip[</span><span class="s5">0</span><span class="s1">].contains(e.target)) { 
                hideTooltipBind()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s0">// KeyboardEvent handler to hide the tooltip on Escape key press</span><span class="s1"> 
            </span><span class="s4">function </span><span class="s1">hideOnEscapeKey(e) { 
              </span><span class="s4">if </span><span class="s1">(e.which === </span><span class="s5">27</span><span class="s1">) { 
                hideTooltipBind()</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s4">var </span><span class="s1">unregisterTriggers = </span><span class="s4">function</span><span class="s1">() { 
              triggers.show.forEach(</span><span class="s4">function</span><span class="s1">(trigger) { 
                </span><span class="s4">if </span><span class="s1">(trigger === </span><span class="s2">'outsideClick'</span><span class="s1">) { 
                  element.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">toggleTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                } </span><span class="s4">else </span><span class="s1">{ 
                  element.off(trigger</span><span class="s3">, </span><span class="s1">showTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                  element.off(trigger</span><span class="s3">, </span><span class="s1">toggleTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                } 
                element.off(</span><span class="s2">'keypress'</span><span class="s3">, </span><span class="s1">hideOnEscapeKey)</span><span class="s3">;</span><span class="s1"> 
              })</span><span class="s3">;</span><span class="s1"> 
              triggers.hide.forEach(</span><span class="s4">function</span><span class="s1">(trigger) { 
                </span><span class="s4">if </span><span class="s1">(trigger === </span><span class="s2">'outsideClick'</span><span class="s1">) { 
                  $document.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">bodyHideTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                } </span><span class="s4">else </span><span class="s1">{ 
                  element.off(trigger</span><span class="s3">, </span><span class="s1">hideTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                } 
              })</span><span class="s3">;</span><span class="s1"> 
            }</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">function </span><span class="s1">prepTriggers() { 
              </span><span class="s4">var </span><span class="s1">showTriggers = []</span><span class="s3">, </span><span class="s1">hideTriggers = []</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">var </span><span class="s1">val = scope.$eval(attrs[prefix + </span><span class="s2">'Trigger'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
              unregisterTriggers()</span><span class="s3">;</span><span class="s1"> 
 
              </span><span class="s4">if </span><span class="s1">(angular.isObject(val)) { 
                Object.keys(val).forEach(</span><span class="s4">function</span><span class="s1">(key) { 
                  showTriggers.push(key)</span><span class="s3">;</span><span class="s1"> 
                  hideTriggers.push(val[key])</span><span class="s3">;</span><span class="s1"> 
                })</span><span class="s3">;</span><span class="s1"> 
                triggers = { 
                  show: showTriggers</span><span class="s3">,</span><span class="s1"> 
                  hide: hideTriggers 
                }</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                triggers = getTriggers(val)</span><span class="s3">;</span><span class="s1"> 
              } 
 
              </span><span class="s4">if </span><span class="s1">(triggers.show !== </span><span class="s2">'none'</span><span class="s1">) { 
                triggers.show.forEach(</span><span class="s4">function</span><span class="s1">(trigger</span><span class="s3">, </span><span class="s1">idx) { 
                  </span><span class="s4">if </span><span class="s1">(trigger === </span><span class="s2">'outsideClick'</span><span class="s1">) { 
                    element.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">toggleTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                    $document.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">bodyHideTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                  } </span><span class="s4">else if </span><span class="s1">(trigger === triggers.hide[idx]) { 
                    element.on(trigger</span><span class="s3">, </span><span class="s1">toggleTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                  } </span><span class="s4">else if </span><span class="s1">(trigger) { 
                    element.on(trigger</span><span class="s3">, </span><span class="s1">showTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                    element.on(triggers.hide[idx]</span><span class="s3">, </span><span class="s1">hideTooltipBind)</span><span class="s3">;</span><span class="s1"> 
                  } 
                  element.on(</span><span class="s2">'keypress'</span><span class="s3">, </span><span class="s1">hideOnEscapeKey)</span><span class="s3">;</span><span class="s1"> 
                })</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            prepTriggers()</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">var </span><span class="s1">animation = scope.$eval(attrs[prefix + </span><span class="s2">'Animation'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
            ttScope.animation = angular.isDefined(animation) ? !!animation : options.animation</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">var </span><span class="s1">appendToBodyVal</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">appendKey = prefix + </span><span class="s2">'AppendToBody'</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(appendKey </span><span class="s4">in </span><span class="s1">attrs &amp;&amp; attrs[appendKey] === undefined) { 
              appendToBodyVal = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
            } </span><span class="s4">else </span><span class="s1">{ 
              appendToBodyVal = scope.$eval(attrs[appendKey])</span><span class="s3">;</span><span class="s1"> 
            } 
 
            appendToBody = angular.isDefined(appendToBodyVal) ? appendToBodyVal : appendToBody</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">// Make sure tooltip is destroyed and removed.</span><span class="s1"> 
            scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function </span><span class="s1">onDestroyTooltip() { 
              unregisterTriggers()</span><span class="s3">;</span><span class="s1"> 
              removeTooltip()</span><span class="s3">;</span><span class="s1"> 
              ttScope = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
  }]</span><span class="s3">;</span><span class="s1"> 
}) 
 
</span><span class="s0">// This is mostly ngInclude code but with a custom scope</span><span class="s1"> 
.directive(</span><span class="s2">'uibTooltipTemplateTransclude'</span><span class="s3">, </span><span class="s1">[ 
         </span><span class="s2">'$animate'</span><span class="s3">, </span><span class="s2">'$sce'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$templateRequest'</span><span class="s3">,</span><span class="s1"> 
</span><span class="s4">function </span><span class="s1">($animate</span><span class="s3">, </span><span class="s1">$sce</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$templateRequest) { 
  </span><span class="s4">return </span><span class="s1">{ 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">elem</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">var </span><span class="s1">origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">changeCounter = </span><span class="s5">0</span><span class="s3">,</span><span class="s1"> 
        currentScope</span><span class="s3">,</span><span class="s1"> 
        previousElement</span><span class="s3">,</span><span class="s1"> 
        currentElement</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">var </span><span class="s1">cleanupLastIncludeContent = </span><span class="s4">function</span><span class="s1">() { 
        </span><span class="s4">if </span><span class="s1">(previousElement) { 
          previousElement.remove()</span><span class="s3">;</span><span class="s1"> 
          previousElement = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(currentScope) { 
          currentScope.$destroy()</span><span class="s3">;</span><span class="s1"> 
          currentScope = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(currentElement) { 
          $animate.leave(currentElement).then(</span><span class="s4">function</span><span class="s1">() { 
            previousElement = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
          })</span><span class="s3">;</span><span class="s1"> 
          previousElement = currentElement</span><span class="s3">;</span><span class="s1"> 
          currentElement = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(src) { 
        </span><span class="s4">var </span><span class="s1">thisChangeId = ++changeCounter</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(src) { 
          </span><span class="s0">//set the 2nd param to true to ignore the template request error so that the inner</span><span class="s1"> 
          </span><span class="s0">//contents and scope can be cleaned up.</span><span class="s1"> 
          $templateRequest(src</span><span class="s3">, </span><span class="s4">true</span><span class="s1">).then(</span><span class="s4">function</span><span class="s1">(response) { 
            </span><span class="s4">if </span><span class="s1">(thisChangeId !== changeCounter) { </span><span class="s4">return</span><span class="s3">; </span><span class="s1">} 
            </span><span class="s4">var </span><span class="s1">newScope = origScope.$new()</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s4">var </span><span class="s1">template = response</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s4">var </span><span class="s1">clone = $compile(template)(newScope</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(clone) { 
              cleanupLastIncludeContent()</span><span class="s3">;</span><span class="s1"> 
              $animate.enter(clone</span><span class="s3">, </span><span class="s1">elem)</span><span class="s3">;</span><span class="s1"> 
            })</span><span class="s3">;</span><span class="s1"> 
 
            currentScope = newScope</span><span class="s3">;</span><span class="s1"> 
            currentElement = clone</span><span class="s3">;</span><span class="s1"> 
 
            currentScope.$emit(</span><span class="s2">'$includeContentLoaded'</span><span class="s3">, </span><span class="s1">src)</span><span class="s3">;</span><span class="s1"> 
          }</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
            </span><span class="s4">if </span><span class="s1">(thisChangeId === changeCounter) { 
              cleanupLastIncludeContent()</span><span class="s3">;</span><span class="s1"> 
              scope.$emit(</span><span class="s2">'$includeContentError'</span><span class="s3">, </span><span class="s1">src)</span><span class="s3">;</span><span class="s1"> 
            } 
          })</span><span class="s3">;</span><span class="s1"> 
          scope.$emit(</span><span class="s2">'$includeContentRequested'</span><span class="s3">, </span><span class="s1">src)</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          cleanupLastIncludeContent()</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
 
      scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s1">cleanupLastIncludeContent)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
</span><span class="s6">/** 
 * Note that it's intentional that these classes are *not* applied through $animate. 
 * They must not be animated as they're expected to be present on the tooltip on 
 * initialization. 
 */</span><span class="s1"> 
.directive(</span><span class="s2">'uibTooltipClasses'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibPosition) { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s0">// need to set the primary position so the</span><span class="s1"> 
      </span><span class="s0">// arrow has space during position measure.</span><span class="s1"> 
      </span><span class="s0">// tooltip.positionTooltip()</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scope.placement) { 
        </span><span class="s0">// // There are no top-left etc... classes</span><span class="s1"> 
        </span><span class="s0">// // in TWBS, so we need the primary position.</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">position = $uibPosition.parsePlacement(scope.placement)</span><span class="s3">;</span><span class="s1"> 
        element.addClass(position[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(scope.popupClass) { 
        element.addClass(scope.popupClass)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(scope.animation) { 
        element.addClass(attrs.tooltipAnimationClass)</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibTooltipPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { content: </span><span class="s2">'@' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/tooltip/tooltip-popup.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibTooltip'</span><span class="s3">, </span><span class="s1">[ </span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibTooltip'</span><span class="s3">, </span><span class="s2">'tooltip'</span><span class="s3">, </span><span class="s2">'mouseenter'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibTooltipTemplatePopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { contentExp: </span><span class="s2">'&amp;'</span><span class="s3">, </span><span class="s1">originScope: </span><span class="s2">'&amp;' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/tooltip/tooltip-template-popup.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibTooltipTemplate'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibTooltipTemplate'</span><span class="s3">, </span><span class="s2">'tooltip'</span><span class="s3">, </span><span class="s2">'mouseenter'</span><span class="s3">, </span><span class="s1">{ 
    useContentExp: </span><span class="s4">true</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibTooltipHtmlPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { contentExp: </span><span class="s2">'&amp;' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/tooltip/tooltip-html-popup.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibTooltipHtml'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibTooltipHtml'</span><span class="s3">, </span><span class="s2">'tooltip'</span><span class="s3">, </span><span class="s2">'mouseenter'</span><span class="s3">, </span><span class="s1">{ 
    useContentExp: </span><span class="s4">true</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
</span><span class="s6">/** 
 * The following features are still outstanding: popup delay, animation as a 
 * function, placement as a function, inside, support for more triggers than 
 * just mouse enter/leave, and selector delegatation. 
 */</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.popover'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.tooltip'</span><span class="s1">]) 
 
.directive(</span><span class="s2">'uibPopoverTemplatePopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { uibTitle: </span><span class="s2">'@'</span><span class="s3">, </span><span class="s1">contentExp: </span><span class="s2">'&amp;'</span><span class="s3">, </span><span class="s1">originScope: </span><span class="s2">'&amp;' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/popover/popover-template.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibPopoverTemplate'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibPopoverTemplate'</span><span class="s3">, </span><span class="s2">'popover'</span><span class="s3">, </span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">{ 
    useContentExp: </span><span class="s4">true</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibPopoverHtmlPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { contentExp: </span><span class="s2">'&amp;'</span><span class="s3">, </span><span class="s1">uibTitle: </span><span class="s2">'@' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/popover/popover-html.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibPopoverHtml'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibPopoverHtml'</span><span class="s3">, </span><span class="s2">'popover'</span><span class="s3">, </span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">{ 
    useContentExp: </span><span class="s4">true</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibPopoverPopup'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { uibTitle: </span><span class="s2">'@'</span><span class="s3">, </span><span class="s1">content: </span><span class="s2">'@' </span><span class="s1">}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/popover/popover.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibPopover'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$uibTooltip'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($uibTooltip) { 
  </span><span class="s4">return </span><span class="s1">$uibTooltip(</span><span class="s2">'uibPopover'</span><span class="s3">, </span><span class="s2">'popover'</span><span class="s3">, </span><span class="s2">'click'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.progressbar'</span><span class="s3">, </span><span class="s1">[]) 
 
.constant(</span><span class="s2">'uibProgressConfig'</span><span class="s3">, </span><span class="s1">{ 
  animate: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  max: </span><span class="s5">100</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibProgressController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'uibProgressConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">progressConfig) { 
  </span><span class="s4">var </span><span class="s1">self = </span><span class="s4">this</span><span class="s3">,</span><span class="s1"> 
      animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.bars = []</span><span class="s3">;</span><span class="s1"> 
  $scope.max = getMaxOrDefault()</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.addBar = </span><span class="s4">function</span><span class="s1">(bar</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
    </span><span class="s4">if </span><span class="s1">(!animate) { 
      element.css({</span><span class="s2">'transition'</span><span class="s1">: </span><span class="s2">'none'</span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">this</span><span class="s1">.bars.push(bar)</span><span class="s3">;</span><span class="s1"> 
 
    bar.max = getMaxOrDefault()</span><span class="s3">;</span><span class="s1"> 
    bar.title = attrs &amp;&amp; angular.isDefined(attrs.title) ? attrs.title : </span><span class="s2">'progressbar'</span><span class="s3">;</span><span class="s1"> 
 
    bar.$watch(</span><span class="s2">'value'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      bar.recalculatePercentage()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    bar.recalculatePercentage = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">var </span><span class="s1">totalPercentage = self.bars.reduce(</span><span class="s4">function</span><span class="s1">(total</span><span class="s3">, </span><span class="s1">bar) { 
        bar.percent = +(</span><span class="s5">100 </span><span class="s1">* bar.value / bar.max).toFixed(</span><span class="s5">2</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">total + bar.percent</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">, </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(totalPercentage &gt; </span><span class="s5">100</span><span class="s1">) { 
        bar.percent -= totalPercentage - </span><span class="s5">100</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    bar.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
      element = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      self.removeBar(bar)</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.removeBar = </span><span class="s4">function</span><span class="s1">(bar) { 
    </span><span class="s4">this</span><span class="s1">.bars.splice(</span><span class="s4">this</span><span class="s1">.bars.indexOf(bar)</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.bars.forEach(</span><span class="s4">function </span><span class="s1">(bar) { 
      bar.recalculatePercentage()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">//$attrs.$observe('maxParam', function(maxParam) {</span><span class="s1"> 
  $scope.$watch(</span><span class="s2">'maxParam'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(maxParam) { 
    self.bars.forEach(</span><span class="s4">function</span><span class="s1">(bar) { 
      bar.max = getMaxOrDefault()</span><span class="s3">;</span><span class="s1"> 
      bar.recalculatePercentage()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">getMaxOrDefault () { 
    </span><span class="s4">return </span><span class="s1">angular.isDefined($scope.maxParam) ? $scope.maxParam : progressConfig.max</span><span class="s3">;</span><span class="s1"> 
  } 
}]) 
 
.directive(</span><span class="s2">'uibProgress'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibProgressController'</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'uibProgress'</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      maxParam: </span><span class="s2">'=?max'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/progressbar/progress.html'</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibBar'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'^uibProgress'</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      value: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      type: </span><span class="s2">'@'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/progressbar/bar.html'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">progressCtrl) { 
      progressCtrl.addBar(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibProgressbar'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibProgressController'</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      value: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
      maxParam: </span><span class="s2">'=?max'</span><span class="s3">,</span><span class="s1"> 
      type: </span><span class="s2">'@'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/progressbar/progressbar.html'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">progressCtrl) { 
      progressCtrl.addBar(scope</span><span class="s3">, </span><span class="s1">angular.element(element.children()[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">, </span><span class="s1">{title: attrs.title})</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.rating'</span><span class="s3">, </span><span class="s1">[]) 
 
.constant(</span><span class="s2">'uibRatingConfig'</span><span class="s3">, </span><span class="s1">{ 
  max: </span><span class="s5">5</span><span class="s3">,</span><span class="s1"> 
  stateOn: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
  stateOff: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
  enableReset: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  titles: [</span><span class="s2">'one'</span><span class="s3">, </span><span class="s2">'two'</span><span class="s3">, </span><span class="s2">'three'</span><span class="s3">, </span><span class="s2">'four'</span><span class="s3">, </span><span class="s2">'five'</span><span class="s1">] 
}) 
 
.controller(</span><span class="s2">'UibRatingController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'uibRatingConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">ratingConfig) { 
  </span><span class="s4">var </span><span class="s1">ngModelCtrl = { $setViewValue: angular.noop }</span><span class="s3">,</span><span class="s1"> 
    self = </span><span class="s4">this</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(ngModelCtrl_) { 
    ngModelCtrl = ngModelCtrl_</span><span class="s3">;</span><span class="s1"> 
    ngModelCtrl.$render = </span><span class="s4">this</span><span class="s1">.render</span><span class="s3">;</span><span class="s1"> 
 
    ngModelCtrl.$formatters.push(</span><span class="s4">function</span><span class="s1">(value) { 
      </span><span class="s4">if </span><span class="s1">(angular.isNumber(value) &amp;&amp; value &lt;&lt; </span><span class="s5">0 </span><span class="s1">!== value) { 
        value = Math.round(value)</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">return </span><span class="s1">value</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">this</span><span class="s1">.stateOn = angular.isDefined($attrs.stateOn) ? $scope.$parent.$eval($attrs.stateOn) : ratingConfig.stateOn</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.stateOff = angular.isDefined($attrs.stateOff) ? $scope.$parent.$eval($attrs.stateOff) : ratingConfig.stateOff</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.enableReset = angular.isDefined($attrs.enableReset) ? 
      $scope.$parent.$eval($attrs.enableReset) : ratingConfig.enableReset</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">tmpTitles = angular.isDefined($attrs.titles) ? $scope.$parent.$eval($attrs.titles) : ratingConfig.titles</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.titles = angular.isArray(tmpTitles) &amp;&amp; tmpTitles.length &gt; </span><span class="s5">0 </span><span class="s1">? 
      tmpTitles : ratingConfig.titles</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">ratingStates = angular.isDefined($attrs.ratingStates) ? 
      $scope.$parent.$eval($attrs.ratingStates) : 
      </span><span class="s4">new </span><span class="s1">Array(angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : ratingConfig.max)</span><span class="s3">;</span><span class="s1"> 
    $scope.range = </span><span class="s4">this</span><span class="s1">.buildTemplateObjects(ratingStates)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.buildTemplateObjects = </span><span class="s4">function</span><span class="s1">(states) { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">, </span><span class="s1">n = states.length</span><span class="s3">; </span><span class="s1">i &lt; n</span><span class="s3">; </span><span class="s1">i++) { 
      states[i] = angular.extend({ index: i }</span><span class="s3">, </span><span class="s1">{ stateOn: </span><span class="s4">this</span><span class="s1">.stateOn</span><span class="s3">, </span><span class="s1">stateOff: </span><span class="s4">this</span><span class="s1">.stateOff</span><span class="s3">, </span><span class="s1">title: </span><span class="s4">this</span><span class="s1">.getTitle(i) }</span><span class="s3">, </span><span class="s1">states[i])</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">return </span><span class="s1">states</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.getTitle = </span><span class="s4">function</span><span class="s1">(index) { 
    </span><span class="s4">if </span><span class="s1">(index &gt;= </span><span class="s4">this</span><span class="s1">.titles.length) { 
      </span><span class="s4">return </span><span class="s1">index + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return this</span><span class="s1">.titles[index]</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.rate = </span><span class="s4">function</span><span class="s1">(value) { 
    </span><span class="s4">if </span><span class="s1">(!$scope.readonly &amp;&amp; value &gt;= </span><span class="s5">0 </span><span class="s1">&amp;&amp; value &lt;= $scope.range.length) { 
      </span><span class="s4">var </span><span class="s1">newViewValue = self.enableReset &amp;&amp; ngModelCtrl.$viewValue === value ? </span><span class="s5">0 </span><span class="s1">: value</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$setViewValue(newViewValue)</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$render()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.enter = </span><span class="s4">function</span><span class="s1">(value) { 
    </span><span class="s4">if </span><span class="s1">(!$scope.readonly) { 
      $scope.value = value</span><span class="s3">;</span><span class="s1"> 
    } 
    $scope.onHover({value: value})</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.reset = </span><span class="s4">function</span><span class="s1">() { 
    $scope.value = ngModelCtrl.$viewValue</span><span class="s3">;</span><span class="s1"> 
    $scope.onLeave()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.onKeydown = </span><span class="s4">function</span><span class="s1">(evt) { 
    </span><span class="s4">if </span><span class="s1">(</span><span class="s2">/(37|38|39|40)/</span><span class="s1">.test(evt.which)) { 
      evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
      evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
      $scope.rate($scope.value + (evt.which === </span><span class="s5">38 </span><span class="s1">|| evt.which === </span><span class="s5">39 </span><span class="s1">? </span><span class="s5">1 </span><span class="s1">: -</span><span class="s5">1</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.render = </span><span class="s4">function</span><span class="s1">() { 
    $scope.value = ngModelCtrl.$viewValue</span><span class="s3">;</span><span class="s1"> 
    $scope.title = self.getTitle($scope.value - </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibRating'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: [</span><span class="s2">'uibRating'</span><span class="s3">, </span><span class="s2">'ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      readonly: </span><span class="s2">'=?readOnly'</span><span class="s3">,</span><span class="s1"> 
      onHover: </span><span class="s2">'&amp;'</span><span class="s3">,</span><span class="s1"> 
      onLeave: </span><span class="s2">'&amp;'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibRatingController'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s2">'uib/template/rating/rating.html'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">ratingCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      ratingCtrl.init(ngModelCtrl)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.tabs'</span><span class="s3">, </span><span class="s1">[]) 
 
.controller(</span><span class="s2">'UibTabsetController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s4">function </span><span class="s1">($scope) { 
  </span><span class="s4">var </span><span class="s1">ctrl = </span><span class="s4">this</span><span class="s3">,</span><span class="s1"> 
    oldIndex</span><span class="s3">;</span><span class="s1"> 
  ctrl.tabs = []</span><span class="s3">;</span><span class="s1"> 
 
  ctrl.select = </span><span class="s4">function</span><span class="s1">(index</span><span class="s3">, </span><span class="s1">evt) { 
    </span><span class="s4">if </span><span class="s1">(!destroyed) { 
      </span><span class="s4">var </span><span class="s1">previousIndex = findTabIndex(oldIndex)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">previousSelected = ctrl.tabs[previousIndex]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(previousSelected) { 
        previousSelected.tab.onDeselect({ 
          $event: evt</span><span class="s3">,</span><span class="s1"> 
          $selectedIndex: index 
        })</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(evt &amp;&amp; evt.isDefaultPrevented()) { 
          </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
        } 
        previousSelected.tab.active = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">var </span><span class="s1">selected = ctrl.tabs[index]</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(selected) { 
        selected.tab.onSelect({ 
          $event: evt 
        })</span><span class="s3">;</span><span class="s1"> 
        selected.tab.active = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        ctrl.active = selected.index</span><span class="s3">;</span><span class="s1"> 
        oldIndex = selected.index</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(!selected &amp;&amp; angular.isDefined(oldIndex)) { 
        ctrl.active = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
        oldIndex = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  ctrl.addTab = </span><span class="s4">function </span><span class="s1">addTab(tab) { 
    ctrl.tabs.push({ 
      tab: tab</span><span class="s3">,</span><span class="s1"> 
      index: tab.index 
    })</span><span class="s3">;</span><span class="s1"> 
    ctrl.tabs.sort(</span><span class="s4">function</span><span class="s1">(t1</span><span class="s3">, </span><span class="s1">t2) { 
      </span><span class="s4">if </span><span class="s1">(t1.index &gt; t2.index) { 
        </span><span class="s4">return </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(t1.index &lt; t2.index) { 
        </span><span class="s4">return </span><span class="s1">-</span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">return </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(tab.index === ctrl.active || !angular.isDefined(ctrl.active) &amp;&amp; ctrl.tabs.length === </span><span class="s5">1</span><span class="s1">) { 
      </span><span class="s4">var </span><span class="s1">newActiveIndex = findTabIndex(tab.index)</span><span class="s3">;</span><span class="s1"> 
      ctrl.select(newActiveIndex)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  ctrl.removeTab = </span><span class="s4">function </span><span class="s1">removeTab(tab) { 
    </span><span class="s4">var </span><span class="s1">index</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; ctrl.tabs.length</span><span class="s3">; </span><span class="s1">i++) { 
      </span><span class="s4">if </span><span class="s1">(ctrl.tabs[i].tab === tab) { 
        index = i</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
 
    </span><span class="s4">if </span><span class="s1">(ctrl.tabs[index].index === ctrl.active) { 
      </span><span class="s4">var </span><span class="s1">newActiveTabIndex = index === ctrl.tabs.length - </span><span class="s5">1 </span><span class="s1">? 
        index - </span><span class="s5">1 </span><span class="s1">: index + </span><span class="s5">1 </span><span class="s1">% ctrl.tabs.length</span><span class="s3">;</span><span class="s1"> 
      ctrl.select(newActiveTabIndex)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    ctrl.tabs.splice(index</span><span class="s3">, </span><span class="s5">1</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$watch(</span><span class="s2">'tabset.active'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(val) { 
    </span><span class="s4">if </span><span class="s1">(angular.isDefined(val) &amp;&amp; val !== oldIndex) { 
      ctrl.select(findTabIndex(val))</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">destroyed</span><span class="s3">;</span><span class="s1"> 
  $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    destroyed = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
  })</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">findTabIndex(index) { 
    </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; ctrl.tabs.length</span><span class="s3">; </span><span class="s1">i++) { 
      </span><span class="s4">if </span><span class="s1">(ctrl.tabs[i].index === index) { 
        </span><span class="s4">return </span><span class="s1">i</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  } 
}]) 
 
.directive(</span><span class="s2">'uibTabset'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    scope: {}</span><span class="s3">,</span><span class="s1"> 
    bindToController: { 
      active: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      type: </span><span class="s2">'@'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibTabsetController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'tabset'</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/tabs/tabset.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
      scope.vertical = angular.isDefined(attrs.vertical) ? 
        scope.$parent.$eval(attrs.vertical) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      scope.justified = angular.isDefined(attrs.justified) ? 
        scope.$parent.$eval(attrs.justified) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibTab'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($parse) { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: </span><span class="s2">'^uibTabset'</span><span class="s3">,</span><span class="s1"> 
    replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || </span><span class="s2">'uib/template/tabs/tab.html'</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    transclude: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
    scope: { 
      heading: </span><span class="s2">'@'</span><span class="s3">,</span><span class="s1"> 
      index: </span><span class="s2">'=?'</span><span class="s3">,</span><span class="s1"> 
      classes: </span><span class="s2">'@?'</span><span class="s3">,</span><span class="s1"> 
      onSelect: </span><span class="s2">'&amp;select'</span><span class="s3">, </span><span class="s0">//This callback is called in contentHeadingTransclude</span><span class="s1"> 
                          </span><span class="s0">//once it inserts the tab's content into the dom</span><span class="s1"> 
      onDeselect: </span><span class="s2">'&amp;deselect'</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s0">//Empty controller so other directives can require being 'under' a tab</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'tab'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">elm</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">tabsetCtrl</span><span class="s3">, </span><span class="s1">transclude) { 
      scope.disabled = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(attrs.disable) { 
        scope.$parent.$watch($parse(attrs.disable)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
          scope.disabled = !! value</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(angular.isUndefined(attrs.index)) { 
        </span><span class="s4">if </span><span class="s1">(tabsetCtrl.tabs &amp;&amp; tabsetCtrl.tabs.length) { 
          scope.index = Math.max.apply(</span><span class="s4">null</span><span class="s3">, </span><span class="s1">tabsetCtrl.tabs.map(</span><span class="s4">function</span><span class="s1">(t) { </span><span class="s4">return </span><span class="s1">t.index</span><span class="s3">; </span><span class="s1">})) + </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          scope.index = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">if </span><span class="s1">(angular.isUndefined(attrs.classes)) { 
        scope.classes = </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
      } 
 
      scope.select = </span><span class="s4">function</span><span class="s1">(evt) { 
        </span><span class="s4">if </span><span class="s1">(!scope.disabled) { 
          </span><span class="s4">var </span><span class="s1">index</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; tabsetCtrl.tabs.length</span><span class="s3">; </span><span class="s1">i++) { 
            </span><span class="s4">if </span><span class="s1">(tabsetCtrl.tabs[i].tab === scope) { 
              index = i</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
            } 
          } 
 
          tabsetCtrl.select(index</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">;</span><span class="s1"> 
 
      tabsetCtrl.addTab(scope)</span><span class="s3">;</span><span class="s1"> 
      scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        tabsetCtrl.removeTab(scope)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//We need to transclude later, once the content container is ready.</span><span class="s1"> 
      </span><span class="s0">//when this link happens, we're inside a tab heading.</span><span class="s1"> 
      scope.$transcludeFn = transclude</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibTabHeadingTransclude'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'^uibTab'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">elm) { 
      scope.$watch(</span><span class="s2">'headingElement'</span><span class="s3">, </span><span class="s4">function </span><span class="s1">updateHeadingElement(heading) { 
        </span><span class="s4">if </span><span class="s1">(heading) { 
          elm.html(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          elm.append(heading)</span><span class="s3">;</span><span class="s1"> 
        } 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}) 
 
.directive(</span><span class="s2">'uibTabContentTransclude'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
  </span><span class="s4">return </span><span class="s1">{ 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    require: </span><span class="s2">'^uibTabset'</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">elm</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">var </span><span class="s1">tab = scope.$eval(attrs.uibTabContentTransclude).tab</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//Now our tab is ready to be transcluded: both the tab heading area</span><span class="s1"> 
      </span><span class="s0">//and the tab content area are loaded.  Transclude 'em both.</span><span class="s1"> 
      tab.$transcludeFn(tab.$parent</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(contents) { 
        angular.forEach(contents</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(node) { 
          </span><span class="s4">if </span><span class="s1">(isTabHeading(node)) { 
            </span><span class="s0">//Let tabHeadingTransclude know.</span><span class="s1"> 
            tab.headingElement = node</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            elm.append(node)</span><span class="s3">;</span><span class="s1"> 
          } 
        })</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">function </span><span class="s1">isTabHeading(node) { 
    </span><span class="s4">return </span><span class="s1">node.tagName &amp;&amp; ( 
      node.hasAttribute(</span><span class="s2">'uib-tab-heading'</span><span class="s1">) || 
      node.hasAttribute(</span><span class="s2">'data-uib-tab-heading'</span><span class="s1">) || 
      node.hasAttribute(</span><span class="s2">'x-uib-tab-heading'</span><span class="s1">) || 
      node.tagName.toLowerCase() === </span><span class="s2">'uib-tab-heading' </span><span class="s1">|| 
      node.tagName.toLowerCase() === </span><span class="s2">'data-uib-tab-heading' </span><span class="s1">|| 
      node.tagName.toLowerCase() === </span><span class="s2">'x-uib-tab-heading' </span><span class="s1">|| 
      node.tagName.toLowerCase() === </span><span class="s2">'uib:tab-heading'</span><span class="s1"> 
    )</span><span class="s3">;</span><span class="s1"> 
  } 
})</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.timepicker'</span><span class="s3">, </span><span class="s1">[]) 
 
.constant(</span><span class="s2">'uibTimepickerConfig'</span><span class="s3">, </span><span class="s1">{ 
  hourStep: </span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
  minuteStep: </span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
  secondStep: </span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
  showMeridian: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  showSeconds: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  meridians: </span><span class="s4">null</span><span class="s3">,</span><span class="s1"> 
  readonlyInput: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
  mousewheel: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  arrowkeys: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  showSpinners: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
  templateUrl: </span><span class="s2">'uib/template/timepicker/timepicker.html'</span><span class="s1"> 
}) 
 
.controller(</span><span class="s2">'UibTimepickerController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$log'</span><span class="s3">, </span><span class="s2">'$locale'</span><span class="s3">, </span><span class="s2">'uibTimepickerConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($scope</span><span class="s3">, </span><span class="s1">$element</span><span class="s3">, </span><span class="s1">$attrs</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$log</span><span class="s3">, </span><span class="s1">$locale</span><span class="s3">, </span><span class="s1">timepickerConfig) { 
  </span><span class="s4">var </span><span class="s1">hoursModelCtrl</span><span class="s3">, </span><span class="s1">minutesModelCtrl</span><span class="s3">, </span><span class="s1">secondsModelCtrl</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">var </span><span class="s1">selected = </span><span class="s4">new </span><span class="s1">Date()</span><span class="s3">,</span><span class="s1"> 
    watchers = []</span><span class="s3">,</span><span class="s1"> 
    ngModelCtrl = { $setViewValue: angular.noop }</span><span class="s3">, </span><span class="s0">// nullModelCtrl</span><span class="s1"> 
    meridians = angular.isDefined($attrs.meridians) ? $scope.$parent.$eval($attrs.meridians) : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS</span><span class="s3">,</span><span class="s1"> 
    padHours = angular.isDefined($attrs.padHours) ? $scope.$parent.$eval($attrs.padHours) : </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
 
  $scope.tabindex = angular.isDefined($attrs.tabindex) ? $attrs.tabindex : </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
  $element.removeAttr(</span><span class="s2">'tabindex'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(ngModelCtrl_</span><span class="s3">, </span><span class="s1">inputs) { 
    ngModelCtrl = ngModelCtrl_</span><span class="s3">;</span><span class="s1"> 
    ngModelCtrl.$render = </span><span class="s4">this</span><span class="s1">.render</span><span class="s3">;</span><span class="s1"> 
 
    ngModelCtrl.$formatters.unshift(</span><span class="s4">function</span><span class="s1">(modelValue) { 
      </span><span class="s4">return </span><span class="s1">modelValue ? </span><span class="s4">new </span><span class="s1">Date(modelValue) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">hoursInputEl = inputs.eq(</span><span class="s5">0</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        minutesInputEl = inputs.eq(</span><span class="s5">1</span><span class="s1">)</span><span class="s3">,</span><span class="s1"> 
        secondsInputEl = inputs.eq(</span><span class="s5">2</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    hoursModelCtrl = hoursInputEl.controller(</span><span class="s2">'ngModel'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    minutesModelCtrl = minutesInputEl.controller(</span><span class="s2">'ngModel'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    secondsModelCtrl = secondsInputEl.controller(</span><span class="s2">'ngModel'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">mousewheel = angular.isDefined($attrs.mousewheel) ? $scope.$parent.$eval($attrs.mousewheel) : timepickerConfig.mousewheel</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(mousewheel) { 
      </span><span class="s4">this</span><span class="s1">.setupMousewheelEvents(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">arrowkeys = angular.isDefined($attrs.arrowkeys) ? $scope.$parent.$eval($attrs.arrowkeys) : timepickerConfig.arrowkeys</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(arrowkeys) { 
      </span><span class="s4">this</span><span class="s1">.setupArrowkeyEvents(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    $scope.readonlyInput = angular.isDefined($attrs.readonlyInput) ? $scope.$parent.$eval($attrs.readonlyInput) : timepickerConfig.readonlyInput</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">this</span><span class="s1">.setupInputEvents(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl)</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">hourStep = timepickerConfig.hourStep</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.hourStep) { 
    watchers.push($scope.$parent.$watch($parse($attrs.hourStep)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      hourStep = +value</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">var </span><span class="s1">minuteStep = timepickerConfig.minuteStep</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.minuteStep) { 
    watchers.push($scope.$parent.$watch($parse($attrs.minuteStep)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      minuteStep = +value</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">var </span><span class="s1">min</span><span class="s3">;</span><span class="s1"> 
  watchers.push($scope.$parent.$watch($parse($attrs.min)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
    </span><span class="s4">var </span><span class="s1">dt = </span><span class="s4">new </span><span class="s1">Date(value)</span><span class="s3">;</span><span class="s1"> 
    min = isNaN(dt) ? undefined : dt</span><span class="s3">;</span><span class="s1"> 
  }))</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">max</span><span class="s3">;</span><span class="s1"> 
  watchers.push($scope.$parent.$watch($parse($attrs.max)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
    </span><span class="s4">var </span><span class="s1">dt = </span><span class="s4">new </span><span class="s1">Date(value)</span><span class="s3">;</span><span class="s1"> 
    max = isNaN(dt) ? undefined : dt</span><span class="s3">;</span><span class="s1"> 
  }))</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">disabled = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.ngDisabled) { 
    watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      disabled = value</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.noIncrementHours = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">incrementedSelected = addMinutes(selected</span><span class="s3">, </span><span class="s1">hourStep * </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || incrementedSelected &gt; max || 
      incrementedSelected &lt; selected &amp;&amp; incrementedSelected &lt; min</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noDecrementHours = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">decrementedSelected = addMinutes(selected</span><span class="s3">, </span><span class="s1">-hourStep * </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || decrementedSelected &lt; min || 
      decrementedSelected &gt; selected &amp;&amp; decrementedSelected &gt; max</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noIncrementMinutes = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">incrementedSelected = addMinutes(selected</span><span class="s3">, </span><span class="s1">minuteStep)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || incrementedSelected &gt; max || 
      incrementedSelected &lt; selected &amp;&amp; incrementedSelected &lt; min</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noDecrementMinutes = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">decrementedSelected = addMinutes(selected</span><span class="s3">, </span><span class="s1">-minuteStep)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || decrementedSelected &lt; min || 
      decrementedSelected &gt; selected &amp;&amp; decrementedSelected &gt; max</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noIncrementSeconds = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">incrementedSelected = addSeconds(selected</span><span class="s3">, </span><span class="s1">secondStep)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || incrementedSelected &gt; max || 
      incrementedSelected &lt; selected &amp;&amp; incrementedSelected &lt; min</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noDecrementSeconds = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">decrementedSelected = addSeconds(selected</span><span class="s3">, </span><span class="s1">-secondStep)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">disabled || decrementedSelected &lt; min || 
      decrementedSelected &gt; selected &amp;&amp; decrementedSelected &gt; max</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.noToggleMeridian = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(selected.getHours() &lt; </span><span class="s5">12</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s1">disabled || addMinutes(selected</span><span class="s3">, </span><span class="s5">12 </span><span class="s1">* </span><span class="s5">60</span><span class="s1">) &gt; max</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">disabled || addMinutes(selected</span><span class="s3">, </span><span class="s1">-</span><span class="s5">12 </span><span class="s1">* </span><span class="s5">60</span><span class="s1">) &lt; min</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">var </span><span class="s1">secondStep = timepickerConfig.secondStep</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.secondStep) { 
    watchers.push($scope.$parent.$watch($parse($attrs.secondStep)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      secondStep = +value</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.showSeconds = timepickerConfig.showSeconds</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.showSeconds) { 
    watchers.push($scope.$parent.$watch($parse($attrs.showSeconds)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      $scope.showSeconds = !!value</span><span class="s3">;</span><span class="s1"> 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">// 12H / 24H mode</span><span class="s1"> 
  $scope.showMeridian = timepickerConfig.showMeridian</span><span class="s3">;</span><span class="s1"> 
  </span><span class="s4">if </span><span class="s1">($attrs.showMeridian) { 
    watchers.push($scope.$parent.$watch($parse($attrs.showMeridian)</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(value) { 
      $scope.showMeridian = !!value</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(ngModelCtrl.$error.time) { 
        </span><span class="s0">// Evaluate from template</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">hours = getHoursFromTemplate()</span><span class="s3">, </span><span class="s1">minutes = getMinutesFromTemplate()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(angular.isDefined(hours) &amp;&amp; angular.isDefined(minutes)) { 
          selected.setHours(hours)</span><span class="s3">;</span><span class="s1"> 
          refresh()</span><span class="s3">;</span><span class="s1"> 
        } 
      } </span><span class="s4">else </span><span class="s1">{ 
        updateTemplate()</span><span class="s3">;</span><span class="s1"> 
      } 
    }))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">// Get $scope.hours in 24H mode if valid</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">getHoursFromTemplate() { 
    </span><span class="s4">var </span><span class="s1">hours = +$scope.hours</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">valid = $scope.showMeridian ? hours &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; hours &lt; </span><span class="s5">13 </span><span class="s1">: 
      hours &gt;= </span><span class="s5">0 </span><span class="s1">&amp;&amp; hours &lt; </span><span class="s5">24</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!valid || $scope.hours === </span><span class="s2">''</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s1">undefined</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">($scope.showMeridian) { 
      </span><span class="s4">if </span><span class="s1">(hours === </span><span class="s5">12</span><span class="s1">) { 
        hours = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
      } 
      </span><span class="s4">if </span><span class="s1">($scope.meridian === meridians[</span><span class="s5">1</span><span class="s1">]) { 
        hours = hours + </span><span class="s5">12</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
    </span><span class="s4">return </span><span class="s1">hours</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">getMinutesFromTemplate() { 
    </span><span class="s4">var </span><span class="s1">minutes = +$scope.minutes</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">valid = minutes &gt;= </span><span class="s5">0 </span><span class="s1">&amp;&amp; minutes &lt; </span><span class="s5">60</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!valid || $scope.minutes === </span><span class="s2">''</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s1">undefined</span><span class="s3">;</span><span class="s1"> 
    } 
    </span><span class="s4">return </span><span class="s1">minutes</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">getSecondsFromTemplate() { 
    </span><span class="s4">var </span><span class="s1">seconds = +$scope.seconds</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">seconds &gt;= </span><span class="s5">0 </span><span class="s1">&amp;&amp; seconds &lt; </span><span class="s5">60 </span><span class="s1">? seconds : undefined</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">pad(value</span><span class="s3">, </span><span class="s1">noPad) { 
    </span><span class="s4">if </span><span class="s1">(value === </span><span class="s4">null</span><span class="s1">) { 
      </span><span class="s4">return </span><span class="s2">''</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return </span><span class="s1">angular.isDefined(value) &amp;&amp; value.toString().length &lt; </span><span class="s5">2 </span><span class="s1">&amp;&amp; !noPad ? 
      </span><span class="s2">'0' </span><span class="s1">+ value : value.toString()</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s0">// Respond on mousewheel spin</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.setupMousewheelEvents = </span><span class="s4">function</span><span class="s1">(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl) { 
    </span><span class="s4">var </span><span class="s1">isScrollingUp = </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(e.originalEvent) { 
        e = e.originalEvent</span><span class="s3">;</span><span class="s1"> 
      } 
      </span><span class="s0">//pick correct delta variable depending on event</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">delta = e.wheelDelta ? e.wheelDelta : -e.deltaY</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return </span><span class="s1">e.detail || delta &gt; </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    hoursInputEl.on(</span><span class="s2">'mousewheel wheel'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        $scope.$apply(isScrollingUp(e) ? $scope.incrementHours() : $scope.decrementHours())</span><span class="s3">;</span><span class="s1"> 
      } 
      e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    minutesInputEl.on(</span><span class="s2">'mousewheel wheel'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        $scope.$apply(isScrollingUp(e) ? $scope.incrementMinutes() : $scope.decrementMinutes())</span><span class="s3">;</span><span class="s1"> 
      } 
      e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
     secondsInputEl.on(</span><span class="s2">'mousewheel wheel'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        $scope.$apply(isScrollingUp(e) ? $scope.incrementSeconds() : $scope.decrementSeconds())</span><span class="s3">;</span><span class="s1"> 
      } 
      e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Respond on up/down arrowkeys</span><span class="s1"> 
  </span><span class="s4">this</span><span class="s1">.setupArrowkeyEvents = </span><span class="s4">function</span><span class="s1">(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl) { 
    hoursInputEl.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        </span><span class="s4">if </span><span class="s1">(e.which === </span><span class="s5">38</span><span class="s1">) { </span><span class="s0">// up</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.incrementHours()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else if </span><span class="s1">(e.which === </span><span class="s5">40</span><span class="s1">) { </span><span class="s0">// down</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.decrementHours()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    minutesInputEl.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        </span><span class="s4">if </span><span class="s1">(e.which === </span><span class="s5">38</span><span class="s1">) { </span><span class="s0">// up</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.incrementMinutes()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else if </span><span class="s1">(e.which === </span><span class="s5">40</span><span class="s1">) { </span><span class="s0">// down</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.decrementMinutes()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    secondsInputEl.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(!disabled) { 
        </span><span class="s4">if </span><span class="s1">(e.which === </span><span class="s5">38</span><span class="s1">) { </span><span class="s0">// up</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.incrementSeconds()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else if </span><span class="s1">(e.which === </span><span class="s5">40</span><span class="s1">) { </span><span class="s0">// down</span><span class="s1"> 
          e.preventDefault()</span><span class="s3">;</span><span class="s1"> 
          $scope.decrementSeconds()</span><span class="s3">;</span><span class="s1"> 
          $scope.$apply()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.setupInputEvents = </span><span class="s4">function</span><span class="s1">(hoursInputEl</span><span class="s3">, </span><span class="s1">minutesInputEl</span><span class="s3">, </span><span class="s1">secondsInputEl) { 
    </span><span class="s4">if </span><span class="s1">($scope.readonlyInput) { 
      $scope.updateHours = angular.noop</span><span class="s3">;</span><span class="s1"> 
      $scope.updateMinutes = angular.noop</span><span class="s3">;</span><span class="s1"> 
      $scope.updateSeconds = angular.noop</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">invalidate = </span><span class="s4">function</span><span class="s1">(invalidHours</span><span class="s3">, </span><span class="s1">invalidMinutes</span><span class="s3">, </span><span class="s1">invalidSeconds) { 
      ngModelCtrl.$setViewValue(</span><span class="s4">null</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      ngModelCtrl.$setValidity(</span><span class="s2">'time'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(invalidHours)) { 
        $scope.invalidHours = invalidHours</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(hoursModelCtrl) { 
          hoursModelCtrl.$setValidity(</span><span class="s2">'hours'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(invalidMinutes)) { 
        $scope.invalidMinutes = invalidMinutes</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(minutesModelCtrl) { 
          minutesModelCtrl.$setValidity(</span><span class="s2">'minutes'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(invalidSeconds)) { 
        $scope.invalidSeconds = invalidSeconds</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(secondsModelCtrl) { 
          secondsModelCtrl.$setValidity(</span><span class="s2">'seconds'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    $scope.updateHours = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">var </span><span class="s1">hours = getHoursFromTemplate()</span><span class="s3">,</span><span class="s1"> 
        minutes = getMinutesFromTemplate()</span><span class="s3">;</span><span class="s1"> 
 
      ngModelCtrl.$setDirty()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(hours) &amp;&amp; angular.isDefined(minutes)) { 
        selected.setHours(hours)</span><span class="s3">;</span><span class="s1"> 
        selected.setMinutes(minutes)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(selected &lt; min || selected &gt; max) { 
          invalidate(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          refresh(</span><span class="s2">'h'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } </span><span class="s4">else </span><span class="s1">{ 
        invalidate(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    hoursInputEl.on(</span><span class="s2">'blur'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      ngModelCtrl.$setTouched()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(modelIsEmpty()) { 
        makeValid()</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">($scope.hours === </span><span class="s4">null </span><span class="s1">|| $scope.hours === </span><span class="s2">''</span><span class="s1">) { 
        invalidate(</span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(!$scope.invalidHours &amp;&amp; $scope.hours &lt; </span><span class="s5">10</span><span class="s1">) { 
        $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
          $scope.hours = pad($scope.hours</span><span class="s3">, </span><span class="s1">!padHours)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    $scope.updateMinutes = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">var </span><span class="s1">minutes = getMinutesFromTemplate()</span><span class="s3">,</span><span class="s1"> 
        hours = getHoursFromTemplate()</span><span class="s3">;</span><span class="s1"> 
 
      ngModelCtrl.$setDirty()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(minutes) &amp;&amp; angular.isDefined(hours)) { 
        selected.setHours(hours)</span><span class="s3">;</span><span class="s1"> 
        selected.setMinutes(minutes)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(selected &lt; min || selected &gt; max) { 
          invalidate(undefined</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } </span><span class="s4">else </span><span class="s1">{ 
          refresh(</span><span class="s2">'m'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      } </span><span class="s4">else </span><span class="s1">{ 
        invalidate(undefined</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    minutesInputEl.on(</span><span class="s2">'blur'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      ngModelCtrl.$setTouched()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(modelIsEmpty()) { 
        makeValid()</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">($scope.minutes === </span><span class="s4">null</span><span class="s1">) { 
        invalidate(undefined</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(!$scope.invalidMinutes &amp;&amp; $scope.minutes &lt; </span><span class="s5">10</span><span class="s1">) { 
        $scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
          $scope.minutes = pad($scope.minutes)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    $scope.updateSeconds = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">var </span><span class="s1">seconds = getSecondsFromTemplate()</span><span class="s3">;</span><span class="s1"> 
 
      ngModelCtrl.$setDirty()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(seconds)) { 
        selected.setSeconds(seconds)</span><span class="s3">;</span><span class="s1"> 
        refresh(</span><span class="s2">'s'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        invalidate(undefined</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    secondsInputEl.on(</span><span class="s2">'blur'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(e) { 
      </span><span class="s4">if </span><span class="s1">(modelIsEmpty()) { 
        makeValid()</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else if </span><span class="s1">(!$scope.invalidSeconds &amp;&amp; $scope.seconds &lt; </span><span class="s5">10</span><span class="s1">) { 
        $scope.$apply( </span><span class="s4">function</span><span class="s1">() { 
          $scope.seconds = pad($scope.seconds)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s4">this</span><span class="s1">.render = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">date = ngModelCtrl.$viewValue</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(isNaN(date)) { 
      ngModelCtrl.$setValidity(</span><span class="s2">'time'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      $log.error(</span><span class="s2">'Timepicker directive: &quot;ng-model&quot; value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      </span><span class="s4">if </span><span class="s1">(date) { 
        selected = date</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(selected &lt; min || selected &gt; max) { 
        ngModelCtrl.$setValidity(</span><span class="s2">'time'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        $scope.invalidHours = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        $scope.invalidMinutes = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        makeValid()</span><span class="s3">;</span><span class="s1"> 
      } 
      updateTemplate()</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  </span><span class="s0">// Call internally when we know that model is valid.</span><span class="s1"> 
  </span><span class="s4">function </span><span class="s1">refresh(keyboardChange) { 
    makeValid()</span><span class="s3">;</span><span class="s1"> 
    ngModelCtrl.$setViewValue(</span><span class="s4">new </span><span class="s1">Date(selected))</span><span class="s3">;</span><span class="s1"> 
    updateTemplate(keyboardChange)</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">makeValid() { 
    </span><span class="s4">if </span><span class="s1">(hoursModelCtrl) { 
      hoursModelCtrl.$setValidity(</span><span class="s2">'hours'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(minutesModelCtrl) { 
      minutesModelCtrl.$setValidity(</span><span class="s2">'minutes'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(secondsModelCtrl) { 
      secondsModelCtrl.$setValidity(</span><span class="s2">'seconds'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    ngModelCtrl.$setValidity(</span><span class="s2">'time'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    $scope.invalidHours = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    $scope.invalidMinutes = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    $scope.invalidSeconds = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">updateTemplate(keyboardChange) { 
    </span><span class="s4">if </span><span class="s1">(!ngModelCtrl.$modelValue) { 
      $scope.hours = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      $scope.minutes = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      $scope.seconds = </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
      $scope.meridian = meridians[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      </span><span class="s4">var </span><span class="s1">hours = selected.getHours()</span><span class="s3">,</span><span class="s1"> 
        minutes = selected.getMinutes()</span><span class="s3">,</span><span class="s1"> 
        seconds = selected.getSeconds()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">($scope.showMeridian) { 
        hours = hours === </span><span class="s5">0 </span><span class="s1">|| hours === </span><span class="s5">12 </span><span class="s1">? </span><span class="s5">12 </span><span class="s1">: hours % </span><span class="s5">12</span><span class="s3">; </span><span class="s0">// Convert 24 to 12 hour system</span><span class="s1"> 
      } 
 
      $scope.hours = keyboardChange === </span><span class="s2">'h' </span><span class="s1">? hours : pad(hours</span><span class="s3">, </span><span class="s1">!padHours)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(keyboardChange !== </span><span class="s2">'m'</span><span class="s1">) { 
        $scope.minutes = pad(minutes)</span><span class="s3">;</span><span class="s1"> 
      } 
      $scope.meridian = selected.getHours() &lt; </span><span class="s5">12 </span><span class="s1">? meridians[</span><span class="s5">0</span><span class="s1">] : meridians[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(keyboardChange !== </span><span class="s2">'s'</span><span class="s1">) { 
        $scope.seconds = pad(seconds)</span><span class="s3">;</span><span class="s1"> 
      } 
      $scope.meridian = selected.getHours() &lt; </span><span class="s5">12 </span><span class="s1">? meridians[</span><span class="s5">0</span><span class="s1">] : meridians[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
    } 
  } 
 
  </span><span class="s4">function </span><span class="s1">addSecondsToSelected(seconds) { 
    selected = addSeconds(selected</span><span class="s3">, </span><span class="s1">seconds)</span><span class="s3">;</span><span class="s1"> 
    refresh()</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">addMinutes(selected</span><span class="s3">, </span><span class="s1">minutes) { 
    </span><span class="s4">return </span><span class="s1">addSeconds(selected</span><span class="s3">, </span><span class="s1">minutes*</span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">addSeconds(date</span><span class="s3">, </span><span class="s1">seconds) { 
    </span><span class="s4">var </span><span class="s1">dt = </span><span class="s4">new </span><span class="s1">Date(date.getTime() + seconds * </span><span class="s5">1000</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">newDate = </span><span class="s4">new </span><span class="s1">Date(date)</span><span class="s3">;</span><span class="s1"> 
    newDate.setHours(dt.getHours()</span><span class="s3">, </span><span class="s1">dt.getMinutes()</span><span class="s3">, </span><span class="s1">dt.getSeconds())</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">newDate</span><span class="s3">;</span><span class="s1"> 
  } 
 
  </span><span class="s4">function </span><span class="s1">modelIsEmpty() { 
    </span><span class="s4">return </span><span class="s1">($scope.hours === </span><span class="s4">null </span><span class="s1">|| $scope.hours === </span><span class="s2">''</span><span class="s1">) &amp;&amp; 
      ($scope.minutes === </span><span class="s4">null </span><span class="s1">|| $scope.minutes === </span><span class="s2">''</span><span class="s1">) &amp;&amp; 
      (!$scope.showSeconds || $scope.showSeconds &amp;&amp; ($scope.seconds === </span><span class="s4">null </span><span class="s1">|| $scope.seconds === </span><span class="s2">''</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
  } 
 
  $scope.showSpinners = angular.isDefined($attrs.showSpinners) ? 
    $scope.$parent.$eval($attrs.showSpinners) : timepickerConfig.showSpinners</span><span class="s3">;</span><span class="s1"> 
 
  $scope.incrementHours = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noIncrementHours()) { 
      addSecondsToSelected(hourStep * </span><span class="s5">60 </span><span class="s1">* </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.decrementHours = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noDecrementHours()) { 
      addSecondsToSelected(-hourStep * </span><span class="s5">60 </span><span class="s1">* </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.incrementMinutes = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noIncrementMinutes()) { 
      addSecondsToSelected(minuteStep * </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.decrementMinutes = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noDecrementMinutes()) { 
      addSecondsToSelected(-minuteStep * </span><span class="s5">60</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.incrementSeconds = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noIncrementSeconds()) { 
      addSecondsToSelected(secondStep)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.decrementSeconds = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">if </span><span class="s1">(!$scope.noDecrementSeconds()) { 
      addSecondsToSelected(-secondStep)</span><span class="s3">;</span><span class="s1"> 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.toggleMeridian = </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">var </span><span class="s1">minutes = getMinutesFromTemplate()</span><span class="s3">,</span><span class="s1"> 
        hours = getHoursFromTemplate()</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(!$scope.noToggleMeridian()) { 
      </span><span class="s4">if </span><span class="s1">(angular.isDefined(minutes) &amp;&amp; angular.isDefined(hours)) { 
        addSecondsToSelected(</span><span class="s5">12 </span><span class="s1">* </span><span class="s5">60 </span><span class="s1">* (selected.getHours() &lt; </span><span class="s5">12 </span><span class="s1">? </span><span class="s5">60 </span><span class="s1">: -</span><span class="s5">60</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        $scope.meridian = $scope.meridian === meridians[</span><span class="s5">0</span><span class="s1">] ? meridians[</span><span class="s5">1</span><span class="s1">] : meridians[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.blur = </span><span class="s4">function</span><span class="s1">() { 
    ngModelCtrl.$setTouched()</span><span class="s3">;</span><span class="s1"> 
  }</span><span class="s3">;</span><span class="s1"> 
 
  $scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">while </span><span class="s1">(watchers.length) { 
      watchers.shift()()</span><span class="s3">;</span><span class="s1"> 
    } 
  })</span><span class="s3">;</span><span class="s1"> 
}]) 
 
.directive(</span><span class="s2">'uibTimepicker'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'uibTimepickerConfig'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(uibTimepickerConfig) { 
  </span><span class="s4">return </span><span class="s1">{ 
    require: [</span><span class="s2">'uibTimepicker'</span><span class="s3">, </span><span class="s2">'?^ngModel'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
    restrict: </span><span class="s2">'A'</span><span class="s3">,</span><span class="s1"> 
    controller: </span><span class="s2">'UibTimepickerController'</span><span class="s3">,</span><span class="s1"> 
    controllerAs: </span><span class="s2">'timepicker'</span><span class="s3">,</span><span class="s1"> 
    scope: {}</span><span class="s3">,</span><span class="s1"> 
    templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
      </span><span class="s4">return </span><span class="s1">attrs.templateUrl || uibTimepickerConfig.templateUrl</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">,</span><span class="s1"> 
    link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
      </span><span class="s4">var </span><span class="s1">timepickerCtrl = ctrls[</span><span class="s5">0</span><span class="s1">]</span><span class="s3">, </span><span class="s1">ngModelCtrl = ctrls[</span><span class="s5">1</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(ngModelCtrl) { 
        timepickerCtrl.init(ngModelCtrl</span><span class="s3">, </span><span class="s1">element.find(</span><span class="s2">'input'</span><span class="s1">))</span><span class="s3">;</span><span class="s1"> 
      } 
    } 
  }</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">'ui.bootstrap.typeahead'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'ui.bootstrap.debounce'</span><span class="s3">, </span><span class="s2">'ui.bootstrap.position'</span><span class="s1">]) 
 
</span><span class="s6">/** 
 * A helper service that can parse typeahead's syntax (string provided by users) 
 * Extracted to a separate service for ease of unit testing 
 */</span><span class="s1"> 
  .factory(</span><span class="s2">'uibTypeaheadParser'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($parse) { 
    </span><span class="s0">//                      000001111111100000000000002222222200000000000000003333333333333330000000000044444444000</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">TYPEAHEAD_REGEXP = </span><span class="s2">/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">return </span><span class="s1">{ 
      parse: </span><span class="s4">function</span><span class="s1">(input) { 
        </span><span class="s4">var </span><span class="s1">match = input.match(TYPEAHEAD_REGEXP)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!match) { 
          </span><span class="s4">throw new </span><span class="s1">Error( 
            </span><span class="s2">'Expected typeahead specification in form of &quot;_modelValue_ (as _label_)? for _item_ in _collection_&quot;' </span><span class="s1">+ 
              </span><span class="s2">' but got &quot;' </span><span class="s1">+ input + </span><span class="s2">'&quot;.'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">return </span><span class="s1">{ 
          itemName: match[</span><span class="s5">3</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
          source: $parse(match[</span><span class="s5">4</span><span class="s1">])</span><span class="s3">,</span><span class="s1"> 
          viewMapper: $parse(match[</span><span class="s5">2</span><span class="s1">] || match[</span><span class="s5">1</span><span class="s1">])</span><span class="s3">,</span><span class="s1"> 
          modelMapper: $parse(match[</span><span class="s5">1</span><span class="s1">]) 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }]) 
 
  .controller(</span><span class="s2">'UibTypeaheadController'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$scope'</span><span class="s3">, </span><span class="s2">'$element'</span><span class="s3">, </span><span class="s2">'$attrs'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s2">'$q'</span><span class="s3">, </span><span class="s2">'$timeout'</span><span class="s3">, </span><span class="s2">'$document'</span><span class="s3">, </span><span class="s2">'$window'</span><span class="s3">, </span><span class="s2">'$rootScope'</span><span class="s3">, </span><span class="s2">'$$debounce'</span><span class="s3">, </span><span class="s2">'$uibPosition'</span><span class="s3">, </span><span class="s2">'uibTypeaheadParser'</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s4">function</span><span class="s1">(originalScope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$parse</span><span class="s3">, </span><span class="s1">$q</span><span class="s3">, </span><span class="s1">$timeout</span><span class="s3">, </span><span class="s1">$document</span><span class="s3">, </span><span class="s1">$window</span><span class="s3">, </span><span class="s1">$rootScope</span><span class="s3">, </span><span class="s1">$$debounce</span><span class="s3">, </span><span class="s1">$position</span><span class="s3">, </span><span class="s1">typeaheadParser) { 
    </span><span class="s4">var </span><span class="s1">HOT_KEYS = [</span><span class="s5">9</span><span class="s3">, </span><span class="s5">13</span><span class="s3">, </span><span class="s5">27</span><span class="s3">, </span><span class="s5">38</span><span class="s3">, </span><span class="s5">40</span><span class="s1">]</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">eventDebounceTime = </span><span class="s5">200</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">modelCtrl</span><span class="s3">, </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">//SUPPORTED ATTRIBUTES (OPTIONS)</span><span class="s1"> 
 
    </span><span class="s0">//minimal no of characters that needs to be entered before typeahead kicks-in</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">minLength = originalScope.$eval(attrs.typeaheadMinLength)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(!minLength &amp;&amp; minLength !== </span><span class="s5">0</span><span class="s1">) { 
      minLength = </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
    } 
 
    originalScope.$watch(attrs.typeaheadMinLength</span><span class="s3">, </span><span class="s4">function </span><span class="s1">(newVal) { 
        minLength = !newVal &amp;&amp; newVal !== </span><span class="s5">0 </span><span class="s1">? </span><span class="s5">1 </span><span class="s1">: newVal</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//minimal wait time after last character typed before typeahead kicks-in</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//should it restrict model values to the ones selected from the popup only?</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isEditable = originalScope.$eval(attrs.typeaheadEditable) !== </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    originalScope.$watch(attrs.typeaheadEditable</span><span class="s3">, </span><span class="s4">function </span><span class="s1">(newVal) { 
      isEditable = newVal !== </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//binding to a variable that indicates if matches are being retrieved asynchronously</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//a function to determine if an event should cause selection</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isSelectEvent = attrs.typeaheadShouldSelect ? $parse(attrs.typeaheadShouldSelect) : </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">vals) { 
      </span><span class="s4">var </span><span class="s1">evt = vals.$event</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">return </span><span class="s1">evt.which === </span><span class="s5">13 </span><span class="s1">|| evt.which === </span><span class="s5">9</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//a callback executed when a match is selected</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">onSelectCallback = $parse(attrs.typeaheadOnSelect)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//should it select highlighted popup value when losing focus?</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isSelectOnBlur = angular.isDefined(attrs.typeaheadSelectOnBlur) ? originalScope.$eval(attrs.typeaheadSelectOnBlur) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//binding to a variable that indicates if there were no results after the query is completed</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isNoResultsSetter = $parse(attrs.typeaheadNoResults).assign || angular.noop</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : undefined</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">appendToBody = attrs.typeaheadAppendToBody ? originalScope.$eval(attrs.typeaheadAppendToBody) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">appendTo = attrs.typeaheadAppendTo ? 
      originalScope.$eval(attrs.typeaheadAppendTo) : </span><span class="s4">null</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">focusFirst = originalScope.$eval(attrs.typeaheadFocusFirst) !== </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//If input matches an item of the list exactly, select it automatically</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">selectOnExact = attrs.typeaheadSelectOnExact ? originalScope.$eval(attrs.typeaheadSelectOnExact) : </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//binding to a variable that indicates if dropdown is open</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">isOpenSetter = $parse(attrs.typeaheadIsOpen).assign || angular.noop</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">showHint = originalScope.$eval(attrs.typeaheadShowHint) || </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//INTERNAL VARIABLES</span><span class="s1"> 
 
    </span><span class="s0">//model setter executed upon match selection</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">parsedModel = $parse(attrs.ngModel)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">invokeModelSetter = $parse(attrs.ngModel + </span><span class="s2">'($$$p)'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">$setModelValue = </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">newValue) { 
      </span><span class="s4">if </span><span class="s1">(angular.isFunction(parsedModel(originalScope)) &amp;&amp; 
        ngModelOptions.getOption(</span><span class="s2">'getterSetter'</span><span class="s1">)) { 
        </span><span class="s4">return </span><span class="s1">invokeModelSetter(scope</span><span class="s3">, </span><span class="s1">{$$$p: newValue})</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">return </span><span class="s1">parsedModel.assign(scope</span><span class="s3">, </span><span class="s1">newValue)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//expressions used by typeahead</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">parserResult = typeaheadParser.parse(attrs.uibTypeahead)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">hasFocus</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//Used to avoid bug in iOS webview where iOS keyboard does not fire</span><span class="s1"> 
    </span><span class="s0">//mousedown &amp; mouseup events</span><span class="s1"> 
    </span><span class="s0">//Issue #3699</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">selected</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//create a child scope for the typeahead directive so we are not polluting original scope</span><span class="s1"> 
    </span><span class="s0">//with typeahead-specific data (matches, query etc.)</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">scope = originalScope.$new()</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">offDestroy = originalScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
      scope.$destroy()</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
    scope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s1">offDestroy)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// WAI-ARIA</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">popupId = </span><span class="s2">'typeahead-' </span><span class="s1">+ scope.$id + </span><span class="s2">'-' </span><span class="s1">+ Math.floor(Math.random() * </span><span class="s5">10000</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    element.attr({ 
      </span><span class="s2">'aria-autocomplete'</span><span class="s1">: </span><span class="s2">'list'</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'aria-expanded'</span><span class="s1">: </span><span class="s4">false</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'aria-owns'</span><span class="s1">: popupId 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">inputsContainer</span><span class="s3">, </span><span class="s1">hintInputElem</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">//add read-only input to show hint</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(showHint) { 
      inputsContainer = angular.element(</span><span class="s2">'&lt;div&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      inputsContainer.css(</span><span class="s2">'position'</span><span class="s3">, </span><span class="s2">'relative'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      element.after(inputsContainer)</span><span class="s3">;</span><span class="s1"> 
      hintInputElem = element.clone()</span><span class="s3">;</span><span class="s1"> 
      hintInputElem.attr(</span><span class="s2">'placeholder'</span><span class="s3">, </span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      hintInputElem.attr(</span><span class="s2">'tabindex'</span><span class="s3">, </span><span class="s2">'-1'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      hintInputElem.val(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      hintInputElem.css({ 
        </span><span class="s2">'position'</span><span class="s1">: </span><span class="s2">'absolute'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'top'</span><span class="s1">: </span><span class="s2">'0px'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'left'</span><span class="s1">: </span><span class="s2">'0px'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'border-color'</span><span class="s1">: </span><span class="s2">'transparent'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'box-shadow'</span><span class="s1">: </span><span class="s2">'none'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'opacity'</span><span class="s1">: </span><span class="s5">1</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'background'</span><span class="s1">: </span><span class="s2">'none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'color'</span><span class="s1">: </span><span class="s2">'#999'</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
      element.css({ 
        </span><span class="s2">'position'</span><span class="s1">: </span><span class="s2">'relative'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'vertical-align'</span><span class="s1">: </span><span class="s2">'top'</span><span class="s3">,</span><span class="s1"> 
        </span><span class="s2">'background-color'</span><span class="s1">: </span><span class="s2">'transparent'</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(hintInputElem.attr(</span><span class="s2">'id'</span><span class="s1">)) { 
        hintInputElem.removeAttr(</span><span class="s2">'id'</span><span class="s1">)</span><span class="s3">; </span><span class="s0">// remove duplicate id if present.</span><span class="s1"> 
      } 
      inputsContainer.append(hintInputElem)</span><span class="s3">;</span><span class="s1"> 
      hintInputElem.after(element)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">//pop-up element used to display matches</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">popUpEl = angular.element(</span><span class="s2">'&lt;div uib-typeahead-popup&gt;&lt;/div&gt;'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    popUpEl.attr({ 
      id: popupId</span><span class="s3">,</span><span class="s1"> 
      matches: </span><span class="s2">'matches'</span><span class="s3">,</span><span class="s1"> 
      active: </span><span class="s2">'activeIdx'</span><span class="s3">,</span><span class="s1"> 
      select: </span><span class="s2">'select(activeIdx, evt)'</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'move-in-progress'</span><span class="s1">: </span><span class="s2">'moveInProgress'</span><span class="s3">,</span><span class="s1"> 
      query: </span><span class="s2">'query'</span><span class="s3">,</span><span class="s1"> 
      position: </span><span class="s2">'position'</span><span class="s3">,</span><span class="s1"> 
      </span><span class="s2">'assign-is-open'</span><span class="s1">: </span><span class="s2">'assignIsOpen(isOpen)'</span><span class="s3">,</span><span class="s1"> 
      debounce: </span><span class="s2">'debounceUpdate'</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
    </span><span class="s0">//custom item template</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(angular.isDefined(attrs.typeaheadTemplateUrl)) { 
      popUpEl.attr(</span><span class="s2">'template-url'</span><span class="s3">, </span><span class="s1">attrs.typeaheadTemplateUrl)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">if </span><span class="s1">(angular.isDefined(attrs.typeaheadPopupTemplateUrl)) { 
      popUpEl.attr(</span><span class="s2">'popup-template-url'</span><span class="s3">, </span><span class="s1">attrs.typeaheadPopupTemplateUrl)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">var </span><span class="s1">resetHint = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">if </span><span class="s1">(showHint) { 
        hintInputElem.val(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">resetMatches = </span><span class="s4">function</span><span class="s1">() { 
      scope.matches = []</span><span class="s3">;</span><span class="s1"> 
      scope.activeIdx = -</span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
      element.attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      resetHint()</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">getMatchId = </span><span class="s4">function</span><span class="s1">(index) { 
      </span><span class="s4">return </span><span class="s1">popupId + </span><span class="s2">'-option-' </span><span class="s1">+ index</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// Indicate that the specified match is the active (pre-selected) item in the list owned by this typeahead.</span><span class="s1"> 
    </span><span class="s0">// This attribute is added or removed automatically when the `activeIdx` changes.</span><span class="s1"> 
    scope.$watch(</span><span class="s2">'activeIdx'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(index) { 
      </span><span class="s4">if </span><span class="s1">(index &lt; </span><span class="s5">0</span><span class="s1">) { 
        element.removeAttr(</span><span class="s2">'aria-activedescendant'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ 
        element.attr(</span><span class="s2">'aria-activedescendant'</span><span class="s3">, </span><span class="s1">getMatchId(index))</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">inputIsExactMatch = </span><span class="s4">function</span><span class="s1">(inputValue</span><span class="s3">, </span><span class="s1">index) { 
      </span><span class="s4">if </span><span class="s1">(scope.matches.length &gt; index &amp;&amp; inputValue) { 
        </span><span class="s4">return </span><span class="s1">inputValue.toUpperCase() === scope.matches[index].label.toUpperCase()</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">return false</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">getMatchesAsync = </span><span class="s4">function</span><span class="s1">(inputValue</span><span class="s3">, </span><span class="s1">evt) { 
      </span><span class="s4">var </span><span class="s1">locals = {$viewValue: inputValue}</span><span class="s3">;</span><span class="s1"> 
      isLoadingSetter(originalScope</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      isNoResultsSetter(originalScope</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      $q.when(parserResult.source(originalScope</span><span class="s3">, </span><span class="s1">locals)).then(</span><span class="s4">function</span><span class="s1">(matches) { 
        </span><span class="s0">//it might happen that several async queries were in progress if a user were typing fast</span><span class="s1"> 
        </span><span class="s0">//but we are interested only in responses that correspond to the current view value</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">onCurrentRequest = inputValue === modelCtrl.$viewValue</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(onCurrentRequest &amp;&amp; hasFocus) { 
          </span><span class="s4">if </span><span class="s1">(matches &amp;&amp; matches.length &gt; </span><span class="s5">0</span><span class="s1">) { 
            scope.activeIdx = focusFirst ? </span><span class="s5">0 </span><span class="s1">: -</span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
            isNoResultsSetter(originalScope</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
            scope.matches.length = </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">//transform labels</span><span class="s1"> 
            </span><span class="s4">for </span><span class="s1">(</span><span class="s4">var </span><span class="s1">i = </span><span class="s5">0</span><span class="s3">; </span><span class="s1">i &lt; matches.length</span><span class="s3">; </span><span class="s1">i++) { 
              locals[parserResult.itemName] = matches[i]</span><span class="s3">;</span><span class="s1"> 
              scope.matches.push({ 
                id: getMatchId(i)</span><span class="s3">,</span><span class="s1"> 
                label: parserResult.viewMapper(scope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">,</span><span class="s1"> 
                model: matches[i] 
              })</span><span class="s3">;</span><span class="s1"> 
            } 
 
            scope.query = inputValue</span><span class="s3">;</span><span class="s1"> 
            </span><span class="s0">//position pop-up with matches - we need to re-calculate its position each time we are opening a window</span><span class="s1"> 
            </span><span class="s0">//with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page</span><span class="s1"> 
            </span><span class="s0">//due to other elements being rendered</span><span class="s1"> 
            recalculatePosition()</span><span class="s3">;</span><span class="s1"> 
 
            element.attr(</span><span class="s2">'aria-expanded'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
            </span><span class="s0">//Select the single remaining option if user input matches</span><span class="s1"> 
            </span><span class="s4">if </span><span class="s1">(selectOnExact &amp;&amp; scope.matches.length === </span><span class="s5">1 </span><span class="s1">&amp;&amp; inputIsExactMatch(inputValue</span><span class="s3">, </span><span class="s5">0</span><span class="s1">)) { 
              </span><span class="s4">if </span><span class="s1">(angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) { 
                $$debounce(</span><span class="s4">function</span><span class="s1">() { 
                  scope.select(</span><span class="s5">0</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
                }</span><span class="s3">, </span><span class="s1">angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate[</span><span class="s2">'default'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                scope.select(</span><span class="s5">0</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
 
            </span><span class="s4">if </span><span class="s1">(showHint) { 
              </span><span class="s4">var </span><span class="s1">firstLabel = scope.matches[</span><span class="s5">0</span><span class="s1">].label</span><span class="s3">;</span><span class="s1"> 
              </span><span class="s4">if </span><span class="s1">(angular.isString(inputValue) &amp;&amp; 
                inputValue.length &gt; </span><span class="s5">0 </span><span class="s1">&amp;&amp; 
                firstLabel.slice(</span><span class="s5">0</span><span class="s3">, </span><span class="s1">inputValue.length).toUpperCase() === inputValue.toUpperCase()) { 
                hintInputElem.val(inputValue + firstLabel.slice(inputValue.length))</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                hintInputElem.val(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
              } 
            } 
          } </span><span class="s4">else </span><span class="s1">{ 
            resetMatches()</span><span class="s3">;</span><span class="s1"> 
            isNoResultsSetter(originalScope</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          } 
        } 
        </span><span class="s4">if </span><span class="s1">(onCurrentRequest) { 
          isLoadingSetter(originalScope</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
      }</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
        resetMatches()</span><span class="s3">;</span><span class="s1"> 
        isLoadingSetter(originalScope</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        isNoResultsSetter(originalScope</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// bind events only if appendToBody params exist - performance feature</span><span class="s1"> 
    </span><span class="s4">if </span><span class="s1">(appendToBody) { 
      angular.element($window).on(</span><span class="s2">'resize'</span><span class="s3">, </span><span class="s1">fireRecalculating)</span><span class="s3">;</span><span class="s1"> 
      $document.find(</span><span class="s2">'body'</span><span class="s1">).on(</span><span class="s2">'scroll'</span><span class="s3">, </span><span class="s1">fireRecalculating)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// Declare the debounced function outside recalculating for</span><span class="s1"> 
    </span><span class="s0">// proper debouncing</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">debouncedRecalculate = $$debounce(</span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s0">// if popup is visible</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scope.matches.length) { 
        recalculatePosition()</span><span class="s3">;</span><span class="s1"> 
      } 
 
      scope.moveInProgress = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">, </span><span class="s1">eventDebounceTime)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// Default progress type</span><span class="s1"> 
    scope.moveInProgress = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">function </span><span class="s1">fireRecalculating() { 
      </span><span class="s4">if </span><span class="s1">(!scope.moveInProgress) { 
        scope.moveInProgress = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        scope.$digest()</span><span class="s3">;</span><span class="s1"> 
      } 
 
      debouncedRecalculate()</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">// recalculate actual position and set new values to scope</span><span class="s1"> 
    </span><span class="s0">// after digest loop is popup in right position</span><span class="s1"> 
    </span><span class="s4">function </span><span class="s1">recalculatePosition() { 
      scope.position = appendToBody ? $position.offset(element) : $position.position(element)</span><span class="s3">;</span><span class="s1"> 
      scope.position.top += element.prop(</span><span class="s2">'offsetHeight'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s0">//we need to propagate user's query so we can higlight matches</span><span class="s1"> 
    scope.query = undefined</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">timeoutPromise</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">scheduleSearchWithTimeout = </span><span class="s4">function</span><span class="s1">(inputValue) { 
      timeoutPromise = $timeout(</span><span class="s4">function</span><span class="s1">() { 
        getMatchesAsync(inputValue)</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">, </span><span class="s1">waitTime)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">cancelPreviousTimeout = </span><span class="s4">function</span><span class="s1">() { 
      </span><span class="s4">if </span><span class="s1">(timeoutPromise) { 
        $timeout.cancel(timeoutPromise)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    resetMatches()</span><span class="s3">;</span><span class="s1"> 
 
    scope.assignIsOpen = </span><span class="s4">function </span><span class="s1">(isOpen) { 
      isOpenSetter(originalScope</span><span class="s3">, </span><span class="s1">isOpen)</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    scope.select = </span><span class="s4">function</span><span class="s1">(activeIdx</span><span class="s3">, </span><span class="s1">evt) { 
      </span><span class="s0">//called from within the $digest() cycle</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">locals = {}</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">model</span><span class="s3">, </span><span class="s1">item</span><span class="s3">;</span><span class="s1"> 
 
      selected = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      locals[parserResult.itemName] = item = scope.matches[activeIdx].model</span><span class="s3">;</span><span class="s1"> 
      model = parserResult.modelMapper(originalScope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">;</span><span class="s1"> 
      $setModelValue(originalScope</span><span class="s3">, </span><span class="s1">model)</span><span class="s3">;</span><span class="s1"> 
      modelCtrl.$setValidity(</span><span class="s2">'editable'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      modelCtrl.$setValidity(</span><span class="s2">'parse'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
      onSelectCallback(originalScope</span><span class="s3">, </span><span class="s1">{ 
        $item: item</span><span class="s3">,</span><span class="s1"> 
        $model: model</span><span class="s3">,</span><span class="s1"> 
        $label: parserResult.viewMapper(originalScope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">,</span><span class="s1"> 
        $event: evt 
      })</span><span class="s3">;</span><span class="s1"> 
 
      resetMatches()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//return focus to the input element if a match was selected via a mouse click event</span><span class="s1"> 
      </span><span class="s0">// use timeout to avoid $rootScope:inprog error</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scope.$eval(attrs.typeaheadFocusOnSelect) !== </span><span class="s4">false</span><span class="s1">) { 
        $timeout(</span><span class="s4">function</span><span class="s1">() { element[</span><span class="s5">0</span><span class="s1">].focus()</span><span class="s3">; </span><span class="s1">}</span><span class="s3">, </span><span class="s5">0</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">//bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)</span><span class="s1"> 
    element.on(</span><span class="s2">'keydown'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(evt) { 
      </span><span class="s0">//typeahead is open and an &quot;interesting&quot; key was pressed</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scope.matches.length === </span><span class="s5">0 </span><span class="s1">|| HOT_KEYS.indexOf(evt.which) === -</span><span class="s5">1</span><span class="s1">) { 
        </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">var </span><span class="s1">shouldSelect = isSelectEvent(originalScope</span><span class="s3">, </span><span class="s1">{$event: evt})</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s6">/** 
       * if there's nothing selected (i.e. focusFirst) and enter or tab is hit 
       * or 
       * shift + tab is pressed to bring focus to the previous element 
       * then clear the results 
       */</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(scope.activeIdx === -</span><span class="s5">1 </span><span class="s1">&amp;&amp; shouldSelect || evt.which === </span><span class="s5">9 </span><span class="s1">&amp;&amp; !!evt.shiftKey) { 
        resetMatches()</span><span class="s3">;</span><span class="s1"> 
        scope.$digest()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return</span><span class="s3">;</span><span class="s1"> 
      } 
 
      evt.preventDefault()</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">var </span><span class="s1">target</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">switch </span><span class="s1">(evt.which) { 
        </span><span class="s4">case </span><span class="s5">27</span><span class="s1">: </span><span class="s0">// escape</span><span class="s1"> 
          evt.stopPropagation()</span><span class="s3">;</span><span class="s1"> 
 
          resetMatches()</span><span class="s3">;</span><span class="s1"> 
          originalScope.$digest()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">case </span><span class="s5">38</span><span class="s1">: </span><span class="s0">// up arrow</span><span class="s1"> 
          scope.activeIdx = (scope.activeIdx &gt; </span><span class="s5">0 </span><span class="s1">? scope.activeIdx : scope.matches.length) - </span><span class="s5">1</span><span class="s3">;</span><span class="s1"> 
          scope.$digest()</span><span class="s3">;</span><span class="s1"> 
          target = popUpEl[</span><span class="s5">0</span><span class="s1">].querySelectorAll(</span><span class="s2">'.uib-typeahead-match'</span><span class="s1">)[scope.activeIdx]</span><span class="s3">;</span><span class="s1"> 
          target.parentNode.scrollTop = target.offsetTop</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">case </span><span class="s5">40</span><span class="s1">: </span><span class="s0">// down arrow</span><span class="s1"> 
          scope.activeIdx = (scope.activeIdx + </span><span class="s5">1</span><span class="s1">) % scope.matches.length</span><span class="s3">;</span><span class="s1"> 
          scope.$digest()</span><span class="s3">;</span><span class="s1"> 
          target = popUpEl[</span><span class="s5">0</span><span class="s1">].querySelectorAll(</span><span class="s2">'.uib-typeahead-match'</span><span class="s1">)[scope.activeIdx]</span><span class="s3">;</span><span class="s1"> 
          target.parentNode.scrollTop = target.offsetTop</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">break</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">default</span><span class="s1">: 
          </span><span class="s4">if </span><span class="s1">(shouldSelect) { 
            scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
              </span><span class="s4">if </span><span class="s1">(angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) { 
                $$debounce(</span><span class="s4">function</span><span class="s1">() { 
                  scope.select(scope.activeIdx</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
                }</span><span class="s3">, </span><span class="s1">angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate[</span><span class="s2">'default'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
              } </span><span class="s4">else </span><span class="s1">{ 
                scope.select(scope.activeIdx</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
              } 
            })</span><span class="s3">;</span><span class="s1"> 
          } 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    element.on(</span><span class="s2">'focus'</span><span class="s3">, </span><span class="s4">function </span><span class="s1">(evt) { 
      hasFocus = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(minLength === </span><span class="s5">0 </span><span class="s1">&amp;&amp; !modelCtrl.$viewValue) { 
        $timeout(</span><span class="s4">function</span><span class="s1">() { 
          getMatchesAsync(modelCtrl.$viewValue</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">, </span><span class="s5">0</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    element.on(</span><span class="s2">'blur'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">(evt) { 
      </span><span class="s4">if </span><span class="s1">(isSelectOnBlur &amp;&amp; scope.matches.length &amp;&amp; scope.activeIdx !== -</span><span class="s5">1 </span><span class="s1">&amp;&amp; !selected) { 
        selected = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
        scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s4">if </span><span class="s1">(angular.isObject(scope.debounceUpdate) &amp;&amp; angular.isNumber(scope.debounceUpdate.blur)) { 
            $$debounce(</span><span class="s4">function</span><span class="s1">() { 
              scope.select(scope.activeIdx</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
            }</span><span class="s3">, </span><span class="s1">scope.debounceUpdate.blur)</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            scope.select(scope.activeIdx</span><span class="s3">, </span><span class="s1">evt)</span><span class="s3">;</span><span class="s1"> 
          } 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
      </span><span class="s4">if </span><span class="s1">(!isEditable &amp;&amp; modelCtrl.$error.editable) { 
        modelCtrl.$setViewValue()</span><span class="s3">;</span><span class="s1"> 
        scope.$apply(</span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s0">// Reset validity as we are clearing</span><span class="s1"> 
          modelCtrl.$setValidity(</span><span class="s2">'editable'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          modelCtrl.$setValidity(</span><span class="s2">'parse'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
        element.val(</span><span class="s2">''</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
      } 
      hasFocus = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
      selected = </span><span class="s4">false</span><span class="s3">;</span><span class="s1"> 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s0">// Keep reference to click handler to unbind it.</span><span class="s1"> 
    </span><span class="s4">var </span><span class="s1">dismissClickHandler = </span><span class="s4">function</span><span class="s1">(evt) { 
      </span><span class="s0">// Issue #3973</span><span class="s1"> 
      </span><span class="s0">// Firefox treats right click as a click on document</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(element[</span><span class="s5">0</span><span class="s1">] !== evt.target &amp;&amp; evt.which !== </span><span class="s5">3 </span><span class="s1">&amp;&amp; scope.matches.length !== </span><span class="s5">0</span><span class="s1">) { 
        resetMatches()</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!$rootScope.$$phase) { 
          originalScope.$digest()</span><span class="s3">;</span><span class="s1"> 
        } 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
 
    $document.on(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">dismissClickHandler)</span><span class="s3">;</span><span class="s1"> 
 
    originalScope.$on(</span><span class="s2">'$destroy'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
      $document.off(</span><span class="s2">'click'</span><span class="s3">, </span><span class="s1">dismissClickHandler)</span><span class="s3">;</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(appendToBody || appendTo) { 
        $popup.remove()</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">if </span><span class="s1">(appendToBody) { 
        angular.element($window).off(</span><span class="s2">'resize'</span><span class="s3">, </span><span class="s1">fireRecalculating)</span><span class="s3">;</span><span class="s1"> 
        $document.find(</span><span class="s2">'body'</span><span class="s1">).off(</span><span class="s2">'scroll'</span><span class="s3">, </span><span class="s1">fireRecalculating)</span><span class="s3">;</span><span class="s1"> 
      } 
      </span><span class="s0">// Prevent jQuery cache memory leak</span><span class="s1"> 
      popUpEl.remove()</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(showHint) { 
          inputsContainer.remove()</span><span class="s3">;</span><span class="s1"> 
      } 
    })</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">var </span><span class="s1">$popup = $compile(popUpEl)(scope)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">if </span><span class="s1">(appendToBody) { 
      $document.find(</span><span class="s2">'body'</span><span class="s1">).append($popup)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else if </span><span class="s1">(appendTo) { 
      angular.element(appendTo).eq(</span><span class="s5">0</span><span class="s1">).append($popup)</span><span class="s3">;</span><span class="s1"> 
    } </span><span class="s4">else </span><span class="s1">{ 
      element.after($popup)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">this</span><span class="s1">.init = </span><span class="s4">function</span><span class="s1">(_modelCtrl) { 
      modelCtrl = _modelCtrl</span><span class="s3">;</span><span class="s1"> 
      ngModelOptions = extractOptions(modelCtrl)</span><span class="s3">;</span><span class="s1"> 
 
      scope.debounceUpdate = $parse(ngModelOptions.getOption(</span><span class="s2">'debounce'</span><span class="s1">))(originalScope)</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s0">//plug into $parsers pipeline to open a typeahead on view changes initiated from DOM</span><span class="s1"> 
      </span><span class="s0">//$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue</span><span class="s1"> 
      modelCtrl.$parsers.unshift(</span><span class="s4">function</span><span class="s1">(inputValue) { 
        hasFocus = </span><span class="s4">true</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">if </span><span class="s1">(minLength === </span><span class="s5">0 </span><span class="s1">|| inputValue &amp;&amp; inputValue.length &gt;= minLength) { 
          </span><span class="s4">if </span><span class="s1">(waitTime &gt; </span><span class="s5">0</span><span class="s1">) { 
            cancelPreviousTimeout()</span><span class="s3">;</span><span class="s1"> 
            scheduleSearchWithTimeout(inputValue)</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            getMatchesAsync(inputValue)</span><span class="s3">;</span><span class="s1"> 
          } 
        } </span><span class="s4">else </span><span class="s1">{ 
          isLoadingSetter(originalScope</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          cancelPreviousTimeout()</span><span class="s3">;</span><span class="s1"> 
          resetMatches()</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(isEditable) { 
          </span><span class="s4">return </span><span class="s1">inputValue</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(!inputValue) { 
          </span><span class="s0">// Reset in case user had typed something previously.</span><span class="s1"> 
          modelCtrl.$setValidity(</span><span class="s2">'editable'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return null</span><span class="s3">;</span><span class="s1"> 
        } 
 
        modelCtrl.$setValidity(</span><span class="s2">'editable'</span><span class="s3">, </span><span class="s4">false</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">return </span><span class="s1">undefined</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
 
      modelCtrl.$formatters.push(</span><span class="s4">function</span><span class="s1">(modelValue) { 
        </span><span class="s4">var </span><span class="s1">candidateViewValue</span><span class="s3">, </span><span class="s1">emptyViewValue</span><span class="s3">;</span><span class="s1"> 
        </span><span class="s4">var </span><span class="s1">locals = {}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// The validity may be set to false via $parsers (see above) if</span><span class="s1"> 
        </span><span class="s0">// the model is restricted to selected values. If the model</span><span class="s1"> 
        </span><span class="s0">// is set manually it is considered to be valid.</span><span class="s1"> 
        </span><span class="s4">if </span><span class="s1">(!isEditable) { 
          modelCtrl.$setValidity(</span><span class="s2">'editable'</span><span class="s3">, </span><span class="s4">true</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s4">if </span><span class="s1">(inputFormatter) { 
          locals.$model = modelValue</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">inputFormatter(originalScope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">;</span><span class="s1"> 
        } 
 
        </span><span class="s0">//it might happen that we don't have enough info to properly render input value</span><span class="s1"> 
        </span><span class="s0">//we need to check for this situation and simply return model value if we can't apply custom formatting</span><span class="s1"> 
        locals[parserResult.itemName] = modelValue</span><span class="s3">;</span><span class="s1"> 
        candidateViewValue = parserResult.viewMapper(originalScope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">;</span><span class="s1"> 
        locals[parserResult.itemName] = undefined</span><span class="s3">;</span><span class="s1"> 
        emptyViewValue = parserResult.viewMapper(originalScope</span><span class="s3">, </span><span class="s1">locals)</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s4">return </span><span class="s1">candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue</span><span class="s3">;</span><span class="s1"> 
      })</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">function </span><span class="s1">extractOptions(ngModelCtrl) { 
      </span><span class="s4">var </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
 
      </span><span class="s4">if </span><span class="s1">(angular.version.minor &lt; </span><span class="s5">6</span><span class="s1">) { </span><span class="s0">// in angular &lt; 1.6 $options could be missing</span><span class="s1"> 
        </span><span class="s0">// guarantee a value</span><span class="s1"> 
        ngModelOptions = ngModelCtrl.$options || {}</span><span class="s3">;</span><span class="s1"> 
 
        </span><span class="s0">// mimic 1.6+ api</span><span class="s1"> 
        ngModelOptions.getOption = </span><span class="s4">function </span><span class="s1">(key) { 
          </span><span class="s4">return </span><span class="s1">ngModelOptions[key]</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
      } </span><span class="s4">else </span><span class="s1">{ </span><span class="s0">// in angular &gt;=1.6 $options is always present</span><span class="s1"> 
        ngModelOptions = ngModelCtrl.$options</span><span class="s3">;</span><span class="s1"> 
      } 
 
      </span><span class="s4">return </span><span class="s1">ngModelOptions</span><span class="s3">;</span><span class="s1"> 
    } 
  }]) 
 
  .directive(</span><span class="s2">'uibTypeahead'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">() { 
    </span><span class="s4">return </span><span class="s1">{ 
      controller: </span><span class="s2">'UibTypeaheadController'</span><span class="s3">,</span><span class="s1"> 
      require: [</span><span class="s2">'ngModel'</span><span class="s3">, </span><span class="s2">'uibTypeahead'</span><span class="s1">]</span><span class="s3">,</span><span class="s1"> 
      link: </span><span class="s4">function</span><span class="s1">(originalScope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs</span><span class="s3">, </span><span class="s1">ctrls) { 
        ctrls[</span><span class="s5">1</span><span class="s1">].init(ctrls[</span><span class="s5">0</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }) 
 
  .directive(</span><span class="s2">'uibTypeaheadPopup'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$$debounce'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($$debounce) { 
    </span><span class="s4">return </span><span class="s1">{ 
      scope: { 
        matches: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        query: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        active: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        position: </span><span class="s2">'&amp;'</span><span class="s3">,</span><span class="s1"> 
        moveInProgress: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        select: </span><span class="s2">'&amp;'</span><span class="s3">,</span><span class="s1"> 
        assignIsOpen: </span><span class="s2">'&amp;'</span><span class="s3">,</span><span class="s1"> 
        debounce: </span><span class="s2">'&amp;'</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      replace: </span><span class="s4">true</span><span class="s3">,</span><span class="s1"> 
      templateUrl: </span><span class="s4">function</span><span class="s1">(element</span><span class="s3">, </span><span class="s1">attrs) { 
        </span><span class="s4">return </span><span class="s1">attrs.popupTemplateUrl || </span><span class="s2">'uib/template/typeahead/typeahead-popup.html'</span><span class="s3">;</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
        scope.templateUrl = attrs.templateUrl</span><span class="s3">;</span><span class="s1"> 
 
        scope.isOpen = </span><span class="s4">function</span><span class="s1">() { 
          </span><span class="s4">var </span><span class="s1">isDropdownOpen = scope.matches.length &gt; </span><span class="s5">0</span><span class="s3">;</span><span class="s1"> 
          scope.assignIsOpen({ isOpen: isDropdownOpen })</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">return </span><span class="s1">isDropdownOpen</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
        scope.isActive = </span><span class="s4">function</span><span class="s1">(matchIdx) { 
          </span><span class="s4">return </span><span class="s1">scope.active === matchIdx</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
        scope.selectActive = </span><span class="s4">function</span><span class="s1">(matchIdx) { 
          scope.active = matchIdx</span><span class="s3">;</span><span class="s1"> 
        }</span><span class="s3">;</span><span class="s1"> 
 
        scope.selectMatch = </span><span class="s4">function</span><span class="s1">(activeIdx</span><span class="s3">, </span><span class="s1">evt) { 
          </span><span class="s4">var </span><span class="s1">debounce = scope.debounce()</span><span class="s3">;</span><span class="s1"> 
          </span><span class="s4">if </span><span class="s1">(angular.isNumber(debounce) || angular.isObject(debounce)) { 
            $$debounce(</span><span class="s4">function</span><span class="s1">() { 
              scope.select({activeIdx: activeIdx</span><span class="s3">, </span><span class="s1">evt: evt})</span><span class="s3">;</span><span class="s1"> 
            }</span><span class="s3">, </span><span class="s1">angular.isNumber(debounce) ? debounce : debounce[</span><span class="s2">'default'</span><span class="s1">])</span><span class="s3">;</span><span class="s1"> 
          } </span><span class="s4">else </span><span class="s1">{ 
            scope.select({activeIdx: activeIdx</span><span class="s3">, </span><span class="s1">evt: evt})</span><span class="s3">;</span><span class="s1"> 
          } 
        }</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }]) 
 
  .directive(</span><span class="s2">'uibTypeaheadMatch'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$templateRequest'</span><span class="s3">, </span><span class="s2">'$compile'</span><span class="s3">, </span><span class="s2">'$parse'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateRequest</span><span class="s3">, </span><span class="s1">$compile</span><span class="s3">, </span><span class="s1">$parse) { 
    </span><span class="s4">return </span><span class="s1">{ 
      scope: { 
        index: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        match: </span><span class="s2">'='</span><span class="s3">,</span><span class="s1"> 
        query: </span><span class="s2">'='</span><span class="s1"> 
      }</span><span class="s3">,</span><span class="s1"> 
      link: </span><span class="s4">function</span><span class="s1">(scope</span><span class="s3">, </span><span class="s1">element</span><span class="s3">, </span><span class="s1">attrs) { 
        </span><span class="s4">var </span><span class="s1">tplUrl = $parse(attrs.templateUrl)(scope.$parent) || </span><span class="s2">'uib/template/typeahead/typeahead-match.html'</span><span class="s3">;</span><span class="s1"> 
        $templateRequest(tplUrl).then(</span><span class="s4">function</span><span class="s1">(tplContent) { 
          </span><span class="s4">var </span><span class="s1">tplEl = angular.element(tplContent.trim())</span><span class="s3">;</span><span class="s1"> 
          element.replaceWith(tplEl)</span><span class="s3">;</span><span class="s1"> 
          $compile(tplEl)(scope)</span><span class="s3">;</span><span class="s1"> 
        })</span><span class="s3">;</span><span class="s1"> 
      } 
    }</span><span class="s3">;</span><span class="s1"> 
  }]) 
 
  .filter(</span><span class="s2">'uibTypeaheadHighlight'</span><span class="s3">, </span><span class="s1">[</span><span class="s2">'$sce'</span><span class="s3">, </span><span class="s2">'$injector'</span><span class="s3">, </span><span class="s2">'$log'</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($sce</span><span class="s3">, </span><span class="s1">$injector</span><span class="s3">, </span><span class="s1">$log) { 
    </span><span class="s4">var </span><span class="s1">isSanitizePresent</span><span class="s3">;</span><span class="s1"> 
    isSanitizePresent = $injector.has(</span><span class="s2">'$sanitize'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
 
    </span><span class="s4">function </span><span class="s1">escapeRegexp(queryToEscape) { 
      </span><span class="s0">// Regex: capture the whole query string and replace it with the string that will be used to match</span><span class="s1"> 
      </span><span class="s0">// the results, for example if the capture is &quot;a&quot; the result will be \a</span><span class="s1"> 
      </span><span class="s4">return </span><span class="s1">queryToEscape.replace(</span><span class="s2">/([.?*+^$[\]\\(){}|-])/g</span><span class="s3">, </span><span class="s2">'</span><span class="s3">\\</span><span class="s2">$1'</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">function </span><span class="s1">containsHtml(matchItem) { 
      </span><span class="s4">return </span><span class="s2">/&lt;.*&gt;/g</span><span class="s1">.test(matchItem)</span><span class="s3">;</span><span class="s1"> 
    } 
 
    </span><span class="s4">return function</span><span class="s1">(matchItem</span><span class="s3">, </span><span class="s1">query) { 
      </span><span class="s4">if </span><span class="s1">(!isSanitizePresent &amp;&amp; containsHtml(matchItem)) { 
        $log.warn(</span><span class="s2">'Unsafe use of typeahead please use ngSanitize'</span><span class="s1">)</span><span class="s3">; </span><span class="s0">// Warn the user about the danger</span><span class="s1"> 
      } 
      matchItem = query ? (</span><span class="s2">'' </span><span class="s1">+ matchItem).replace(</span><span class="s4">new </span><span class="s1">RegExp(escapeRegexp(query)</span><span class="s3">, </span><span class="s2">'gi'</span><span class="s1">)</span><span class="s3">, </span><span class="s2">'&lt;strong&gt;$&amp;&lt;/strong&gt;'</span><span class="s1">) : matchItem</span><span class="s3">; </span><span class="s0">// Replaces the capture string with a the same string inside of a &quot;strong&quot; tag</span><span class="s1"> 
      </span><span class="s4">if </span><span class="s1">(!isSanitizePresent) { 
        matchItem = $sce.trustAsHtml(matchItem)</span><span class="s3">; </span><span class="s0">// If $sanitize is not present we pack the string in a $sce object for the ng-bind-html directive</span><span class="s1"> 
      } 
      </span><span class="s4">return </span><span class="s1">matchItem</span><span class="s3">;</span><span class="s1"> 
    }</span><span class="s3">;</span><span class="s1"> 
  }])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/accordion/accordion-group.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/accordion/accordion-group.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div role=</span><span class="s3">\&quot;</span><span class="s2">tab</span><span class="s3">\&quot;</span><span class="s2"> id=</span><span class="s3">\&quot;</span><span class="s2">{{::headingId}}</span><span class="s3">\&quot;</span><span class="s2"> aria-selected=</span><span class="s3">\&quot;</span><span class="s2">{{isOpen}}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">panel-heading</span><span class="s3">\&quot;</span><span class="s2"> ng-keypress=</span><span class="s3">\&quot;</span><span class="s2">toggleOpen($event)</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;h4 class=</span><span class="s3">\&quot;</span><span class="s2">panel-title</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;a role=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> data-toggle=</span><span class="s3">\&quot;</span><span class="s2">collapse</span><span class="s3">\&quot;</span><span class="s2"> href aria-expanded=</span><span class="s3">\&quot;</span><span class="s2">{{isOpen}}</span><span class="s3">\&quot;</span><span class="s2"> aria-controls=</span><span class="s3">\&quot;</span><span class="s2">{{::panelId}}</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">accordion-toggle</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">toggleOpen()</span><span class="s3">\&quot;</span><span class="s2"> uib-accordion-transclude=</span><span class="s3">\&quot;</span><span class="s2">heading</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">isDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;&lt;span uib-accordion-header ng-class=</span><span class="s3">\&quot;</span><span class="s2">{'text-muted': isDisabled}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{heading}}&lt;/span&gt;&lt;/a&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/h4&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div id=</span><span class="s3">\&quot;</span><span class="s2">{{::panelId}}</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::headingId}}</span><span class="s3">\&quot;</span><span class="s2"> aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">{{!isOpen}}</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">tabpanel</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">panel-collapse collapse</span><span class="s3">\&quot;</span><span class="s2"> uib-collapse=</span><span class="s3">\&quot;</span><span class="s2">!isOpen</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">panel-body</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/accordion/accordion.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/accordion/accordion.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div role=</span><span class="s3">\&quot;</span><span class="s2">tablist</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">panel-group</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/alert/alert.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/alert/alert.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;button ng-show=</span><span class="s3">\&quot;</span><span class="s2">closeable</span><span class="s3">\&quot;</span><span class="s2"> type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">close</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">close({$event: $event})</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2">&gt;&amp;times;&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;Close&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/carousel/carousel.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/carousel/carousel.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">carousel-inner</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;a role=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> href class=</span><span class="s3">\&quot;</span><span class="s2">left carousel-control</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">prev()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{ disabled: isPrevDisabled() }</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">slides.length &gt; 1</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-left</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;previous&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/a&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;a role=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> href class=</span><span class="s3">\&quot;</span><span class="s2">right carousel-control</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">next()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{ disabled: isNextDisabled() }</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">slides.length &gt; 1</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-right</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;next&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/a&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;ol class=</span><span class="s3">\&quot;</span><span class="s2">carousel-indicators</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">slides.length &gt; 1</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;li ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">slide in slides | orderBy:indexOfSlide track by $index</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{ active: isActive(slide) }</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">select(slide)</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;slide {{ $index + 1 }} of {{ slides.length }}&lt;span ng-if=</span><span class="s3">\&quot;</span><span class="s2">isActive(slide)</span><span class="s3">\&quot;</span><span class="s2">&gt;, currently active&lt;/span&gt;&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/ol&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/carousel/slide.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/carousel/slide.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/datepicker/datepicker.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/datepicker/datepicker.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div ng-switch=</span><span class="s3">\&quot;</span><span class="s2">datepickerMode</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div uib-daypicker ng-switch-when=</span><span class="s3">\&quot;</span><span class="s2">day</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-daypicker</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div uib-monthpicker ng-switch-when=</span><span class="s3">\&quot;</span><span class="s2">month</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-monthpicker</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div uib-yearpicker ng-switch-when=</span><span class="s3">\&quot;</span><span class="s2">year</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-yearpicker</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/datepicker/day.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/datepicker/day.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;table role=</span><span class="s3">\&quot;</span><span class="s2">grid</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s2">{{activeDateId}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-left uib-left</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(-1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-left</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;previous&lt;/span&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th colspan=</span><span class="s3">\&quot;</span><span class="s2">{{::5 + showWeeks}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;button id=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">heading</span><span class="s3">\&quot;</span><span class="s2"> aria-live=</span><span class="s3">\&quot;</span><span class="s2">assertive</span><span class="s3">\&quot;</span><span class="s2"> aria-atomic=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm uib-title</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">toggleMode()</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">datepickerMode === maxMode</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;strong&gt;{{title}}&lt;/strong&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-right uib-right</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-right</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;next&lt;/span&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th ng-if=</span><span class="s3">\&quot;</span><span class="s2">showWeeks</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">text-center</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">label in ::labels track by $index</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">text-center</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;small aria-label=</span><span class="s3">\&quot;</span><span class="s2">{{::label.full}}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{::label.abbr}}&lt;/small&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr class=</span><span class="s3">\&quot;</span><span class="s2">uib-weeks</span><span class="s3">\&quot;</span><span class="s2"> ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">row in rows track by $index</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">row</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-if=</span><span class="s3">\&quot;</span><span class="s2">showWeeks</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">text-center h6</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;em&gt;{{ weekNumbers[$index] }}&lt;/em&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">dt in row</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-day text-center</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">gridcell</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        id=</span><span class="s3">\&quot;</span><span class="s2">{{::dt.uid}}</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        ng-class=</span><span class="s3">\&quot;</span><span class="s2">::dt.customClass</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          uib-is-class=</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'btn-info' for selectedDt,</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'active' for activeDt</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            on dt</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-click=</span><span class="s3">\&quot;</span><span class="s2">select(dt.date)</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">::dt.disabled</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span ng-class=</span><span class="s3">\&quot;</span><span class="s2">::{'text-muted': dt.secondary, 'text-info': dt.current}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{::dt.label}}&lt;/span&gt;&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/table&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/datepicker/month.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/datepicker/month.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;table role=</span><span class="s3">\&quot;</span><span class="s2">grid</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s2">{{activeDateId}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-left uib-left</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(-1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-left</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;previous&lt;/span&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th colspan=</span><span class="s3">\&quot;</span><span class="s2">{{::yearHeaderColspan}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;button id=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">heading</span><span class="s3">\&quot;</span><span class="s2"> aria-live=</span><span class="s3">\&quot;</span><span class="s2">assertive</span><span class="s3">\&quot;</span><span class="s2"> aria-atomic=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm uib-title</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">toggleMode()</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">datepickerMode === maxMode</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;strong&gt;{{title}}&lt;/strong&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-right uib-right</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-right</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;next&lt;/span&gt;&lt;/i&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr class=</span><span class="s3">\&quot;</span><span class="s2">uib-months</span><span class="s3">\&quot;</span><span class="s2"> ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">row in rows track by $index</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">row</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">dt in row</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-month text-center</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">gridcell</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        id=</span><span class="s3">\&quot;</span><span class="s2">{{::dt.uid}}</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        ng-class=</span><span class="s3">\&quot;</span><span class="s2">::dt.customClass</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          uib-is-class=</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'btn-info' for selectedDt,</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'active' for activeDt</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            on dt</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-click=</span><span class="s3">\&quot;</span><span class="s2">select(dt.date)</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">::dt.disabled</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span ng-class=</span><span class="s3">\&quot;</span><span class="s2">::{'text-info': dt.current}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{::dt.label}}&lt;/span&gt;&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/table&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/datepicker/year.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/datepicker/year.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;table role=</span><span class="s3">\&quot;</span><span class="s2">grid</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s2">{{activeDateId}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-left uib-left</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(-1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-left</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;previous&lt;/span&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th colspan=</span><span class="s3">\&quot;</span><span class="s2">{{::columns - 2}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;button id=</span><span class="s3">\&quot;</span><span class="s2">{{::uniqueId}}-title</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">heading</span><span class="s3">\&quot;</span><span class="s2"> aria-live=</span><span class="s3">\&quot;</span><span class="s2">assertive</span><span class="s3">\&quot;</span><span class="s2"> aria-atomic=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm uib-title</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">toggleMode()</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">datepickerMode === maxMode</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;strong&gt;{{title}}&lt;/strong&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;th&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default btn-sm pull-right uib-right</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">move(1)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;i aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">true</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-right</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;next&lt;/span&gt;&lt;/button&gt;&lt;/th&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/thead&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr class=</span><span class="s3">\&quot;</span><span class="s2">uib-years</span><span class="s3">\&quot;</span><span class="s2"> ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">row in rows track by $index</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">row</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">dt in row</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-year text-center</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">gridcell</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        id=</span><span class="s3">\&quot;</span><span class="s2">{{::dt.uid}}</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        ng-class=</span><span class="s3">\&quot;</span><span class="s2">::dt.customClass</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          uib-is-class=</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'btn-info' for selectedDt,</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            'active' for activeDt</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;            on dt</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-click=</span><span class="s3">\&quot;</span><span class="s2">select(dt.date)</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">::dt.disabled</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;          tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span ng-class=</span><span class="s3">\&quot;</span><span class="s2">::{'text-info': dt.current}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{::dt.label}}&lt;/span&gt;&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/table&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/datepickerPopup/popup.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/datepickerPopup/popup.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;ul role=</span><span class="s3">\&quot;</span><span class="s2">presentation</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-datepicker-popup dropdown-menu uib-position-measure</span><span class="s3">\&quot;</span><span class="s2"> dropdown-nested ng-if=</span><span class="s3">\&quot;</span><span class="s2">isOpen</span><span class="s3">\&quot;</span><span class="s2"> ng-keydown=</span><span class="s3">\&quot;</span><span class="s2">keydown($event)</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">$event.stopPropagation()</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;li ng-transclude&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;li ng-if=</span><span class="s3">\&quot;</span><span class="s2">showButtonBar</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-button-bar</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;span class=</span><span class="s3">\&quot;</span><span class="s2">btn-group pull-left</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-sm btn-info uib-datepicker-current</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">select('today', $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">isDisabled('today')</span><span class="s3">\&quot;</span><span class="s2">&gt;{{ getText('current') }}&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-sm btn-danger uib-clear</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">select(null, $event)</span><span class="s3">\&quot;</span><span class="s2">&gt;{{ getText('clear') }}&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-sm btn-success pull-right uib-close</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">close($event)</span><span class="s3">\&quot;</span><span class="s2">&gt;{{ getText('close') }}&lt;/button&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/ul&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/modal/window.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/modal/window.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">modal-dialog {{size ? 'modal-' + size : ''}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">modal-content</span><span class="s3">\&quot;</span><span class="s2"> uib-modal-transclude&gt;&lt;/div&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/pager/pager.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/pager/pager.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;li ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noPrevious()||ngDisabled, previous: align}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(page - 1, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noPrevious()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('previous')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;li ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noNext()||ngDisabled, next: align}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(page + 1, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noNext()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('next')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/pagination/pagination.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/pagination/pagination.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;li role=</span><span class="s3">\&quot;</span><span class="s2">menuitem</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">::boundaryLinks</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noPrevious()||ngDisabled}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">pagination-first</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(1, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noPrevious()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('first')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;li role=</span><span class="s3">\&quot;</span><span class="s2">menuitem</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">::directionLinks</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noPrevious()||ngDisabled}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">pagination-prev</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(page - 1, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noPrevious()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('previous')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;li role=</span><span class="s3">\&quot;</span><span class="s2">menuitem</span><span class="s3">\&quot;</span><span class="s2"> ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">page in pages track by $index</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{active: page.active,disabled: ngDisabled&amp;&amp;!page.active}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">pagination-page</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(page.number, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">ngDisabled&amp;&amp;!page.active</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{page.text}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;li role=</span><span class="s3">\&quot;</span><span class="s2">menuitem</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">::directionLinks</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noNext()||ngDisabled}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">pagination-next</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(page + 1, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noNext()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('next')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;li role=</span><span class="s3">\&quot;</span><span class="s2">menuitem</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">::boundaryLinks</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noNext()||ngDisabled}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">pagination-last</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectPage(totalPages, $event)</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noNext()||ngDisabled</span><span class="s3">\&quot;</span><span class="s2"> uib-tabindex-toggle&gt;{{::getText('last')}}&lt;/a&gt;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/tooltip/tooltip-html-popup.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/tooltip/tooltip-html-popup.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-inner</span><span class="s3">\&quot;</span><span class="s2"> ng-bind-html=</span><span class="s3">\&quot;</span><span class="s2">contentExp()</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/tooltip/tooltip-popup.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/tooltip/tooltip-popup.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-inner</span><span class="s3">\&quot;</span><span class="s2"> ng-bind=</span><span class="s3">\&quot;</span><span class="s2">content</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/tooltip/tooltip-template-popup.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/tooltip/tooltip-template-popup.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tooltip-inner</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  uib-tooltip-template-transclude=</span><span class="s3">\&quot;</span><span class="s2">contentExp()</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  tooltip-template-transclude-scope=</span><span class="s3">\&quot;</span><span class="s2">originScope()</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/popover/popover-html.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/popover/popover-html.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-inner</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;h3 class=</span><span class="s3">\&quot;</span><span class="s2">popover-title</span><span class="s3">\&quot;</span><span class="s2"> ng-bind=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/h3&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-content</span><span class="s3">\&quot;</span><span class="s2"> ng-bind-html=</span><span class="s3">\&quot;</span><span class="s2">contentExp()</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/popover/popover-template.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/popover/popover-template.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-inner</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;h3 class=</span><span class="s3">\&quot;</span><span class="s2">popover-title</span><span class="s3">\&quot;</span><span class="s2"> ng-bind=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/h3&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-content</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      uib-tooltip-template-transclude=</span><span class="s3">\&quot;</span><span class="s2">contentExp()</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      tooltip-template-transclude-scope=</span><span class="s3">\&quot;</span><span class="s2">originScope()</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/popover/popover.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/popover/popover.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">arrow</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-inner</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;h3 class=</span><span class="s3">\&quot;</span><span class="s2">popover-title</span><span class="s3">\&quot;</span><span class="s2"> ng-bind=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2"> ng-if=</span><span class="s3">\&quot;</span><span class="s2">uibTitle</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/h3&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">popover-content</span><span class="s3">\&quot;</span><span class="s2"> ng-bind=</span><span class="s3">\&quot;</span><span class="s2">content</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/progressbar/bar.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/progressbar/bar.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">progress-bar</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">type &amp;&amp; 'progress-bar-' + type</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">progressbar</span><span class="s3">\&quot;</span><span class="s2"> aria-valuenow=</span><span class="s3">\&quot;</span><span class="s2">{{value}}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemin=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemax=</span><span class="s3">\&quot;</span><span class="s2">{{max}}</span><span class="s3">\&quot;</span><span class="s2"> ng-style=</span><span class="s3">\&quot;</span><span class="s2">{width: (percent &lt; 100 ? percent : 100) + '%'}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuetext=</span><span class="s3">\&quot;</span><span class="s2">{{percent | number:0}}%</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::title}}</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/progressbar/progress.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/progressbar/progress.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">progress</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::title}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/progressbar/progressbar.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/progressbar/progressbar.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div class=</span><span class="s3">\&quot;</span><span class="s2">progress</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">progress-bar</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">type &amp;&amp; 'progress-bar-' + type</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">progressbar</span><span class="s3">\&quot;</span><span class="s2"> aria-valuenow=</span><span class="s3">\&quot;</span><span class="s2">{{value}}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemin=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemax=</span><span class="s3">\&quot;</span><span class="s2">{{max}}</span><span class="s3">\&quot;</span><span class="s2"> ng-style=</span><span class="s3">\&quot;</span><span class="s2">{width: (percent &lt; 100 ? percent : 100) + '%'}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuetext=</span><span class="s3">\&quot;</span><span class="s2">{{percent | number:0}}%</span><span class="s3">\&quot;</span><span class="s2"> aria-labelledby=</span><span class="s3">\&quot;</span><span class="s2">{{::title}}</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/rating/rating.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/rating/rating.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;span ng-mouseleave=</span><span class="s3">\&quot;</span><span class="s2">reset()</span><span class="s3">\&quot;</span><span class="s2"> ng-keydown=</span><span class="s3">\&quot;</span><span class="s2">onKeydown($event)</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">slider</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemin=</span><span class="s3">\&quot;</span><span class="s2">0</span><span class="s3">\&quot;</span><span class="s2"> aria-valuemax=</span><span class="s3">\&quot;</span><span class="s2">{{range.length}}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuenow=</span><span class="s3">\&quot;</span><span class="s2">{{value}}</span><span class="s3">\&quot;</span><span class="s2"> aria-valuetext=</span><span class="s3">\&quot;</span><span class="s2">{{title}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;span ng-repeat-start=</span><span class="s3">\&quot;</span><span class="s2">r in range track by $index</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">sr-only</span><span class="s3">\&quot;</span><span class="s2">&gt;({{ $index &lt; value ? '*' : ' ' }})&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;i ng-repeat-end ng-mouseenter=</span><span class="s3">\&quot;</span><span class="s2">enter($index + 1)</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">rate($index + 1)</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">$index &lt; value &amp;&amp; (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')</span><span class="s3">\&quot;</span><span class="s2"> ng-attr-title=</span><span class="s3">\&quot;</span><span class="s2">{{r.title}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/i&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/span&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/tabs/tab.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/tabs/tab.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;li ng-class=</span><span class="s3">\&quot;</span><span class="s2">[{active: active, disabled: disabled}, classes]</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-tab nav-item</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;a href ng-click=</span><span class="s3">\&quot;</span><span class="s2">select($event)</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">nav-link</span><span class="s3">\&quot;</span><span class="s2"> uib-tab-heading-transclude&gt;{{heading}}&lt;/a&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/tabs/tabset.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/tabs/tabset.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;ul class=</span><span class="s3">\&quot;</span><span class="s2">nav nav-{{tabset.type || 'tabs'}}</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{'nav-stacked': vertical, 'nav-justified': justified}</span><span class="s3">\&quot;</span><span class="s2"> ng-transclude&gt;&lt;/ul&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tab-content</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;div class=</span><span class="s3">\&quot;</span><span class="s2">tab-pane</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;         ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">tab in tabset.tabs</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;         ng-class=</span><span class="s3">\&quot;</span><span class="s2">{active: tabset.active === tab.index}</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;         uib-tab-content-transclude=</span><span class="s3">\&quot;</span><span class="s2">tab</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/timepicker/timepicker.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/timepicker/timepicker.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;table class=</span><span class="s3">\&quot;</span><span class="s2">uib-timepicker</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr class=</span><span class="s3">\&quot;</span><span class="s2">text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">::showSpinners</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">uib-increment hours</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">incrementHours()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noIncrementHours()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementHours()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-up</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td&gt;&amp;nbsp;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">uib-increment minutes</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">incrementMinutes()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noIncrementMinutes()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementMinutes()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-up</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2">&gt;&amp;nbsp;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-increment seconds</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">incrementSeconds()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noIncrementSeconds()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementSeconds()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-up</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showMeridian</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">form-group uib-time hours</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{'has-error': invalidHours}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;input type=</span><span class="s3">\&quot;</span><span class="s2">text</span><span class="s3">\&quot;</span><span class="s2"> placeholder=</span><span class="s3">\&quot;</span><span class="s2">HH</span><span class="s3">\&quot;</span><span class="s2"> ng-model=</span><span class="s3">\&quot;</span><span class="s2">hours</span><span class="s3">\&quot;</span><span class="s2"> ng-change=</span><span class="s3">\&quot;</span><span class="s2">updateHours()</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">form-control text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-readonly=</span><span class="s3">\&quot;</span><span class="s2">::readonlyInput</span><span class="s3">\&quot;</span><span class="s2"> maxlength=</span><span class="s3">\&quot;</span><span class="s2">2</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">{{::tabindex}}</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementHours()</span><span class="s3">\&quot;</span><span class="s2"> ng-blur=</span><span class="s3">\&quot;</span><span class="s2">blur()</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">uib-separator</span><span class="s3">\&quot;</span><span class="s2">&gt;:&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">form-group uib-time minutes</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{'has-error': invalidMinutes}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;input type=</span><span class="s3">\&quot;</span><span class="s2">text</span><span class="s3">\&quot;</span><span class="s2"> placeholder=</span><span class="s3">\&quot;</span><span class="s2">MM</span><span class="s3">\&quot;</span><span class="s2"> ng-model=</span><span class="s3">\&quot;</span><span class="s2">minutes</span><span class="s3">\&quot;</span><span class="s2"> ng-change=</span><span class="s3">\&quot;</span><span class="s2">updateMinutes()</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">form-control text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-readonly=</span><span class="s3">\&quot;</span><span class="s2">::readonlyInput</span><span class="s3">\&quot;</span><span class="s2"> maxlength=</span><span class="s3">\&quot;</span><span class="s2">2</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">{{::tabindex}}</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementMinutes()</span><span class="s3">\&quot;</span><span class="s2"> ng-blur=</span><span class="s3">\&quot;</span><span class="s2">blur()</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-separator</span><span class="s3">\&quot;</span><span class="s2">&gt;:&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">form-group uib-time seconds</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{'has-error': invalidSeconds}</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;input type=</span><span class="s3">\&quot;</span><span class="s2">text</span><span class="s3">\&quot;</span><span class="s2"> placeholder=</span><span class="s3">\&quot;</span><span class="s2">SS</span><span class="s3">\&quot;</span><span class="s2"> ng-model=</span><span class="s3">\&quot;</span><span class="s2">seconds</span><span class="s3">\&quot;</span><span class="s2"> ng-change=</span><span class="s3">\&quot;</span><span class="s2">updateSeconds()</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">form-control text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-readonly=</span><span class="s3">\&quot;</span><span class="s2">readonlyInput</span><span class="s3">\&quot;</span><span class="s2"> maxlength=</span><span class="s3">\&quot;</span><span class="s2">2</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">{{::tabindex}}</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noIncrementSeconds()</span><span class="s3">\&quot;</span><span class="s2"> ng-blur=</span><span class="s3">\&quot;</span><span class="s2">blur()</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showMeridian</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-time am-pm</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;button type=</span><span class="s3">\&quot;</span><span class="s2">button</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noToggleMeridian()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-default text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">toggleMeridian()</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noToggleMeridian()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">{{::tabindex}}</span><span class="s3">\&quot;</span><span class="s2">&gt;{{meridian}}&lt;/button&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;tr class=</span><span class="s3">\&quot;</span><span class="s2">text-center</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">::showSpinners</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">uib-decrement hours</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">decrementHours()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noDecrementHours()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noDecrementHours()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-down</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td&gt;&amp;nbsp;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td class=</span><span class="s3">\&quot;</span><span class="s2">uib-decrement minutes</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">decrementMinutes()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noDecrementMinutes()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noDecrementMinutes()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-down</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2">&gt;&amp;nbsp;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showSeconds</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">uib-decrement seconds</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;a ng-click=</span><span class="s3">\&quot;</span><span class="s2">decrementSeconds()</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{disabled: noDecrementSeconds()}</span><span class="s3">\&quot;</span><span class="s2"> class=</span><span class="s3">\&quot;</span><span class="s2">btn btn-link</span><span class="s3">\&quot;</span><span class="s2"> ng-disabled=</span><span class="s3">\&quot;</span><span class="s2">noDecrementSeconds()</span><span class="s3">\&quot;</span><span class="s2"> tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;span class=</span><span class="s3">\&quot;</span><span class="s2">glyphicon glyphicon-chevron-down</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;      &lt;td ng-show=</span><span class="s3">\&quot;</span><span class="s2">showMeridian</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/td&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/tr&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;  &lt;/tbody&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/table&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/typeahead/typeahead-match.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/typeahead/typeahead-match.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;a href</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;   tabindex=</span><span class="s3">\&quot;</span><span class="s2">-1</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;   ng-bind-html=</span><span class="s3">\&quot;</span><span class="s2">match.label | uibTypeaheadHighlight:query</span><span class="s3">\&quot;\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;   ng-attr-title=</span><span class="s3">\&quot;</span><span class="s2">{{match.label}}</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/a&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
 
angular.module(</span><span class="s2">&quot;uib/template/typeahead/typeahead-popup.html&quot;</span><span class="s3">, </span><span class="s1">[]).run([</span><span class="s2">&quot;$templateCache&quot;</span><span class="s3">, </span><span class="s4">function</span><span class="s1">($templateCache) { 
  $templateCache.put(</span><span class="s2">&quot;uib/template/typeahead/typeahead-popup.html&quot;</span><span class="s3">,</span><span class="s1"> 
    </span><span class="s2">&quot;&lt;ul class=</span><span class="s3">\&quot;</span><span class="s2">dropdown-menu</span><span class="s3">\&quot;</span><span class="s2"> ng-show=</span><span class="s3">\&quot;</span><span class="s2">isOpen() &amp;&amp; !moveInProgress</span><span class="s3">\&quot;</span><span class="s2"> ng-style=</span><span class="s3">\&quot;</span><span class="s2">{top: position().top+'px', left: position().left+'px'}</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">listbox</span><span class="s3">\&quot;</span><span class="s2"> aria-hidden=</span><span class="s3">\&quot;</span><span class="s2">{{!isOpen()}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;li class=</span><span class="s3">\&quot;</span><span class="s2">uib-typeahead-match</span><span class="s3">\&quot;</span><span class="s2"> ng-repeat=</span><span class="s3">\&quot;</span><span class="s2">match in matches track by $index</span><span class="s3">\&quot;</span><span class="s2"> ng-class=</span><span class="s3">\&quot;</span><span class="s2">{active: isActive($index) }</span><span class="s3">\&quot;</span><span class="s2"> ng-mouseenter=</span><span class="s3">\&quot;</span><span class="s2">selectActive($index)</span><span class="s3">\&quot;</span><span class="s2"> ng-click=</span><span class="s3">\&quot;</span><span class="s2">selectMatch($index, $event)</span><span class="s3">\&quot;</span><span class="s2"> role=</span><span class="s3">\&quot;</span><span class="s2">option</span><span class="s3">\&quot;</span><span class="s2"> id=</span><span class="s3">\&quot;</span><span class="s2">{{::match.id}}</span><span class="s3">\&quot;</span><span class="s2">&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;        &lt;div uib-typeahead-match index=</span><span class="s3">\&quot;</span><span class="s2">$index</span><span class="s3">\&quot;</span><span class="s2"> match=</span><span class="s3">\&quot;</span><span class="s2">match</span><span class="s3">\&quot;</span><span class="s2"> query=</span><span class="s3">\&quot;</span><span class="s2">query</span><span class="s3">\&quot;</span><span class="s2"> template-url=</span><span class="s3">\&quot;</span><span class="s2">templateUrl</span><span class="s3">\&quot;</span><span class="s2">&gt;&lt;/div&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;    &lt;/li&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&lt;/ul&gt;</span><span class="s3">\n</span><span class="s2">&quot; </span><span class="s1">+ 
    </span><span class="s2">&quot;&quot;</span><span class="s1">)</span><span class="s3">;</span><span class="s1"> 
}])</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.carousel'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibCarouselCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibCarouselCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.datepicker'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibDatepickerCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibDatepickerCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.position'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibPositionCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibPositionCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.datepickerPopup'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibDatepickerpopupCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibDatepickerpopupCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.tooltip'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibTooltipCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;[uib-tooltip-popup].tooltip.top-left &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top &gt; .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top &gt; .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top &gt; .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom &gt; .tooltip-arrow,[uib-popover-popup].popover.top-left &gt; .arrow,[uib-popover-popup].popover.top-right &gt; .arrow,[uib-popover-popup].popover.bottom-left &gt; .arrow,[uib-popover-popup].popover.bottom-right &gt; .arrow,[uib-popover-popup].popover.left-top &gt; .arrow,[uib-popover-popup].popover.left-bottom &gt; .arrow,[uib-popover-popup].popover.right-top &gt; .arrow,[uib-popover-popup].popover.right-bottom &gt; .arrow,[uib-popover-html-popup].popover.top-left &gt; .arrow,[uib-popover-html-popup].popover.top-right &gt; .arrow,[uib-popover-html-popup].popover.bottom-left &gt; .arrow,[uib-popover-html-popup].popover.bottom-right &gt; .arrow,[uib-popover-html-popup].popover.left-top &gt; .arrow,[uib-popover-html-popup].popover.left-bottom &gt; .arrow,[uib-popover-html-popup].popover.right-top &gt; .arrow,[uib-popover-html-popup].popover.right-bottom &gt; .arrow,[uib-popover-template-popup].popover.top-left &gt; .arrow,[uib-popover-template-popup].popover.top-right &gt; .arrow,[uib-popover-template-popup].popover.bottom-left &gt; .arrow,[uib-popover-template-popup].popover.bottom-right &gt; .arrow,[uib-popover-template-popup].popover.left-top &gt; .arrow,[uib-popover-template-popup].popover.left-bottom &gt; .arrow,[uib-popover-template-popup].popover.right-top &gt; .arrow,[uib-popover-template-popup].popover.right-bottom &gt; .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibTooltipCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.timepicker'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibTimepickerCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;.uib-time input{width:50px;}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibTimepickerCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span><span class="s1"> 
angular.module(</span><span class="s2">'ui.bootstrap.typeahead'</span><span class="s1">).run(</span><span class="s4">function</span><span class="s1">() {!angular.$$csp().noInlineStyle &amp;&amp; !angular.$$uibTypeaheadCss &amp;&amp; angular.element(document).find(</span><span class="s2">'head'</span><span class="s1">).prepend(</span><span class="s2">'&lt;style type=&quot;text/css&quot;&gt;[uib-typeahead-popup].dropdown-menu{display:block;}&lt;/style&gt;'</span><span class="s1">)</span><span class="s3">; </span><span class="s1">angular.$$uibTypeaheadCss = </span><span class="s4">true</span><span class="s3">; </span><span class="s1">})</span><span class="s3">;</span></pre>
</body>
</html>